{"version":3,"file":"js/193-legacy.25dd05a6.js","mappings":"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","sources":["webpack://agents/./src/components/directed/Visu.vue?33a9","webpack://agents/src/components/directed/Visu.vue","webpack://agents/./src/components/directed/Visu.vue?2c1d","webpack://agents/./src/components/directed/Visu.vue","webpack://agents/./node_modules/core-js/internals/string-trim-forced.js","webpack://agents/./node_modules/core-js/internals/string-trim.js","webpack://agents/./node_modules/core-js/internals/whitespaces.js","webpack://agents/./node_modules/core-js/modules/es.array.filter.js","webpack://agents/./node_modules/core-js/modules/es.array.find.js","webpack://agents/./node_modules/core-js/modules/es.array.join.js","webpack://agents/./node_modules/core-js/modules/es.string.trim.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.paths.length>0)?_c('div',[_vm._v(\"Exploring \"+_vm._s(_vm.paths.length)+\" paths. \")]):_vm._e(),_c('CommandInput'),(_vm.navigation == 'preview' && _vm.currentNode != null)?_c('Node'):_vm._e(),_c('Graph',{attrs:{\"nodes\":_vm.nodes,\"links\":_vm.links,\"graphNeedUpdate\":_vm.graphNeedUpdate},on:{\"update\":function($event){_vm.graphNeedUpdate = $event;}}}),_vm._v(\" \"+_vm._s(_vm.pod)+\" \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n\n    <div v-if=\"paths.length>0\">Exploring {{ paths.length }} paths.\n      <!-- <div v-if=\"paths.length <3\"> {{ paths}}</div> -->\n    </div>\n    <CommandInput />\n    <Node v-if=\"navigation == 'preview' && currentNode != null\" />\n    <Graph :nodes=\"nodes\" :links=\"links\" :graphNeedUpdate=\"graphNeedUpdate\" @update=\"graphNeedUpdate = $event;\" />\n\n    {{ pod }}\n    <!-- <Comunica /> -->\n    <!-- <Hello /> -->\n  </div>\n</template>\n\n<script>\n// import externalComponent from '@/utils/external-component';\n//\n// const Hello = () => externalComponent('https://components.solidcommunity.net/public/hello/Hello.bdd71b8bbb487af4de05.umd.min.js');\n\n// import { v4 as uuidv4 } from 'uuid';\nexport default {\n  name: \"Visu\",\n  components: {\n    // 'ThreeScene': () => import('@/components/three/ThreeScene'),\n    'Graph': () => import('@/components/directed/Graph'),\n    // 'Comunica': () => import('@/components/dev/Comunica'),\n    'CommandInput': () => import('@/components/directed/CommandInput'),\n    'Node': () => import('@/components/ui/Node'),\n\n    // Hello\n    // HelloWorld\n  },\n  data(){\n    return{\n      //  nodes: [],\n      links: [],\n      paths: [],\n      jump: 0,\n      graphNeedUpdate : false\n\n    }\n  },\n  mounted(){\n    console.log(\"MUST TAKE A LOOK AT COMMUNICA !\")\n    this.showWorlds()\n  },\n  methods: {\n    async explore2(path){\n      console.log(path)\n\n    },\n    onInputObjectChange(data){\n      console.log(\"onCommand\",data)\n      let nodeSubject, nodeObject, edge\n      switch (data.type) {\n        case 'triplet':\n        nodeSubject = this.nodeFromLabel(data.value.subject)\n        this.saveNode(nodeSubject)\n        nodeObject = this.nodeFromLabel(data.value.object)\n        this.saveNode(nodeObject)\n        console.log(nodeSubject.id, nodeObject.id)\n        edge = this.edgeFromLabel({source: nodeSubject.id, target: nodeObject.id, label: data.value.predicate})\n        console.log(edge)\n        this.saveEdge(edge)\n        data.triple = {subject: nodeSubject, edge: edge, object: nodeObject}\n        this.$saveToGun(data)\n        break;\n        case 'url':\n        console.log(data)\n        break;\n        default:\n        console.log(\"TODO\",data)\n      }\n    },\n    saveNode(n){\n      var index = this.nodes.findIndex(x => x.id==n.id);\n      index === -1 ? this.nodes.push(n) : Object.assign(this.nodes[index], n)\n      this.sendUpdate(n)\n    },\n    saveEdge(e){\n      console.log(e)\n      console.log(this.links)\n      this.links.push(e)\n      //  var index = this.links.findIndex(x => x.id==e.id);\n      //index === -1 ? this.links.push(e) : Object.assign(this.links[index], e)\n      console.log(this.nodes, this.links)\n      this.sendUpdate(e)\n    },\n    // nodeFromLabelVis(label) {\n    //   return {id: \"#\"+label.trim().split(' ').join('_'),\n    //   label: label,\n    //   color: {  background: '#D2E5FF', border: '#2B7CE9'},\n    //   shape: 'ellipse'}\n    // },\n    nodeFromLabel(label) {\n      let id = \"#\"+label.trim().split(' ').join('_')\n      return {id: id , name: label,   age: 0,\n        type: \"neurone\"/*, color: \"#D2E5FF\"*//*, type: \"storage\"*/}\n      },\n      edgeFromLabel(data){\n        console.log(data)\n        return { source: data.source, target: data.target, label: data.label}\n      },\n      // edgeFromLabelVis(data){\n      //   return { from: data.from, to: data.to, label: data.label}\n      // },\n      async sendUpdate(p){\n        console.log(p)\n        //  console.log(this.url)\n        //  console.log(this.network)\n        console.log(\"le json\", this.json)\n\n\n        // if(this.json != undefined && this.json[\"@context\"] != \"https://data.virtual-assembly.org/context.json\"){\n        //   console.log(\"TODO must send only if different \")\n        //   let identiques = this.arraysEqual(this.json.nodes, this.network.nodes) && this.arraysEqual(this.json.edges, this.network.edges)\n        //   console.log(\"identiques\",identiques)\n        //   if (identiques == false && this.url != undefined){\n        //     this.json.nodes = this.network.nodes\n        //     this.json.edges = this.network.edges\n        //     this.json.modified = new Date()\n        //     console.log(this.json)\n        //\n        //     await fc.createFile( this.json.url, JSON.stringify(this.json), \"application/ld+json\" ).then(\n        //       f => {\n        //         console.log(f)\n        //       });\n        //     }\n        //   }\n\n      },\n      async exploreFriends(pod){\n        let app = this\n        app.jump ++\n\n        pod.friends.forEach(async function(f){\n          console.log(f)\n          try{\n            if (f.webId != undefined){\n              let friendNode = {url: f.webId, name: f.webId, type: \"friend\", color: \"#00ff00\", webId: f.webId}\n              console.log(friendNode)\n              let p = await app.$getPodInfos(friendNode)\n              console.log(p)\n              let exist = app.nodes.find(x => x.url == friendNode.url)\n              console.log(\"exist\", exist)\n              exist == undefined ? app.nodes.push(friendNode) : \"\"\n              // app.nodes.push(friendNode)\n              app.links.push({source: pod.webId, target: f.webId, label: \"friend\"})\n              let storageNode = {url: p.storage, name: \"storage\", color: \"#ffff00\", type: \"storage\"}\n              app.nodes.push(storageNode)\n              app.links.push({source: f.webId, target: p.storage, label: \"storage\"})\n              console.log(app.jump)\n            }{\n              console.log(\"webId undefined\", f.webId)\n            }\n            // if (app.jump <4){\n            //   app.exploreFriends(p)\n            // }\n          }catch(e){\n            console.log(e)\n          }\n          //   try{\n          //   let friendNode = {url: f.webId, name: f.webId, type: \"friend\", color: \"#00ff00\", webId: f.webId}\n          //   app.nodes.push(friendNode)\n          //   app.links.push({source: pod.webId, target: f.webId, label: \"friend\"})\n          //\n          //\n          //   let p = await app.$getPodInfos(friendNode)\n          //   console.log(p)\n          //   let storageNode = {url: p.storage, name: \"storage\", color: \"#ffff00\", type: \"storage\"}\n          //   app.nodes.push(storageNode)\n          //   app.links.push({source: f.webId, target: p.storage, label: \"storage\"})\n          //   //   app.explore(p.storage)\n          //\n          //   if (app.jump <7){\n          //     app.exploreFriends(p)\n          //\n          //\n          //   }\n          // }catch(e){\n          //   console.log(e)\n          // }\n\n\n\n\n          // let f_pod = {webId: f}\n          // console.log(f)\n          // let pod = await app.$getPodInfos(f_pod)\n          // console.log(\"Friend\", pod)\n        })\n      },\n      async explore(path){\n        console.log(path)\n        if (path.endsWith('card#me')){\n          let p = await this.$getPodInfos({webId: path})\n          path = p.storage\n          this.exploreFriends(p)\n        }\n        let app = this\n        let resources = await this.$getResources(path)\n        if (resources.compacted != undefined){\n          this.processJsonld(resources)\n        }else{\n          resources.forEach(async function(r){\n\n            if(r.type == \"file\"){\n              console.log(\"on entre ici\", r)\n              await app.$getResource(r)\n              let compacted = await app.$getJsonLd(r.url)\n              console.log(compacted)\n            }\n            console.log(r)\n            app.nodes.push(r)\n            app.links.push({source: path, target: r.url})\n            // if (r.url.endsWith('/')){\n            // if (resources.length < 20){\n            //   console.log(\"on continue ici, mais c'est pas propre, juste pour attraper le jsonld\",r.url)\n            //   app.explore(r.url)\n            // }\n\n            // }\n\n          })\n        }\n      },\n      processJsonld(data){\n        // let compacted = data.compacted\n        let url = `${data.compacted.url}`\n        //  console.log(url)\n        let index = -1\n        for (let i = 0; i < this.nodes.length; i++){\n          let n = this.nodes[i]\n          //  console.log(n)\n          //  console.log(i, n.url, n.url == url)\n          if (n.url == url){\n            index = i\n            //  console.log(\" trouv index\", index)\n            Object.assign(this.nodes[index], data.compacted)\n            this.graphNeedUpdate = true\n            // return\n            //return it does not work if i return\n          }\n        }\n\n        // FINDINDEX NOT WORK, why ?\n        // var index = this.nodes.findIndex((x) => x.url === url);\n        // console.log(\"index\", index)\n        // let node = this.nodes.find(x => x.url === url)\n        // node.name = compacted.name\n        // node.age = compacted.age\n        //\n        // console.log(\"Compacted\", compacted, Array.isArray(compacted.properties))\n        // for (const [key, val] of Object.entries(compacted)){\n        //   console.log(key, \"->\", typeof val, val)\n        // }\n        // console.log(node)\n        // console.log(this.nodes)\n\n\n\n      },\n\n      async explore1(path){\n        this.paths.push(path)\n        //  console.log(\"explore\", path)\n        let resources = await this.$getResources(path)\n        console.log(resources)\n        let app = this\n        resources.forEach(function(r){\n          if (r.type == \"folder\"){\n            app.explore(r.url)\n          }else if(r.url.endsWith('.jsonld') || r.file.type == \"application/ld+json\"){\n            r.color = \"#ffff00\"\n            const reader = new FileReader();\n            reader.onload = async () => {\n              //  console.log(reader.result)\n              r.jsonld = JSON.parse(reader.result)\n              r.name = r.jsonld[\"name\"]\n              console.log(\"jsonld\",r.jsonld['properties'])\n              for (const p of r.jsonld['properties']){\n                console.log(p)\n                for (const v of p.values){\n                  console.log(v)\n                }\n\n              }\n              // if (getContentType(file) == 'application+json'){\n              //   content = JSON.parse(reader.result);\n              // }\n              // console.log(\"content\",content)\n              // store.commit('bureau/setContent',content)\n            };\n            reader.onerror = (error) => {\n              console.log(error);\n            };\n            reader.readAsText(r.file);\n\n\n          }else if(r.url.endsWith('.ttl')){\n            r.color = \"#00ff00\"\n          }\n          if(r.name == \"inbox\"){\n            r.color = \"#ffffff\"\n          }\n          app.nodes.push(r)\n          app.links.push({source: path, target: r.url})\n\n        })\n        this.paths = this.paths.filter(e => e !== path);\n      },\n      showWorlds(){\n        console.log(this.worlds)\n\n        this.savedWorld = {nodes: this.nodes, links: this.links}\n        this.nodes = []\n        this.links = []\n        Object.assign(this.nodes, this.worlds)\n        this.nodes.push({id:\"worlds\", name: \"Worlds\", color: \"#ffff00\", type: \"univers\"})\n        this.worlds.forEach((w) => {\n          let exist = this.nodes.find(x => x.id === w.status)\n          // console.log(\"exist ? \", exist)\n          let color = w.status == \"enabled\" ? \"#00ff00\" : \"#ff0000\"\n          exist ==  undefined ? this.nodes.push({id:w.status, name: w.status, color: color, type: \"status\"}) : \"\"\n          this.links.push({source: w.id, target: w.status, label: \"status\"})\n          this.links.push({source: \"worlds\", target: w.status, })\n        });\n\n\n      }\n    },\n    watch:{\n      async pod(){\n        if (this.pod != null){\n          console.log(this.pod)\n          //  let app = this\n          let storageNode = {url: this.pod.storage, name: \"storage\", color: \"#ffff00\", type: \"storage\"}\n          this.nodes.push(storageNode)\n          let webIdNode = {url: this.pod.webId, name: this.pod.name || this.pod.webId, color: \"#ff0000\", type: \"webId\"}\n          this.nodes.push(webIdNode)\n          this.links.push({source: this.pod.webId, target: this.pod.storage, label: \"storage\"})\n          this.explore(this.pod.storage)\n          this.exploreFriends(this.pod)\n        }else{\n          this.nodes = []\n          this.links = []\n        }\n\n      },\n      mustExplore(){\n        if(this.mustExplore != null){\n          console.log(\"mustExplore\", this.mustExplore)\n          let exist = this.nodes.find(x => x.url = this.mustExplore)\n          let url = this.mustExplore\n          console.log(\"exist ? \", exist)\n          exist ==  undefined ? this.nodes.push({id: url, url:url, name: url, color: \"#ff00ff\", type: \"storage\"}) : \"\"\n          this.explore(this.mustExplore)\n        }\n      },\n      inputObject(){\n        this.onInputObjectChange(this.inputObject)\n      },\n      worlds(){\n        this.showWorlds()\n      }\n      // nodes(){\n      //   console.log(\"visu nodes\", this.nodes)\n      //   // this.nodes.forEach((node) => {\n      //   //   console.log(node.id, node.name, node.url)\n      //   // });\n      // },\n      // edges(){\n      //   console.log(\"visu edges\", this.edges)\n      //   // this.nodes.forEach((node) => {\n      //   //   console.log(node.id, node.name, node.url)\n      //   // });\n      // }\n    },\n    computed:{\n      pod:{\n        get () { return this.$store.state.solid.pod },\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n      mustExplore:{\n        get () { return this.$store.state.app.mustExplore },\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n      inputObject: {\n        get () { return this.$store.state.app.inputObject},\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n      nodes:{\n        get () { return this.$store.state.nodes.nodes },\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n      worlds:{\n        get () { return this.$store.state.app.worlds },\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n      navigation:{\n        get () { return this.$store.state.app.navigation },\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      },\n      currentNode:{\n        get () { return this.$store.state.app.currentNode },\n        set (/*value*/) { /*this.updateTodo(value)*/ }\n      }\n    }\n  }\n  </script>\n\n  <style>\n\n  </style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Visu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Visu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Visu.vue?vue&type=template&id=4f48f3a4&\"\nimport script from \"./Visu.vue?vue&type=script&lang=js&\"\nexport * from \"./Visu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","paths","length","_v","_s","_e","navigation","currentNode","attrs","nodes","links","graphNeedUpdate","on","$event","pod","staticRenderFns","name","components","data","jump","mounted","console","log","showWorlds","methods","path","onInputObjectChange","type","nodeSubject","nodeObject","edge","source","target","label","subject","object","saveNode","n","index","findIndex","push","Object","assign","sendUpdate","saveEdge","e","nodeFromLabel","id","age","p","app","f","friendNode","url","color","webId","exist","storageNode","resources","r","compacted","reader","v","watch","webIdNode","computed","mustExplore","inputObject","worlds","component","PROPER_FUNCTION_NAME","fails","whitespaces","non","module","exports","METHOD_NAME","uncurryThis","requireObjectCoercible","toString","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","trim","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","filter","callbackfn","arguments","undefined","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","find","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","join","ES3_STRINGS","STRICT_METHOD","separator","$trim","forcedStringTrimMethod"],"sourceRoot":""}