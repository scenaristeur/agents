"use strict";(self["webpackChunkagents"]=self["webpackChunkagents"]||[]).push([[297],{8297:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{ref:"guiDiv",staticStyle:{position:"absolute",top:"500",left:"200","z-index":"2"}}),r("div",{ref:"guiProps",staticStyle:{position:"absolute",top:"200",left:"100","z-index":"2"}}),r("b-modal",{attrs:{id:"modal-field",title:"New Field"},on:{ok:e.addField}},[null!=e.field?r("b-form-input",{attrs:{placeholder:"new property / link"},model:{value:e.field.name,callback:function(t){e.$set(e.field,"name",t)},expression:"field.name"}}):e._e()],1),r("b-modal",{attrs:{id:"modal-brain",title:"Brain",size:"lg"}},[e._v(" Current World : "+e._s(e.world)+" "),r("b-form-input",{attrs:{placeholder:"Enter the brain name"},model:{value:e.brainName,callback:function(t){e.brainName=t},expression:"brainName"}}),r("b-form-radio-group",{attrs:{label:"New Brain privacy"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.ariaDescribedby;return[r("b-form-radio",{attrs:{"aria-describedby":i,name:"privacy",value:"public"},model:{value:e.privacy,callback:function(t){e.privacy=t},expression:"privacy"}},[e._v("Public")]),r("b-form-radio",{attrs:{"aria-describedby":i,name:"privacy",value:"user"},model:{value:e.privacy,callback:function(t){e.privacy=t},expression:"privacy"}},[e._v("User")])]}}])}),r("b-button",{attrs:{variant:"primary"},on:{click:e.newBrain}},[e._v("New Brain")]),r("b-list-group",{staticStyle:{height:"200px","overflow-y":"scroll"}},[e._l(e.brains,(function(t){return r("b-list-group-item",{key:t.id,attrs:{button:""},on:{click:function(r){return e.switchBrain(t)}}},[e._v(" "+e._s(t.name)+" ")])})),r("div",{staticClass:"accordion",attrs:{role:"tablist"}},[e._l(Object.entries(e.brains),(function(t){var i=t[0],a=t[1];return r("b-card",{key:i,staticClass:"mb-1",attrs:{"no-body":""}},[r("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[e._v(e._s(i))])],1),r("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[r("b-card-body",[e._v(" User : "),r("ul",e._l(a.user,(function(t){return r("li",{key:t["_"]["#"]},[r("b-button",{attrs:{size:"sm"}},[e._v(" "+e._s(t.name))])],1)})),0),e._v(" Public : "),e._l(a.public,(function(t){return r("div",{key:t["_"]["#"]},[r("b-button",{attrs:{variant:"light",size:"sm"}},[e._v(" "+e._s(t.name))]),e._v(" "),r("small",[e._v("creation: "+e._s(t.created)+", author: public, number of nodes")])],1)})),r("small",[e._v("mtodo : make a sort table")])],2)],1)],1)})),r("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[r("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[e._v("Accordion 2")])],1),r("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[r("b-card-body",[r("b-card-text",[e._v(" text ")])],1)],1)],1),r("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[r("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"}},[e._v("Accordion 3")])],1),r("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[r("b-card-body",[r("b-card-text",[e._v(" text ")])],1)],1)],1)],2),e._v(" brains "+e._s(e.brains)+" ")],2)],1),r("b-modal",{attrs:{id:"modal-properties",title:"Properties"}}),r("b-modal",{attrs:{id:"modal-links",title:"Links"}})],1)},a=[],o=r(4376),s=r(9477),n=r(7197),d={name:"Ui",props:["Graph","nodes"],data(){return{brain:null,brainName:"",field:null,clearing:!1,fieldType:"text",show:!1,currentProp:{},newValue:null,link:{},permissions:null,privacy:"public"}},mounted(){let e=this.$refs.guiDiv;this.gui=new o.GUI({autoPlace:!1}),e.appendChild(this.gui.domElement),this.buildGuiTools()},methods:{updateNodeFolder(){null!=this.nodeFolder&&this.gui.removeFolder(this.nodeFolder);var e={openProperties:this.openProperties,openLinks:this.openLinks};this.nodeFolder=this.gui.addFolder("Node"),console.log(this.currentNode),void 0==this.currentNode.age&&(this.currentNode.age=0),void 0==this.currentNode.privacy&&(this.currentNode.privacy=""),this.nodeFolder.add(this.currentNode,"name"),this.nodeFolder.add(this.currentNode,"age"),this.nodeFolder.add(this.currentNode,"privacy"),void 0!=this.currentNode.created&&this.nodeFolder.add(this.currentNode,"created"),this.nodeFolder.add(e,"openProperties").name("Properties"),this.nodeFolder.add(e,"openLinks").name("Links");let t=this;if(void 0!=this.currentNode.color){var r=this.nodeFolder.addColor(this.currentNode,"color").name("Color").listen();r.onChange((function(e){console.log("must update color value",e),t.currentNode.color=e.replace("#","0x")}))}this.nodeFolder.add(this.currentNode,"privacy"),this.nodeFolder.open()},addValue(){console.log("new value")},buildGuiNode(){var e={message:"props menu",messageLink:"Link menu",speed:.8};this.nodeFolder=this.gui.addFolder("Node");const t=this.nodeFolder.addFolder("Props"),r=this.nodeFolder.addFolder("Links");t.add(e,"message"),r.add(e,"messageLink");const i=t.addFolder("sub");i.add(e,"speed",-5,5)},buildGuiTools(){var e={openBrains:this.openBrains,newNeurone:this.newNeurone,resetCamera:this.resetCamera};const t=this.gui.addFolder("Tools");t.add(e,"openBrains").name("Brains"),t.add(e,"newNeurone").name("New neurone"),t.add(e,"resetCamera").name("Reset camera"),t.open(),this.gui.open()},buildGuiTest(){const e=new s.DvJ,t=new s.vBJ({color:65280,wireframe:!0}),r=new s.Kj0(e,t);this.Graph.scene().add(r);var i={message:"dat.gui",speed:.8,displayOutline:!1,color:"#ff0000"};const a=this.gui.addFolder("Test");a.add(r.rotation,"x",0,2*Math.PI),a.add(r.rotation,"y",0,2*Math.PI),a.add(r.rotation,"z",0,2*Math.PI),a.add(i,"message"),a.add(i,"speed",-5,5),a.add(i,"displayOutline");var o=a.addColor(i,"color").name("Color").listen();o.onChange((function(e){r.material.color.setHex(e.replace("#","0x"))}))},openProperties(){this.$bvModal.show("modal-properties")},openLinks(){this.$bvModal.show("modal-links")},newProperty(){console.log("newProperty"),this.field={name:"",category:"ve:properties"},this.$bvModal.show("modal-field")},addField(){if(console.log(this.field),0==this.clearing){let t={name:this.field.name,values:[]};void 0==this.currentNode[this.field.category]&&(this.currentNode[this.field.category]=[]);var e=this.currentNode[this.field.category].findIndex((e=>e.name==t.name));-1===e?this.currentNode[this.field.category].push(t):alert(t.name+" already exist")}console.log(this.currentNode),this.updateNodeFolder()},newLink(){console.log("newLink"),this.field={name:"",category:"links"},this.$bvModal.show("modal-field")},openBrains(){this.$bvModal.show("modal-brain")},newBrain(){this.brain=new n.am({name:this.brainName,world:this.world,privacy:this.privacy}),this.$createBrain(this.brain),this.brainName=""},switchBrain(e){console.log(e),this.$gunGet(e),this.$emit("switch-brain",e)},newNeurone(){console.log("newNeurone");let e=new n.GI({name:"name for graph_"+this.nodes.length,age:0,type:"neurone"});console.log("neurone ",e),this.nodes.push(e),console.log("should make a node autofocus")},resetCamera(){this.Graph.cameraPosition({x:0,y:0,z:40},3e3)},randomColor(){let e="#";for(let t=0;t<6;t++){const t=Math.random(),r=16*t|0;e+=r.toString(16)}return e}},watch:{currentNode(){console.log(this.currentNode),this.updateNodeFolder(this.currentNode)},world(){"gun"==this.world&&this.$bvModal.show("modal-brain")},brains(){console.log("must update",this.brains)}},computed:{currentNode:{get(){return this.$store.state.app.currentNode},set(){}},brains:{get(){return this.$store.state.app.brains},set(){}},world:{get(){return this.$store.state.app.world},set(){}}}},l=d,c=r(1001),u=(0,c.Z)(l,i,a,!1,null,null,null),h=u.exports},7197:function(e,t,r){r.d(t,{am:function(){return s},mY:function(){return d},GI:function(){return n}});var i=r(2045),a={"@context":{as:"https://www.w3.org/ns/activitystreams#",ve:"https://scenaristeur.github.io/verse#",id:"@id",type:"@type",name:"ve:name",age:"ve:age",url:"ve:url",privacy:"ve:privacy",properties:"ve:properties",links:"ve:links",synapses:"ve:synapses",created:"ve:created",updated:"ve:updated",synchronized:"ve:synchronized"},id:null,name:"",age:0,url:"",privacy:"private",type:null,properties:[],links:[],synapses:[],created:null,updated:null,synchronized:null};class o{constructor(e={}){Object.assign(this,a),this.id=(0,i.Z)(),this["type"]="base",this["created"]=Date.now(),Object.assign(this,e)}debug(){console.log(this)}}class s extends o{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="brain")}}class n extends o{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="neurone")}}class d extends o{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="command"),this.init(e.inputValue)}init(e){if(this.isValidUrl(e))this.type="url",this.value=e,this.isFile=this.isFile(e);else{let t=e.charAt(0),r="";switch(t){case"/":this.type="commande",this.value=e,this.inputNew="";break;case".":r=this.commandHistory[this.commandHistory.length-1],this.inputNew=r.s+" "+r.p+" "+r.o;break;case";":r=this.commandHistory[this.commandHistory.length-1],this.inputNew=r.s+" "+r.p+" ";break;case",":r=this.commandHistory[this.commandHistory.length-1],this.inputNew=r.s+" ";break;default:this.traiteTriplet(e)}}return this}traiteTriplet(e){var t={},r="";let i=e.slice(-1),a=e.slice(0,-1).split(" "),o=!0,s="",n=[];switch(a.forEach((function(e){e=e.trim(),e.startsWith('"')?(s="debut",n.push(e.substr(1))):e.endsWith('"')?(s="fin",n.push(n.pop()+" "+e.slice(0,-1))):"debut"==s?n.push(n.pop()+" "+e):n.push(e)})),n.length>0&&(a=n),i){case".":r="";break;case";":r=a[0].indexOf(" ")>-1?'"'+a[0]+'" ':a[0]+" ";break;case",":r=a[0].indexOf(" ")>-1?'"'+a[0]+'" ':a[0]+" ",a[1].indexOf(" ")>-1?r+='"'+a[1]+'" ':r+=a[1]+" ";break;case"-":r=a[2].indexOf(" ")>-1?'"'+a[2]+'" ':a[2]+" ";break;default:console.log("message to chat "+e),r="",o=!1}if(o){t.type="triplet";var d={};d.subject=a[0],d.predicate=a[1],d.object=a[2],t.value=d,t.inputNew=r}else t.type="message",t.value=e,t.inputNew=r;Object.assign(this,t)}isValidUrl(e){try{return new URL(e),!0}catch(t){return!1}}isFile(e){return e.split("/").pop().indexOf(".")>-1}}}}]);
//# sourceMappingURL=297.5b688810.js.map