(self["webpackChunkagents"]=self["webpackChunkagents"]||[]).push([[367],{9367:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{ref:"guiDiv",staticStyle:{position:"absolute",top:"500",left:"200","z-index":"2"}}),t("div",{ref:"guiProps",staticStyle:{position:"absolute",top:"200",left:"100","z-index":"2"}}),t("b-modal",{attrs:{id:"modal-field",title:"New Field"},on:{ok:e.addField}},[null!=e.field?t("b-form-input",{attrs:{placeholder:"new property / link"},model:{value:e.field.name,callback:function(r){e.$set(e.field,"name",r)},expression:"field.name"}}):e._e()],1),t("b-modal",{attrs:{id:"modal-brain",title:"Brain",size:"lg"}},[e._v(" Current World : "+e._s(e.world)+" "),t("b-form-input",{attrs:{placeholder:"Enter the brain name"},model:{value:e.brainName,callback:function(r){e.brainName=r},expression:"brainName"}}),t("b-form-radio-group",{attrs:{label:"New Brain privacy"},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.ariaDescribedby;return[t("b-form-radio",{attrs:{"aria-describedby":o,name:"privacy",value:"public"},model:{value:e.privacy,callback:function(r){e.privacy=r},expression:"privacy"}},[e._v("Public")]),t("b-form-radio",{attrs:{"aria-describedby":o,name:"privacy",value:"user"},model:{value:e.privacy,callback:function(r){e.privacy=r},expression:"privacy"}},[e._v("User")])]}}])}),t("b-button",{attrs:{variant:"primary"},on:{click:e.newBrain}},[e._v("New Brain")]),t("b-list-group",{staticStyle:{height:"200px","overflow-y":"scroll"}},[e._l(e.brains,(function(r){return t("b-list-group-item",{key:r.id,attrs:{button:""},on:{click:function(t){return e.switchBrain(r)}}},[e._v(" "+e._s(r.name)+" ")])})),t("div",{staticClass:"accordion",attrs:{role:"tablist"}},[e._l(Object.entries(e.brains),(function(r){var o=r[0],n=r[1];return t("b-card",{key:o,staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[e._v(e._s(o))])],1),t("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[t("b-card-body",[e._v(" User : "),t("ul",e._l(n.user,(function(r){return t("li",{key:r["_"]["#"]},[t("b-button",{attrs:{size:"sm"}},[e._v(" "+e._s(r.name))])],1)})),0),e._v(" Public : "),e._l(n.public,(function(r){return t("div",{key:r["_"]["#"]},[t("b-button",{attrs:{variant:"light",size:"sm"},on:{click:function(t){return e.switchBrain(r)}}},[e._v(" "+e._s(r.name))]),e._v(" "),t("small",[e._v("creation: "+e._s(r.created)+", author: public, number of nodes")])],1)})),t("small",[e._v("todo : make a sort table")])],2)],1)],1)})),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[e._v("Accordion 2")])],1),t("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" text ")])],1)],1)],1),t("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[t("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"}},[e._v("Accordion 3")])],1),t("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[t("b-card-body",[t("b-card-text",[e._v(" text ")])],1)],1)],1)],2),e._v(" brains "+e._s(e.brains)+" ")],2)],1),t("b-modal",{attrs:{id:"modal-properties",title:"Properties"}}),t("b-modal",{attrs:{id:"modal-links",title:"Links"}})],1)},n=[],a=(t(8309),t(4916),t(5306),t(4553),t(1539),t(9714),t(4376)),i=t(9477),s=t(9988),d={name:"Ui",props:["Graph","nodes"],data:function(){return{brain:null,brainName:"",field:null,clearing:!1,fieldType:"text",show:!1,currentProp:{},newValue:null,link:{},permissions:null,privacy:"public"}},mounted:function(){var e=this.$refs.guiDiv;this.gui=new a.GUI({autoPlace:!1}),e.appendChild(this.gui.domElement),this.buildGuiTools()},methods:{updateNodeFolder:function(){if(null!=this.nodeFolder&&this.gui.removeFolder(this.nodeFolder),null!=this.currentNode){var e={openProperties:this.openProperties,openLinks:this.openLinks};this.nodeFolder=this.gui.addFolder("Node"),console.log(this.currentNode),void 0==this.currentNode.age&&(this.currentNode.age=0),void 0==this.currentNode.privacy&&(this.currentNode.privacy=""),this.nodeFolder.add(this.currentNode,"name"),this.nodeFolder.add(this.currentNode,"age"),this.nodeFolder.add(this.currentNode,"privacy"),void 0!=this.currentNode.created&&this.nodeFolder.add(this.currentNode,"created"),this.nodeFolder.add(e,"openProperties").name("Properties"),this.nodeFolder.add(e,"openLinks").name("Links");var r=this;if(void 0!=this.currentNode.color){var t=this.nodeFolder.addColor(this.currentNode,"color").name("Color").listen();t.onChange((function(e){console.log("must update color value",e),r.currentNode.color=e.replace("#","0x")}))}this.nodeFolder.add(this.currentNode,"privacy"),this.nodeFolder.open()}},addValue:function(){console.log("new value")},buildGuiNode:function(){var e={message:"props menu",messageLink:"Link menu",speed:.8};this.nodeFolder=this.gui.addFolder("Node");var r=this.nodeFolder.addFolder("Props"),t=this.nodeFolder.addFolder("Links");r.add(e,"message"),t.add(e,"messageLink");var o=r.addFolder("sub");o.add(e,"speed",-5,5)},buildGuiTools:function(){var e={openBrains:this.openBrains,newNeurone:this.newNeurone,resetCamera:this.resetCamera},r=this.gui.addFolder("Tools");r.add(e,"openBrains").name("Brains"),r.add(e,"newNeurone").name("New neurone"),r.add(e,"resetCamera").name("Reset camera"),r.open(),this.gui.open()},buildGuiTest:function(){var e=new i.DvJ,r=new i.vBJ({color:65280,wireframe:!0}),t=new i.Kj0(e,r);this.Graph.scene().add(t);var o={message:"dat.gui",speed:.8,displayOutline:!1,color:"#ff0000"},n=this.gui.addFolder("Test");n.add(t.rotation,"x",0,2*Math.PI),n.add(t.rotation,"y",0,2*Math.PI),n.add(t.rotation,"z",0,2*Math.PI),n.add(o,"message"),n.add(o,"speed",-5,5),n.add(o,"displayOutline");var a=n.addColor(o,"color").name("Color").listen();a.onChange((function(e){t.material.color.setHex(e.replace("#","0x"))}))},openProperties:function(){this.$bvModal.show("modal-properties")},openLinks:function(){this.$bvModal.show("modal-links")},newProperty:function(){console.log("newProperty"),this.field={name:"",category:"ve:properties"},this.$bvModal.show("modal-field")},addField:function(){if(console.log(this.field),0==this.clearing){var e={name:this.field.name,values:[]};void 0==this.currentNode[this.field.category]&&(this.currentNode[this.field.category]=[]);var r=this.currentNode[this.field.category].findIndex((function(r){return r.name==e.name}));-1===r?this.currentNode[this.field.category].push(e):alert(e.name+" already exist")}console.log(this.currentNode),this.updateNodeFolder()},newLink:function(){console.log("newLink"),this.field={name:"",category:"links"},this.$bvModal.show("modal-field")},openBrains:function(){this.$bvModal.show("modal-brain")},newBrain:function(){this.brain=new s.am({name:this.brainName,world:this.world,privacy:this.privacy}),this.$createBrain(this.brain),this.brainName=""},switchBrain:function(e){console.log(e),this.$gunGet(e),this.$emit("switch-brain",e)},newNeurone:function(){console.log("newNeurone");var e=new s.GI({name:"name for graph_"+this.nodes.length,age:0,type:"neurone"});console.log("neurone ",e),this.nodes.push(e),console.log("should make a node autofocus")},resetCamera:function(){this.Graph.cameraPosition({x:0,y:0,z:40},3e3)},randomColor:function(){for(var e="#",r=0;r<6;r++){var t=Math.random(),o=16*t|0;e+=o.toString(16)}return e}},watch:{currentNode:function(){console.log(this.currentNode),this.updateNodeFolder(this.currentNode)},world:function(){"gun"==this.world&&this.$bvModal.show("modal-brain")},brains:function(){console.log("must update",this.brains)}},computed:{currentNode:{get:function(){return this.$store.state.app.currentNode},set:function(){}},brains:{get:function(){return this.$store.state.app.brains},set:function(){}},world:{get:function(){return this.$store.state.app.world},set:function(){}}}},l=d,c=t(1001),u=(0,c.Z)(l,o,n,!1,null,null,null),h=u.exports},647:function(e,r,t){var o=t(1702),n=t(7908),a=Math.floor,i=o("".charAt),s=o("".replace),d=o("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,r,t,o,u,h){var p=t+e.length,v=o.length,b=c;return void 0!==u&&(u=n(u),b=l),s(h,b,(function(n,s){var l;switch(i(s,0)){case"$":return"$";case"&":return e;case"`":return d(r,0,t);case"'":return d(r,p);case"<":l=u[d(s,1,-1)];break;default:var c=+s;if(0===c)return n;if(c>v){var h=a(c/10);return 0===h?n:h<=v?void 0===o[h-1]?i(s,1):o[h-1]+i(s,1):n}l=o[c-1]}return void 0===l?"":l}))}},5306:function(e,r,t){"use strict";var o=t(2104),n=t(6916),a=t(1702),i=t(7007),s=t(7293),d=t(9670),l=t(614),c=t(9303),u=t(7466),h=t(1340),p=t(4488),v=t(1530),b=t(8173),f=t(647),m=t(7651),g=t(5112),y=g("replace"),w=Math.max,N=Math.min,k=a([].concat),_=a([].push),F=a("".indexOf),x=a("".slice),$=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),P=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),B=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));i("replace",(function(e,r,t){var a=P?"$":"$0";return[function(e,t){var o=p(this),a=void 0==e?void 0:b(e,y);return a?n(a,e,o,t):n(r,h(o),e,t)},function(e,n){var i=d(this),s=h(e);if("string"==typeof n&&-1===F(n,a)&&-1===F(n,"$<")){var p=t(r,i,s,n);if(p.done)return p.value}var b=l(n);b||(n=h(n));var g=i.global;if(g){var y=i.unicode;i.lastIndex=0}var C=[];while(1){var P=m(i,s);if(null===P)break;if(_(C,P),!g)break;var B=h(P[0]);""===B&&(i.lastIndex=v(s,u(i.lastIndex),y))}for(var M="",L=0,G=0;G<C.length;G++){P=C[G];for(var I=h(P[0]),z=w(N(c(P.index),s.length),0),S=[],T=1;T<P.length;T++)_(S,$(P[T]));var D=P.groups;if(b){var O=k([I],S,z,s);void 0!==D&&_(O,D);var U=h(o(n,void 0,O))}else U=f(I,s,z,S,D,n);z>=L&&(M+=x(s,L,z)+U,L=z+I.length)}return M+x(s,L)}]}),!B||!C||P)}}]);
//# sourceMappingURL=367-legacy.d7843ca6.js.map