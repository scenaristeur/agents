(self["webpackChunkagents"]=self["webpackChunkagents"]||[]).push([[56],{4223:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Current Node : "+e._s(e.currentNode)+" "),n("br"),n("b-button",{attrs:{size:"sm"},on:{click:function(t){e.currentNode=null}}},[e._v("Close")]),e._v(" navigation : "+e._s(e.navigation)+" - node type : "+e._s(e.currentNode.type)+" "),n("NodePreview",{attrs:{node:e.currentNode}}),n("b-container",[n("b-row",[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"name"}},[e._v("Name:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{id:"name",autocomplete:"off",autofocus:""},model:{value:e.node.name,callback:function(t){e.$set(e.node,"name",t)},expression:"node.name"}})],1),n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"age"}},[n("code",[e._v("Age")]),e._v(":")])]),n("b-col",[n("b-form-input",{attrs:{id:"age",required:"",type:"number"},model:{value:e.node.age,callback:function(t){e.$set(e.node,"age",t)},expression:"node.age"}})],1)],1),e._l(e.node.properties,(function(t){return n("b-row",{key:t.name},[n("b-col",{attrs:{sm:"3"}},[n("label",{attrs:{for:"name"}},[n("code",[e._v(e._s(t.name))]),e._v(":")])]),n("b-col",{attrs:{sm:"9"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){return e.showFieldModal(t)}}},[e._v("+")]),n("Values",{attrs:{values:t.values}})],1)],1)})),null!=e.field?n("b-row",{staticClass:"mt-3"},[n("b-col",{attrs:{sm:"3"}},[n("b-form-input",{attrs:{required:"",placeholder:"property name"},on:{change:e.fieldNameChanged},model:{value:e.field.name,callback:function(t){e.$set(e.field,"name",t)},expression:"field.name"}})],1),n("b-col",{attrs:{sm:"9"}},[n("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:e.clear_field}},[e._v("X")])],1)],1):e._e(),n("b-row",[n("b-col"),n("b-col",[n("b-btn",{attrs:{variant:"outline-primary",size:"sm"},on:{click:e.add}},[e._v("+ add a property or a link")])],1)],1),n("b-row",[n("b-col",[n("b-btn",{attrs:{variant:"success"},on:{click:e.save}},[e._v("Save Node")]),n("Permissions",{attrs:{permissions:e.permissions,url:e.node.url,autorized:e.autorized}})],1)],1),n("b-modal",{attrs:{id:"fieldModal",size:"xl",title:e.node.name+" -> "+e.currentProp.name}},[n("b-tabs",{attrs:{"content-class":"mt-3"}},[n("b-tab",{attrs:{title:"text",active:""},on:{click:function(t){e.fieldType="text"}}},[n("b-form-input",{attrs:{placeholder:"new value"},on:{change:e.addNewValue},model:{value:e.newvalue,callback:function(t){e.newvalue=t},expression:"newvalue"}})],1),n("b-tab",{attrs:{title:"textarea"},on:{click:function(t){e.fieldType="textarea"}}},[n("b-form-textarea",{attrs:{placeholder:"Enter something...",rows:"3","max-rows":"6"},on:{change:e.addNewValue},model:{value:e.newvalue,callback:function(t){e.newvalue=t},expression:"newvalue"}})],1),n("b-tab",{attrs:{title:"node"},on:{click:function(t){e.fieldType="node"}}},[n("NodeSelector",{attrs:{currentProp:e.currentProp},on:{"update:currentProp":function(t){e.currentProp=t},"update:current-prop":function(t){e.currentProp=t}}})],1),n("b-tab",{attrs:{title:"link"},on:{click:function(t){e.fieldType="link"}}},[n("b-form-input",{attrs:{placeholder:"name"},model:{value:e.link.name,callback:function(t){e.$set(e.link,"name",t)},expression:"link.name"}}),n("b-form-input",{attrs:{placeholder:"link"},on:{change:e.addNewLink},model:{value:e.link.href,callback:function(t){e.$set(e.link,"href",t)},expression:"link.href"}})],1)],1)],1)],2),"html"==e.currentNode.type?n("b-container",[n("CKWysiwyg")],1):e._e()],1)},o=[],i=n(6198),a=(n(5666),n(1539),n(8783),n(3948),n(4553),n(8309),n(9254),n(9988)),s={name:"Node",components:{NodeSelector:function(){return n.e(284).then(n.bind(n,9769))},Values:function(){return n.e(324).then(n.bind(n,324))},Permissions:function(){return n.e(761).then(n.bind(n,7761))},CKWysiwyg:function(){return n.e(738).then(n.bind(n,5738))},NodePreview:function(){return n.e(500).then(n.bind(n,6698))}},data:function(){return{node:null,field:null,clearing:!1,fieldType:"text",show:!1,currentProp:{},newvalue:null,link:{},permissions:null}},created:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.node=null!=e.$store.state.app.currentNode?e.$store.state.app.currentNode:new a.GI({name:"",age:0,type:"neurone"}),console.log("neurone ",e.node),t.next=4,e.getPermissions();case 4:case"end":return t.stop()}}),t)})))()},methods:{save:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("nodes/saveNode",e.node);case 2:e.$store.commit("nodes/setCurrentNode",null),e.$store.commit("app/setCurrentNode",null),alert("node saved");case 5:case"end":return t.stop()}}),t)})))()},add:function(){this.field={name:""}},fieldNameChanged:function(e){if(console.log(e),0==this.clearing){var t={name:e,values:[]};void 0==this.node.properties&&(this.node.properties=[]);var n=this.node.properties.findIndex((function(e){return e.name==t.name}));-1===n?this.node.properties.push(t):alert(t.name+" already exist")}},clear_field:function(){this.clearing=!0,this.field=null,this.clearing=!1},showFieldModal:function(e){console.log(e),this.fieldType="text",this.currentProp=e,this.$bvModal.show("fieldModal")},addNewValue:function(){var e={value:this.newvalue,type:this.fieldType};this.currentProp.values.push(e),this.newvalue=null},addNewLink:function(){var e={value:this.link,type:this.fieldType};this.currentProp.values.push(e),this.link={}},getPermissions:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0==e.node.url){t.next=6;break}return t.next=3,e.$getPermissions(e.node);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:e.permissions=t.t0,console.log("PERMISSIONS",e.permissions);case 9:case"end":return t.stop()}}),t)})))()}},watch:{currentNode:function(){console.log("CURRENT NODE Changed"),this.getPermissions()}},computed:{currentNode:{get:function(){return this.$store.state.app.currentNode},set:function(e){this.$store.commit("app/setCurrentNode",e)}},navigation:{get:function(){return this.$store.state.app.navigation},set:function(e){this.$store.commit("app/setNavigation",e)}},autorized:function(){return null!=this.permissions&&(1==this.permissions.user.append||1==this.permissions.user.write||1==this.permissions.public.append||1==this.permissions.public.write)}}},u=s,c=n(1001),l=(0,c.Z)(u,r,o,!1,null,null,null),f=l.exports},4230:function(e,t,n){var r=n(1702),o=n(4488),i=n(1340),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var u=i(o(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+s(i(r),a,"&quot;")+'"'),c+">"+u+"</"+t+">"}},7065:function(e,t,n){"use strict";var r=n(7854),o=n(1702),i=n(9662),a=n(111),s=n(2597),u=n(206),c=n(4374),l=r.Function,f=o([].concat),d=o([].join),p={},m=function(e,t,n){if(!s(p,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";p[t]=l("C,a","return new C("+d(r,",")+")")}return p[t](e,n)};e.exports=c?l.bind:function(e){var t=i(this),n=t.prototype,r=u(arguments,1),o=function(){var n=f(r,u(arguments));return this instanceof o?m(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},3429:function(e,t,n){var r=n(7293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},489:function(e,t,n){var r=n(2109),o=n(7293),i=n(7908),a=n(9518),s=n(8544),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},2419:function(e,t,n){var r=n(2109),o=n(5005),i=n(2104),a=n(7065),s=n(9483),u=n(9670),c=n(111),l=n(30),f=n(7293),d=o("Reflect","construct"),p=Object.prototype,m=[].push,h=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),v=!f((function(){d((function(){}))})),b=h||v;r({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!h)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(m,r,t),new(i(a,e,r))}var o=n.prototype,f=l(c(o)?o:p),b=i(e,f,t);return c(b)?b:f}})},1299:function(e,t,n){var r=n(2109),o=n(7854),i=n(8003);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},9254:function(e,t,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("link")},{link:function(e){return o(this,"a","href",e)}})},6755:function(e,t,n){"use strict";var r=n(2109),o=n(1702),i=n(1236).f,a=n(7466),s=n(1340),u=n(3929),c=n(4488),l=n(4964),f=n(1913),d=o("".startsWith),p=o("".slice),m=Math.min,h=l("startsWith"),v=!f&&!h&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!v&&!h},{startsWith:function(e){var t=s(c(this));u(e);var n=a(m(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return d?d(t,r,n):p(t,n,n+r.length)===r}})},3263:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1703);function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},7349:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(489);function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},4654:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(1539),n(1299),n(2419);function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}},3351:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=56-legacy.c074a801.js.map