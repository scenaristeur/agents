{"version":3,"file":"js/591.c183f410.js","mappings":"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","sources":["webpack://agents/./src/components/GunTest.vue?0faf","webpack://agents/src/components/GunTest.vue","webpack://agents/./src/components/GunTest.vue?5148","webpack://agents/./src/components/GunTest.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Gun test \"),_c('b-input',{attrs:{\"placeholder\":\"type a command and press enter\"},on:{\"change\":function($event){return _vm.command()}},model:{value:(_vm.command_input),callback:function ($$v) {_vm.command_input=$$v},expression:\"command_input\"}}),_c('h3',[_vm._v(\"Some possible commands\")]),_vm._m(0),_vm._v(\" Result : \"+_vm._s(_vm.last)+\" \"),_c('b-input',{model:{value:(_vm.newDo),callback:function ($$v) {_vm.newDo=$$v},expression:\"newDo\"}}),_c('b-button',{on:{\"click\":_vm.add}},[_vm._v(\"Add\")]),_c('ul',_vm._l((_vm.todos),function(node,key){return _c('li',{key:key},[_vm._v(\" \"+_vm._s(key)+\" : \"+_vm._s(node.title || node.GrosTitre))])}),0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"my.object.name = truc\")]),_c('li',[_vm._v(\"cat my.object.name\")]),_c('li',[_vm._v(\"my.object.test = {\\\"og\\\": \\\"gro\\\", \\\"trif\\\": \\\"gr\\\", \\\"gft\\\": 5}\")]),_c('li',[_vm._v(\"cat my.object.test.og\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    Gun test\n    <b-input @change=\"command()\" v-model=\"command_input\" placeholder=\"type a command and press enter\" />\n    <h3>Some possible commands</h3>\n    <ul>\n      <li>my.object.name = truc</li>\n      <li>cat my.object.name</li>\n      <li>my.object.test = {\"og\": \"gro\", \"trif\": \"gr\", \"gft\": 5}</li>\n      <li>cat my.object.test.og</li>\n    </ul>\n\n    Result : {{last}}\n\n    <b-input v-model=\"newDo\" />\n    <b-button @click=\"add\">Add</b-button>\n    <!-- todos : {{ todos }} -->\n    <ul>\n      <li v-for=\"(node, key) of todos\" :key=\"key\"> {{ key }} : {{node.title || node.GrosTitre}}</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"GunTest\",\n  data(){\n    return{\n      todos : {},\n      newDo: \"\",\n      command_input: \"\",\n      last: {key: \"\", value: \"\"}\n    }\n  },\n  mounted: function() {\n    // this.todos = this.$gun.get('todos')\n    this.$gun.get('todos').map().on((node, key) => {\n\n      // add results straight to the Vue component state\n      // and get updates when nodes are updated by GUN\n      this.todos[key] = node;\n      console.log(this.todos)\n    });\n  },\n  methods:{\n    add(){\n      console.log(this.newDo)\n      this.$gun.get('todos').set({GrosTitre: this.newDo})\n      this.newDo = \"\"\n    },\n    command(){\n      let command = {}\n      command.fullCommand = this.command_input.trim()\n      command.commandArray = command.fullCommand.split(\" \")\n      command.first = command.commandArray[0]\n      console.log(\"command\", command)\n      if(command.commandArray[1] == '='){\n        this.set(command)\n      }\n      if(command.commandArray[0] == 'cat'){\n        this.cat(command)\n      }\n      this.command_input = \"\"\n    },\n\n\n    cat(command){\n      let app = this\n      let object = command.commandArray[1]\n\n      console.log(\"lecture de \", object )\n      let path = object.split('.')\n      let currentNode = undefined\n      for (const p of path){\n        console.log(p)\n        currentNode = currentNode == undefined ?  this.$gun.get(p) : currentNode.get(p)\n        console.log(\"current\",currentNode)\n      }\n      currentNode.once(function(data, key){\n        console.log( key, data);\n        console.log('the value is', data)\n        app.last.key = key,\n        app.last.value = data\n      });\n\n    },\n\n    set(command/*, overwrite = true*/){\n      let object = command.commandArray[0]\n      // remove object & equal sign\n      command.commandArray.splice(0, 2)\n      let value = command.commandArray.join(' ')\n      console.log(\"affectation de \", value , \"dans\", object )\n      let path = object.split('.')\n      let currentNode = undefined\n      for (const p of path){\n        console.log(p)\n        currentNode = currentNode == undefined ?  this.$gun.get(p) : currentNode.get(p)\n        console.log(\"current\",currentNode)\n      }\n      currentNode.once(function(data, key){\n        console.log( key, data);\n        console.log('the value is', data)\n      });\n\n      try {\n        value = JSON.parse(value)\n      }catch(e){\n        console.log(e)\n      }\n      finally{\n        currentNode.put(value);\n      }\n\n\n\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GunTest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GunTest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GunTest.vue?vue&type=template&id=843a5dba&\"\nimport script from \"./GunTest.vue?vue&type=script&lang=js&\"\nexport * from \"./GunTest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","on","$event","command","model","value","callback","$$v","command_input","expression","_m","_s","last","newDo","add","_l","node","key","title","GrosTitre","staticRenderFns","name","data","todos","mounted","$gun","get","map","console","log","methods","set","fullCommand","trim","commandArray","split","first","cat","app","object","currentNode","path","p","undefined","once","splice","join","JSON","parse","e","put","component"],"sourceRoot":""}