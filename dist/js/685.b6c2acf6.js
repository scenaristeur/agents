"use strict";(self["webpackChunkagents"]=self["webpackChunkagents"]||[]).push([[685],{3685:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Gun test "),n("hr"),t._v(" gunPublicBrains : "+t._s(t.gunPublicBrains)+" "),n("hr"),t._v(" gunUserBrains : "+t._s(t.gunUserBrains)+" "),n("b-input",{attrs:{placeholder:"type a command and press enter"},on:{change:function(e){return t.command()}},model:{value:t.command_input,callback:function(e){t.command_input=e},expression:"command_input"}}),n("h3",[t._v("Some possible commands")]),t._m(0),t._v(" Result : "+t._s(t.last)+" "),n("b-input",{model:{value:t.newDo,callback:function(e){t.newDo=e},expression:"newDo"}}),n("b-button",{on:{click:t.add}},[t._v("Add")]),n("ul",t._l(t.todos,(function(e,s){return n("li",{key:s},[t._v(" "+t._s(s)+" : "+t._s(e.title||e.GrosTitre))])})),0),n("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},on:{input:t.updateText},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),n("b-input",{model:{value:t.speak_text,callback:function(e){t.speak_text=e},expression:"speak_text"}}),n("b-button",{on:{click:t.speak}},[t._v("Speak")]),t._v(" causette : "+t._s(t.causette)+" ")],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("my.object.name = truc")]),n("li",[t._v("cat my.object.name")]),n("li",[t._v('my.object.test = {"og": "gro", "trif": "gr", "gft": 5}')]),n("li",[t._v("cat my.object.test.og")])])}],a={name:"GunTest",components:{},data(){return{todos:{},newDo:"",command_input:"",last:{key:"",value:""},text:"",speak_text:"",causette:[],gunUserBrains:[],gunPublicBrains:[]}},mounted:function(){var t=String.fromCharCode(13,10);this.$gun.get("RaN5Dom_todos").map().on(((t,e)=>{this.todos[e]=t}));let e={name:"RaN5Dom_neurones"};this.$gunGet(e),this.$gun.get("RaN5Dom_text").once((e=>{void 0!=e&&(this.text=e.text.replaceAll("\\n",t))})),this.$gun.get("RaN5Dom_text").on((e=>{console.log("Receiving Update"),console.log(e),this.text=e.text.replaceAll("\\n",t)})),this.$gun.on("auth",(function(t){console.log("auth",t)}))},methods:{speak(){console.log("speak_text",this.speak_text),void 0!=this.gunUser?(this.$gun.user().get("said").set(this.speak_text),this.speak_text=""):alert("you should 'Gun Login' to speak! ")},add(){this.$gun.get("RaN5Dom_todos").set({GrosTitre:this.newDo}),this.newDo=""},command(){let t={};t.fullCommand=this.command_input.trim(),t.commandArray=t.fullCommand.split(" "),t.first=t.commandArray[0],console.log("command",t),"="==t.commandArray[1]&&this.set(t),"cat"==t.commandArray[0]&&this.cat(t),this.command_input=""},cat(t){let e=this,n=t.commandArray[1];console.log("lecture de ",n);let s,o=n.split(".");for(const a of o)console.log(a),s=void 0==s?this.$gun.get(a):s.get(a),console.log("current",s);s.once((function(t,n){console.log(n,t),console.log("the value is",t),e.last.key=n,e.last.value=t}))},set(t){let e=t.commandArray[0];t.commandArray.splice(0,2);let n=t.commandArray.join(" ");console.log("affectation de ",n,"dans",e);let s,o=e.split(".");for(const i of o)console.log(i),s=void 0==s?this.$gun.get(i):s.get(i),console.log("current",s);s.once((function(t,e){console.log(e,t),console.log("the value is",t)}));try{n=JSON.parse(n)}catch(a){console.log(a)}finally{s.put(n)}},updateText(){console.log("Updating Text",this.text),this.$gun.get("RaN5Dom_text").put({text:this.text})},updateSay(){let t=this;this.causette=[],this.$gun.user().get("said").map().once((e=>{console.log("SAY",e),t.causette.push(e)}))},updateUserBrains(){let t=this;this.gunUserBrains=[],this.$gun.user().get("brains").map().once((e=>{console.log("brain",e),t.gunUserBrains.push(e)})),console.log("user brains",this.gunUserBrains),this.$store.commit("app/setBrainGroup",{world:"gun",privacy:"user",brains:this.gunUserBrains})},updatePublicBrains(){let t=this;this.gunPublicBrains=[],this.$gun.get("brains").map().once((e=>{console.log("brain",e),t.gunPublicBrains.push(e)})),console.log("public brains",this.gunPublicBrains),this.$store.commit("app/setBrainGroup",{world:"gun",privacy:"public",brains:this.gunPublicBrains})}},watch:{gunUser(){console.log("gunUser",this.gunUser),void 0!=this.gunUser&&(this.updateSay(),this.updateUserBrains(),this.updatePublicBrains())},world(){console.log(this.world),this.gunPublicBrains=[],"gun"==this.world&&this.updatePublicBrains()}},computed:{gunUser:{get(){return this.$store.state.gun.gunUser},set(){}},world:{get(){return this.$store.state.app.world},set(){}}}},i=a,l=n(1001),r=(0,l.Z)(i,s,o,!1,null,null,null),u=r.exports}}]);
//# sourceMappingURL=685.b6c2acf6.js.map