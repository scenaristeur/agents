{"version":3,"sources":["webpack:///./node_modules/ngraph.events/index.js","webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateBody.js","webpack:///./node_modules/ngraph.graph/index.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/getVariableName.js","webpack:///./node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/createPatternBuilder.js","webpack:///./node_modules/ngraph.forcelayout/index.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/generateIntegrator.js","webpack:///./node_modules/core-js/modules/es.math.hypot.js","webpack:///./src/components/directed/Graph.vue?455e","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/three/examples/jsm/controls/DragControls.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-force-3d/src/lcg.js","webpack:///./node_modules/d3-force-3d/src/simulation.js","webpack:///./node_modules/d3-force-3d/src/constant.js","webpack:///./node_modules/d3-force-3d/src/jiggle.js","webpack:///./node_modules/d3-force-3d/src/link.js","webpack:///./node_modules/d3-binarytree/src/add.js","webpack:///./node_modules/d3-binarytree/src/cover.js","webpack:///./node_modules/d3-binarytree/src/data.js","webpack:///./node_modules/d3-binarytree/src/extent.js","webpack:///./node_modules/d3-binarytree/src/half.js","webpack:///./node_modules/d3-binarytree/src/find.js","webpack:///./node_modules/d3-binarytree/src/remove.js","webpack:///./node_modules/d3-binarytree/src/root.js","webpack:///./node_modules/d3-binarytree/src/size.js","webpack:///./node_modules/d3-binarytree/src/visit.js","webpack:///./node_modules/d3-binarytree/src/visitAfter.js","webpack:///./node_modules/d3-binarytree/src/x.js","webpack:///./node_modules/d3-binarytree/src/binarytree.js","webpack:///./node_modules/d3-quadtree/src/add.js","webpack:///./node_modules/d3-quadtree/src/cover.js","webpack:///./node_modules/d3-quadtree/src/data.js","webpack:///./node_modules/d3-quadtree/src/extent.js","webpack:///./node_modules/d3-quadtree/src/quad.js","webpack:///./node_modules/d3-quadtree/src/find.js","webpack:///./node_modules/d3-quadtree/src/remove.js","webpack:///./node_modules/d3-quadtree/src/root.js","webpack:///./node_modules/d3-quadtree/src/size.js","webpack:///./node_modules/d3-quadtree/src/visit.js","webpack:///./node_modules/d3-quadtree/src/visitAfter.js","webpack:///./node_modules/d3-quadtree/src/x.js","webpack:///./node_modules/d3-quadtree/src/y.js","webpack:///./node_modules/d3-quadtree/src/quadtree.js","webpack:///./node_modules/d3-octree/src/add.js","webpack:///./node_modules/d3-octree/src/cover.js","webpack:///./node_modules/d3-octree/src/data.js","webpack:///./node_modules/d3-octree/src/extent.js","webpack:///./node_modules/d3-octree/src/octant.js","webpack:///./node_modules/d3-octree/src/find.js","webpack:///./node_modules/d3-octree/src/remove.js","webpack:///./node_modules/d3-octree/src/root.js","webpack:///./node_modules/d3-octree/src/size.js","webpack:///./node_modules/d3-octree/src/visit.js","webpack:///./node_modules/d3-octree/src/visitAfter.js","webpack:///./node_modules/d3-octree/src/x.js","webpack:///./node_modules/d3-octree/src/y.js","webpack:///./node_modules/d3-octree/src/z.js","webpack:///./node_modules/d3-octree/src/octree.js","webpack:///./node_modules/d3-force-3d/src/manyBody.js","webpack:///./node_modules/d3-force-3d/src/center.js","webpack:///./node_modules/d3-force-3d/src/radial.js","webpack:///./node_modules/kapsule/dist/kapsule.module.js","webpack:///./node_modules/accessor-fn/dist/accessor-fn.module.js","webpack:///./node_modules/d3-array/src/min.js","webpack:///./node_modules/d3-array/src/max.js","webpack:///./node_modules/index-array-by/dist/index-array-by.module.js","webpack:///./node_modules/data-joint/dist/data-joint.module.js","webpack:///./node_modules/internmap/src/index.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack:///./node_modules/three-forcegraph/dist/three-forcegraph.module.js","webpack:///./node_modules/three/examples/jsm/controls/TrackballControls.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/examples/jsm/controls/FlyControls.js","webpack:///./node_modules/three/examples/jsm/shaders/CopyShader.js","webpack:///./node_modules/three/examples/jsm/postprocessing/Pass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/ShaderPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/MaskPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/EffectComposer.js","webpack:///./node_modules/three/examples/jsm/postprocessing/RenderPass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/polished/dist/polished.esm.js","webpack:///./node_modules/three-render-objects/dist/three-render-objects.module.js","webpack:///./node_modules/3d-force-graph/dist/3d-force-graph.module.js","webpack:///./node_modules/three-spritetext/dist/three-spritetext.module.js","webpack:///src/components/directed/Graph.vue","webpack:///./src/components/directed/Graph.vue?7319","webpack:///./src/components/directed/Graph.vue","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/core-js/internals/object-is-extensible.js","webpack:///./node_modules/ngraph.merge/index.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateDragForce.js","webpack:///./node_modules/ngraph.forcelayout/lib/createPhysicsSimulator.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/generateQuadTree.js","webpack:///./node_modules/debounce/index.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","webpack:///./node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","webpack:///./node_modules/core-js/internals/array-buffer-non-extensible.js","webpack:///./node_modules/ngraph.random/index.js","webpack:///./node_modules/ngraph.forcelayout/lib/spring.js","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./node_modules/core-js/modules/es.reflect.to-string-tag.js"],"names":["createEventsStorage","subject","registeredEvents","Object","create","on","eventName","callback","ctx","Error","handlers","push","off","wantToRemoveAll","deleteAllCallbacksForEvent","callbacks","i","length","splice","fire","fireArguments","arguments","Array","prototype","call","callbackInfo","apply","validateSubject","reservedWords","hasOwnProperty","module","exports","eventsStorage","global","uncurryThis","aCallable","isObject","hasOwn","arraySlice","Function","concat","join","factories","construct","C","argsLength","args","list","bind","that","F","this","Prototype","partArgs","boundFunction","createPatternBuilder","generateCreateBodyFunction","dimension","debugSetters","code","generateCreateBodyFunctionBody","Body","getVectorCode","getBodyCode","pattern","variableList","indent","setters","createGraph","eventify","options","console","warn","multigraph","uniqueLinkId","undefined","Map","nodes","links","multiEdges","suspendEvents","createLink","createUniqueLink","createSingleLink","changes","recordLinkChange","noop","recordNodeChange","enterModification","exitModification","graphPart","addNode","addLink","removeLink","removeNode","getNode","getNodeCount","getLinkCount","getLinksCount","getNodesCount","getLinks","forEachNode","forEachLinkedNode","forEachLink","beginUpdate","endUpdate","clear","hasLink","getLink","hasNode","monitorSubscribers","realOn","enterModificationReal","exitModificationReal","recordLinkChangeReal","recordNodeChangeReal","link","changeType","node","nodeId","data","Node","set","get","prevLinks","delete","fromId","toId","fromNode","toNode","addLinkToNode","linkId","makeLinkId","Link","isMultiEdge","suffix","size","idx","indexOfElementInArray","fromNodeId","toNodeId","id","oriented","forEachOrientedLink","forEachNonOrientedLink","quitFast","linkedNodeId","valuesIterator","values","nextValue","next","done","value","element","array","indexOf","len","toString","index","now","Easing","Linear","None","amount","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","self","process","hrtime","time","performance","Date","getTime","now$1","Group","_tweens","_tweensAddedDuringUpdate","getAll","_this","keys","map","tweenId","removeAll","add","tween","getId","remove","update","preserve","tweenIds","autoStart","Interpolation","v","k","m","f","floor","fn","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Sequence","nextId","_nextId","mainGroup","Tween","_object","_group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_id","_isChainStopped","_goToEnd","isPlaying","isPaused","to","properties","duration","d","start","property","_swapEndStartRepeatValues","parseFloat","_setupProperties","startValue","startValueIsArray","isArray","propType","isInterpolationList","endValues","_handleRelativeValue","slice","reverse","prop","stop","stopChainedTweens","_onStopCallback","end","Infinity","pause","resume","numChainedTweens","group","delay","repeat","times","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","tweens","_i","onStart","_onStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","elapsed","endTime","_updateProperties","isFinite","startIsArray","endIsArray","charAt","tmp","endValue","VERSION","TWEEN","PROPER_FUNCTION_NAME","PROPER","redefine","anObject","isPrototypeOf","$toString","fails","regExpFlags","TO_STRING","RegExpPrototype","RegExp","n$ToString","getFlags","NOT_GENERIC","source","flags","INCORRECT_NAME","name","R","p","rf","unsafe","getVariableName","template","config","indentString","buffer","variableName","prefix","replace","createLayout","simulator","graph","physicsSettings","createSimulator","physicsSimulator","nodeMass","version","defaultSetNodeMass","defaultArrayNodeMass","nodeBodies","springs","bodiesCount","springTransform","settings","initPhysics","listenToEvents","wasStable","api","step","updateStableStatus","lastMove","ratio","isStableNow","getNodePosition","getInitializedBody","pos","setNodePosition","body","setPosition","getLinkPosition","spring","from","getGraphRect","getBBox","forEachBody","pinNode","isPinned","isNodePinned","dispose","onGraphChanged","getBody","getSpring","getForceVectorLength","onStableChanged","cb","forEach","fx","fy","abs","force","x","y","isStable","change","initBody","initLink","releaseNode","releaseLink","position","neighbors","getNeighborBodies","getBestNewBodyPosition","addBodyAt","updateBodyMass","isNodeOriginallyPinned","removeBody","fromBody","toBody","addSpring","removeSpring","maxNeighbors","min","otherBody","mass","Number","isNaN","$","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","target","stat","forced","sham","getPrototypeOf","it","generateIntegratorFunction","generateIntegratorFunctionBody","$hypot","hypot","BUGGY","NaN","value1","value2","arg","div","sum","aLen","larg","render","_vm","_h","$createElement","_c","_self","attrs","Graph","switchBrain","ref","staticRenderFns","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","_arrayWithoutHoles","arr","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_plane","_raycaster","_pointer","_offset","_intersection","_worldPosition","_inverseMatrix","_objects","_camera","_domElement","super","style","touchAction","_selected","_hovered","_intersections","scope","activate","addEventListener","onPointerMove","onPointerDown","onPointerCancel","deactivate","removeEventListener","cursor","getObjects","getRaycaster","event","enabled","updatePointer","setFromCamera","ray","intersectPlane","copy","sub","applyMatrix4","dispatchEvent","type","object","pointerType","intersectObjects","setFromNormalAndCoplanarPoint","getWorldDirection","normal","setFromMatrixPosition","matrixWorld","transformGroup","parent","invert","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","dispatch","_","test","Dispatch","parseTypenames","typenames","types","trim","split","c","constructor","typename","T","taskHead","taskTail","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","setFrame","window","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","_next","timer","restart","timerFlush","e","wake","nap","poke","t0","t1","sleep","clearTimeout","clearInterval","setInterval","MAX_DIMENSIONS","z","initialRadius","initialAngleRoll","initialAngleYaw","numDimensions","simulation","nDim","max","round","alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","random","lcg","tick","iterations","vx","vy","fz","vz","initializeNodes","radius","cbrt","rollAngle","yawAngle","initializeForce","initialize","randomSource","find","dx","dy","dz","d2","closest","shift","nodeById","strengths","distances","count","bias","strength","defaultStrength","distance","constant","l","jiggle","initializeStrength","initializeDistance","_nodes","includes","_x","cover","tree","xm","xp","right","j","_root","leaf","x0","_x0","x1","_x1","addAll","xz","visit","x2","q","x3","halves","pop","retainer","previous","child","defaultX","binarytree","Binarytree","leaf_copy","treeProto","extent","root","visitAfter","_y","ym","yp","bottom","y0","_y0","y1","_y1","yz","y2","y3","quads","defaultY","quadtree","Quadtree","_z","zm","zp","deep","z0","_z0","z1","_z1","zz","z2","z3","octs","defaultZ","octree","Octree","distanceMin2","distanceMax2","theta2","accumulate","treeNode","weight","numChildren","arg1","arg2","arg3","w","distanceMin","distanceMax","theta","sx","sy","sz","radiuses","r","initNodes","_classCallCheck","instance","Constructor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_s","_e","_arr","_n","_d","err","o","minLen","_arrayLikeToArray","arr2","Prop","_ref","_ref$default","defaultVal","_ref$triggerUpdate","triggerUpdate","_ref$onChange","onChange","newVal","state","_ref2","_ref2$stateInit","stateInit","_ref2$props","props","rawProps","_ref2$methods","methods","_ref2$aliases","aliases","_ref2$init","init","initFn","_ref2$update","updateFn","propName","assign","initialised","changedProps","comp","nodeElement","initStatic","digest","getSetProp","_ref3","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","curVal","val","methodName","_methods$methodName","_len","_key","entries","_ref4","_ref5","alias","resetProps","_rerender","valueof","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_toPrimitive","input","hint","prim","toPrimitive","res","String","_toPropertyKey","keyAccessors","multiItem","flattenKeys","keyAccessor","isProp","indexedResult","reduce","item","iterObj","itemVal","_itemVal","propVal","rest","level","result","flatten","accKeys","vals","ownKeys","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","diffArrays","prev","idAccessor","enter","exit","prevById","nextById","byId","prevSet","Set","nextSet","has","dataBindDiff","existingObjs","_ref3$objBindAttr","objBindAttr","_ref3$dataBindAttr","dataBindAttr","_ref3$purge","purge","isObjValid","removeObjs","prevD","nextD","diff","viewDigest","appendObj","removeObj","_ref7","_ref7$createObj","createObj","_ref7$updateObj","updateObj","_ref7$exitObj","exitObj","_ref7$objBindAttr","_ref7$dataBindAttr","dataDiffOptions","_dataBindDiff","newObjs","createObjs","pointsData","updateObjs","InternMap","keyof","_intern","intern_get","intern_set","intern_delete","valueOf","initRange","domain","range","implicit","ordinal","unknown","scale","specifier","colors","_typeof","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","Proxy","Boolean","Parent","Class","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","materialDispose","material","deallocate","geometry","texture","children","emptyObject","childObj","_excluded","threeDigest","scene","_ref$objFilter","objFilter","str","parseInt","toHex","getAlpha","autoColorScale","autoColorObjects","objects","colorByAccessor","colorField","getDagDepths","_ref2$nodeFilter","nodeFilter","_ref2$onLoopError","onLoopError","loopIds","out","depth","skip","sourceId","getNodeId","targetId","sourceNode","targetNode","foundLoops","traverse","nodeDepths","_ref6","nodeStack","currentDepth","_ret","loop","some","foundLoop","every","three$1","THREE","Mesh","MeshLambertMaterial","Color","BufferGeometry","BufferAttribute","Matrix4","Vector3","SphereBufferGeometry","CylinderBufferGeometry","TubeBufferGeometry","ConeBufferGeometry","Line","LineBasicMaterial","QuadraticBezierCurve3","CubicBezierCurve3","Box3","ngraph","forcelayout","DAG_LEVEL_NODE_RATIO","setAttributeFn","setAttribute","applyMatrix4Fn","ForceGraph","jsonUrl","fetchingJson","onLoading","fetch","then","json","onFinishLoading","graphData","engineRunning","numDim","chargeForce","d3ForceLayout","eraseDimension","dim","dagMode","forceEngine","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","d3AlphaMin","d3AlphaDecay","d3AlphaTarget","d3VelocityDecay","ngraphPhysics","timeStep","gravity","springLength","springCoefficient","dragCoefficient","warmupTicks","cooldownTicks","cooldownTime","onFinishUpdate","onEngineTick","onEngineStop","refresh","_flushObjects","d3Force","forceName","forceFn","d3ReheatSimulation","resetCountdown","cntTicks","startTickTime","tickFrame","isD3Sim","layoutTick","updateArrows","updatePhotons","layout","__threeObj","linkWidthAccessor","linkCurvatureAccessor","linkCurveRotationAccessor","linkThreeObjectExtendAccessor","calcLinkCurve","curvature","curve","vStart","vEnd","distanceTo","curveRotation","vLine","subVectors","cp","clone","multiplyScalar","cross","applyAxisAngle","normalize","addVectors","divideScalar","endAngle","startAngle","__curve","lineObj","__lineObj","extendedObj","curveResolution","line","setFromPoints","getPoints","linePos","getAttribute","Float32Array","needsUpdate","computeBoundingSphere","match","rotation","_linkWidth","ceil","_r","_geometry","makeTranslation","makeRotationX","localToWorld","lookAt","arrowRelPosAccessor","arrowLengthAccessor","nodeValAccessor","arrowObj","__arrowObj","startR","endR","arrowLength","arrowRelPos","getPosAlongLine","getPoint","iplt","lineLen","getLength","acc","posAlongLine","arrowHead","arrowTail","headVec","particleSpeedAccessor","cyclePhotons","__photonsObj","singleHopPhotons","__singleHopPhotonsObj","particleSpeed","getPhotonPos","photons","photon","singleHop","__linkThreeObjType","__progressRatio","photonPosRatio","emitParticle","graphScene","particleWidthAccessor","photonR","numSegments","particleGeometry","linkColorAccessor","particleColorAccessor","photonColor","materialColor","opacity","particleMaterial","color","transparent","getGraphBbox","bboxes","getBboxes","computeBoundingBox","box","boundingBox","__graphObjType","__data","bb","threeObj","hasAnyPropChanged","propList","customObjectAccessor","customObjectExtendAccessor","valAccessor","colorAccessor","visibilityAccessor","sphereGeometries","sphereMaterials","customObj","extendObj","__graphDefaultObj","parameters","widthSegments","equals","_customObjectAccessor","_customObjectExtendAccessor","customMaterialAccessor","_visibilityAccessor","_colorAccessor","widthAccessor","cylinderGeometries","lambertLineMaterials","basicLineMaterials","visibleLinks","defaultObj","useCylinder","lineGeometry","renderOrder","updObj","radiusTop","radialSegments","customMaterial","materialType","lineMaterials","depthWrite","arrowColorAccessor","coneGeometry","translate","rotateX","particlesAccessor","particleMaterials","particleGeometries","numPhotons","curPhoton","linkForce","maxDepth","getFFn","fix","fxFn","fyFn","fzFn","nodeDepth","_graph","dimensions","fromKapsule","kapsule","baseClass","initKapsuleWithSelf","FromKapsule","_baseClass","_super","__kapsuleInstance","_this$__kapsuleInstan","returnVal","three","threeForcegraph","_changeEvent","_startEvent","_endEvent","domElement","document","error","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","screen","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","mouseButtons","LEFT","MIDDLE","DOLLY","RIGHT","EPS","lastPosition","lastZoom","_state","_keyState","_touchZoomDistanceStart","_touchZoomDistanceEnd","_lastAngle","_eye","_movePrev","_moveCurr","_lastAxis","_zoomStart","_zoomEnd","_panStart","_panEnd","_pointers","_pointerPositions","target0","position0","up0","up","zoom0","zoom","handleResize","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","getMouseOnScreen","vector","pageX","pageY","getMouseOnCircle","setPointerCapture","pointerId","onPointerUp","addPointer","onTouchStart","onMouseDown","onTouchMove","onMouseMove","onTouchEnd","onMouseUp","removePointer","releasePointerCapture","keydown","keyup","button","onMouseWheel","preventDefault","deltaMode","deltaY","trackPointer","getSecondPointerPosition","contextmenu","pointer","rotateCamera","axis","quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","angle","crossVectors","setLength","setFromAxisAngle","applyQuaternion","zoomCamera","factor","isPerspectiveCamera","isOrthographicCamera","updateProjectionMatrix","panCamera","mouseChange","objectUp","pan","lengthSq","scale_x","clientWidth","scale_y","checkDistances","distanceToSquared","reset","passive","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","enableRotate","enablePan","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","touches","ONE","TWO","DOLLY_PAN","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","getDistance","listenToKeyEvents","onKeyDown","saveState","offset","quat","setFromUnitVectors","quatInverse","lastQuaternion","twoPI","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","addScaledVector","panOffset","setFromSpherical","zoomChanged","dot","onContextMenu","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","deltaX","targetDistance","tan","fov","clientHeight","matrix","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","mouseAction","ctrlKey","metaKey","shiftKey","DOLLY_ROTATE","movementSpeed","rollSpeed","dragToLook","autoForward","tmpQuaternion","mouseStatus","moveState","down","forward","back","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","rotationVector","altKey","movementSpeedMultiplier","updateMovementVector","updateRotationVector","mousedown","mousemove","container","getContainerDimensions","halfWidth","halfHeight","mouseup","delta","moveMult","rotMult","translateX","translateY","translateZ","multiply","offsetWidth","offsetHeight","offsetLeft","offsetTop","innerWidth","innerHeight","_mousedown","_mousemove","_mouseup","_keydown","_keyup","CopyShader","uniforms","vertexShader","fragmentShader","Pass","needsSwap","renderToScreen","_mesh","renderer","shader","textureID","defines","fsQuad","writeBuffer","readBuffer","setRenderTarget","autoClearColor","autoClearDepth","autoClearStencil","camera","inverse","context","getContext","writeValue","clearValue","buffers","setMask","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","renderTarget","minFilter","magFilter","format","getSize","_pixelRatio","getPixelRatio","_width","_height","renderTarget1","renderTarget2","passes","copyPass","pass","setSize","passIndex","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","isLastEnabledPass","NOTEQUAL","swapBuffers","effectiveWidth","effectiveHeight","pixelRatio","overrideMaterial","clearColor","clearAlpha","clearDepth","_oldClearColor","oldAutoClear","autoClear","oldClearAlpha","oldOverrideMaterial","getClearColor","getClearAlpha","setClearColor","_extends","_inheritsLoose","_isNativeFunction","_construct","isNativeReflectConstruct","_wrapNativeSuper","_cache","isNativeFunction","Wrapper","_Error","PolishedError","colorToInt","convertToInt","red","green","blue","hslToRgb","hue","saturation","lightness","convert","huePrime","chroma","secondComponent","lightnessModification","finalRed","finalGreen","finalBlue","namedColorMap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","nameToHex","normalizedColorName","toLowerCase","hexRegex","hexRgbaRegex","reducedHexRegex","reducedRgbaHexRegex","rgbRegex","rgbaRegex","hslRegex","hslaRegex","parseToRgb","normalizedColor","toFixed","_alpha","rgbMatched","exec","rgbaMatched","substring","hslMatched","rgbColorString","hslRgbMatched","hslaMatched","_hue","_saturation","_lightness","_rgbColorString","_hslRgbMatched","reduceHexValue","numberToHex","hex","rgb","rgba","firstValue","secondValue","thirdValue","fourthValue","rgbValue","curried","combined","curry","guard","lowerBoundary","upperBoundary","opacify","parsedColor","colorWithAlpha","curriedOpacify","styleInject","css","insertAt","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","WebGLRenderer","Scene","PerspectiveCamera","Raycaster","TextureLoader","Vector2","SphereGeometry","MeshBasicMaterial","BackSide","EventDispatcher","MOUSE","Quaternion","Spherical","Clock","threeRenderObjects","prevWidth","prevHeight","backgroundColor","backgroundImageUrl","onBackgroundImageLoaded","showNavInfo","skyRadius","enablePointerInteraction","hoverObj","toolTipElem","innerHTML","lineHoverPrecision","hoverOrderComparator","hoverFilter","tooltipContent","hoverDuringDrag","clickAfterDrag","onHover","onClick","onRightClick","controls","postProcessingComposer","extraRenderers","topObject","isPointerDragging","intersects","intersectingObjects","pointerPos","sort","topIntersect","intersectionPoint","point","getPointerPos","_state$pointerPos","cameraPosition","transitionDuration","finalPos","finalLookAt","camPos","camLookAt","getLookAt","setCameraPos","setLookAt","zoomToFit","padding","bboxArgs","fitToBbox","getBbox","bbox","center","maxBoxSide","coordType","coords","paddedFov","fitHeightDistance","atan","fitWidthDistance","aspect","newCameraPosition","objs","expandByObject","getScreenCoords","vec","project","getSceneCoords","screenX","screenY","relCoords","raycaster","at","params","threshold","tbControls","domNode","_ref4$controlType","controlType","_ref4$rendererConfig","rendererConfig","_ref4$extraRenderers","_ref4$waitForLoadComp","waitForLoadComplete","className","navInfo","textContent","orbit","trackball","fly","display","classList","evType","ev","isPointerPressed","pressure","movementX","movementY","getOffset","transform","el","scrollLeft","scrollTop","capture","antialias","setPixelRatio","devicePixelRatio","pointerEvents","addPass","controlsEngaged","controlsDragging","skysphere","visible","loadComplete","far","finishLoad","load","side","linkKapsule","kapsulePropName","kapsuleType","dummyK","linkProp","linkMethod","method","kapsuleInstance","AmbientLight","DirectionalLight","CAMERA_DISTANCE2NODES_FACTOR","bindFG","linkedFGProps","linkedFGMethods","bindRenderObjs","linkedRenderObjsProps","linkedRenderObjsMethods","graph2ScreenCoords","screen2GraphCoords","_3dForceGraph","nodeLabel","linkLabel","linkHoverPrecision","renderObjs","enableNavigationControls","enable","enableNodeDrag","onNodeDrag","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","_state$forceGraph","forceGraph","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","_destructor","roDomNode","infoElem","lastSetCameraZ","_dragControls","curNodeDrag","__initialFixedPos","__disposeControlsAfterDrag","dragControls","__initialPos","__prevPos","getGraphObj","nodeObj","initPos","prevPos","_newPos","newPos","__dragged","initFixedPos","PointerEvent","aObj","bObj","isNode","graphObj","prevObjType","prevObjData","objType","objData","_fn","_defineProperties","descriptor","_createClass","protoProps","staticProps","LinearFilter","Sprite","SpriteMaterial","Texture","_default","_three$Sprite","text","textHeight","_text","_textHeight","_color","_backgroundColor","_padding","_borderWidth","_borderRadius","_borderColor","_strokeWidth","_strokeColor","_fontFace","_fontSize","_fontWeight","_canvas","_texture","_genCanvas","borderWidth","borderRadius","borderColor","fontFace","fontSize","fontWeight","strokeWidth","strokeColor","_this2","canvas","border","relBorder","relBorderRadius","relPadding","lines","font","measureText","strokeStyle","hb","lineWidth","beginPath","moveTo","lineTo","stroke","_hb","cornerWidth","_hb2","quadraticCurveTo","fillStyle","closePath","fill","fillRect","textBaseline","drawTextStroke","lineX","lineY","strokeText","fillText","image","yScale","components","mounted","url","endsWith","sprite","middlePos","log","app","$store","commit","watch","component","getBuiltIn","aConstructor","nativeConstruct","ObjectPrototype","NEW_TARGET_BUG","ARGS_BUG","FORCED","Target","newTarget","$args","proto","collection","collectionStrong","classof","ARRAY_BUFFER_NON_EXTENSIBLE","$isExtensible","isExtensible","merge","targetHasIt","optionsValueType","shouldReplace","redefineAll","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","iterable","first","last","AS_ENTRIES","getInternalState","define","entry","getEntry","removed","callbackfn","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","opts","inputToRGB","_originalInput","_g","g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","ok","_tc_id","stringInputToObject","isValidCSSUnit","rgbToRgb","substr","h","convertToPercentage","hsvToRgb","boundAlpha","bound01","rgbToHsl","hue2rgb","rgbToHsv","mod","rgbToHex","allow3Char","pad2","rgbaToHex","allow4Char","convertDecimalToHex","rgbaToArgbHex","desaturate","hsl","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","hsv","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getLuminance","RsRGB","GsRGB","BsRGB","G","B","setAlpha","toHsvString","toHslString","toHexString","toHex8","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","_applyCombination","fromRatio","newColor","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","names","burntsienna","flip","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","hsla","hsva","hex3","hex6","hex4","hex8","named","parms","toUpperCase","isForced","InternalMetadataModule","isCallable","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","KEY","uncurriedNativeMethod","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","$this","NewTargetPrototype","generateCreateDragForceFunction","generateCreateDragForceFunctionBody","createPhysicsSimulator","generateQuadTreeFunction","generateBoundsFunction","generateCreateSpringForceFunction","dimensionalCache","Spring","springCoeff","dragCoeff","adaptiveTimeStepWeight","debug","factory","createQuadTree","createBounds","createDragForce","createSpringForce","integrate","createBody","bodies","quadTree","bounds","springForce","dragForce","totalMovement","forceMap","iterationNumber","addForce","nbodyForce","updateSpringForce","publicApi","removeForce","getForces","movement","addBody","body1","body2","getTotalMovement","getBestNewPosition","getBoundingBox","invalidateBBox","expose","forceFunction","forceIndex","insertBodies","updateBodyForce","augment","sourceIsNumber","generateQuadTreeFunctionBody","quadCount","getInsertStackCode","getQuadNodeCode","isSamePosition","getChildBodyCode","setChildBodyCode","assignQuads","runRecursiveOnChildren","assignInsertionQuadIndex","indentCount","insertionCode","recursiveCode","setChildBody","childBody","getChildBody","quadNodeCode","debounce","func","wait","immediate","timestamp","later","debounced","callNow","flush","preventExtensions","generateCreateSpringForceFunctionBody","generateFunctionBody","generateBoundsFunctionBody","ArrayBuffer","inputSeed","seed","Generator","gaussian","nextDouble","levy","beta","sigma","gamma","E","maxValue","randomIterator","customRandom","localRandom","shuffle","uniform","coefficient","hiddenKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternalModule","uid","FREEZING","REQUIRED","METADATA","setMetadata","objectID","weakData","getWeakData","onFreeze","meta","getOwnPropertyNames"],"mappings":"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","file":"js/chunk-3ae91c72.e9f44e3d.js","sourcesContent":["module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","'use strict';\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar arraySlice = require('../internals/array-slice');\n\nvar Function = global.Function;\nvar concat = uncurryThis([].concat);\nvar join = uncurryThis([].join);\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!hasOwn(factories, argsLength)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    factories[argsLength] = Function('C,a', 'return new C(' + join(list, ',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var F = aCallable(this);\n  var Prototype = F.prototype;\n  var partArgs = arraySlice(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = concat(partArgs, arraySlice(arguments));\n    return this instanceof boundFunction ? construct(F, args.length, args) : F.apply(that, args);\n  };\n  if (isObject(Prototype)) boundFunction.prototype = Prototype;\n  return boundFunction;\n};\n","\nconst createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateBodyFunction;\nmodule.exports.generateCreateBodyFunctionBody = generateCreateBodyFunctionBody;\n\n// InlineTransform: getVectorCode\nmodule.exports.getVectorCode = getVectorCode;\n// InlineTransform: getBodyCode\nmodule.exports.getBodyCode = getBodyCode;\n// InlineTransformExport: module.exports = function() { return Body; }\n\nfunction generateCreateBodyFunction(dimension, debugSetters) {\n  let code = generateCreateBodyFunctionBody(dimension, debugSetters);\n  let {Body} = (new Function(code))();\n  return Body;\n}\n\nfunction generateCreateBodyFunctionBody(dimension, debugSetters) {\n  let code = `\n${getVectorCode(dimension, debugSetters)}\n${getBodyCode(dimension, debugSetters)}\nreturn {Body: Body, Vector: Vector};\n`;\n  return code;\n}\n\nfunction getBodyCode(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let variableList = pattern('{var}', {join: ', '});\n  return `\nfunction Body(${variableList}) {\n  this.isPinned = false;\n  this.pos = new Vector(${variableList});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${variableList}) {\n  ${pattern('this.pos.{var} = {var} || 0;', {indent: 2})}\n};`;\n}\n\nfunction getVectorCode(dimension, debugSetters) {\n  let pattern = createPatternBuilder(dimension);\n  let setters = '';\n  if (debugSetters) {\n    setters = `${pattern(\"\\n\\\n   var v{var};\\n\\\nObject.defineProperty(this, '{var}', {\\n\\\n  set: function(v) { \\n\\\n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\\n\\\n    v{var} = v; \\n\\\n  },\\n\\\n  get: function() { return v{var}; }\\n\\\n});\")}`;\n  }\n\n  let variableList = pattern('{var}', {join: ', '});\n  return `function Vector(${variableList}) {\n  ${setters}\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ${pattern('if (!Number.isFinite(v.{var})) throw new Error(\"Expected value is not a finite number at Vector constructor ({var})\");', {indent: 4})}\n      ${pattern('this.{var} = v.{var};', {indent: 4})}\n    } else {\n      ${pattern('this.{var} = typeof {var} === \"number\" ? {var} : 0;', {indent: 4})}\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ${pattern('this.{var} = ', {join: ''})}0;\n  };`;\n}","/**\n * @fileOverview Contains definition of the core graph object.\n */\n\n// TODO: need to change storage layer:\n// 1. Be able to get all nodes O(1)\n// 2. Be able to get number of links O(1)\n\n/**\n * @example\n *  var graph = require('ngraph.graph')();\n *  graph.addNode(1);     // graph has one node.\n *  graph.addLink(2, 3);  // now graph contains three nodes and one link.\n *\n */\nmodule.exports = createGraph;\n\nvar eventify = require('ngraph.events');\n\n/**\n * Creates a new graph\n */\nfunction createGraph(options) {\n  // Graph structure is maintained as dictionary of nodes\n  // and array of links. Each node has 'links' property which\n  // hold all links related to that node. And general links\n  // array is used to speed up all links enumeration. This is inefficient\n  // in terms of memory, but simplifies coding.\n  options = options || {};\n  if ('uniqueLinkId' in options) {\n    console.warn(\n      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\\n' +\n      'Use `multigraph` option instead\\n',\n      '\\n',\n      'Note: there is also change in default behavior: From now on each graph\\n'+\n      'is considered to be not a multigraph by default (each edge is unique).'\n    );\n\n    options.multigraph = options.uniqueLinkId;\n  }\n\n  // Dear reader, the non-multigraphs do not guarantee that there is only\n  // one link for a given pair of node. When this option is set to false\n  // we can save some memory and CPU (18% faster for non-multigraph);\n  if (options.multigraph === undefined) options.multigraph = false;\n\n  if (typeof Map !== 'function') {\n    // TODO: Should we polyfill it ourselves? We don't use much operations there..\n    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');\n  } \n\n  var nodes = new Map();\n  var links = [],\n    // Hash of multi-edges. Used to track ids of edges between same nodes\n    multiEdges = {},\n    suspendEvents = 0,\n\n    createLink = options.multigraph ? createUniqueLink : createSingleLink,\n\n    // Our graph API provides means to listen to graph changes. Users can subscribe\n    // to be notified about changes in the graph by using `on` method. However\n    // in some cases they don't use it. To avoid unnecessary memory consumption\n    // we will not record graph changes until we have at least one subscriber.\n    // Code below supports this optimization.\n    //\n    // Accumulates all changes made during graph updates.\n    // Each change element contains:\n    //  changeType - one of the strings: 'add', 'remove' or 'update';\n    //  node - if change is related to node this property is set to changed graph's node;\n    //  link - if change is related to link this property is set to changed graph's link;\n    changes = [],\n    recordLinkChange = noop,\n    recordNodeChange = noop,\n    enterModification = noop,\n    exitModification = noop;\n\n  // this is our public API:\n  var graphPart = {\n    /**\n     * Adds node to the graph. If node with given id already exists in the graph\n     * its data is extended with whatever comes in 'data' argument.\n     *\n     * @param nodeId the node's identifier. A string or number is preferred.\n     * @param [data] additional data for the node being added. If node already\n     *   exists its data object is augmented with the new one.\n     *\n     * @return {node} The newly added node or node with given id if it already exists.\n     */\n    addNode: addNode,\n\n    /**\n     * Adds a link to the graph. The function always create a new\n     * link between two nodes. If one of the nodes does not exists\n     * a new node is created.\n     *\n     * @param fromId link start node id;\n     * @param toId link end node id;\n     * @param [data] additional data to be set on the new link;\n     *\n     * @return {link} The newly created link\n     */\n    addLink: addLink,\n\n    /**\n     * Removes link from the graph. If link does not exist does nothing.\n     *\n     * @param link - object returned by addLink() or getLinks() methods.\n     *\n     * @returns true if link was removed; false otherwise.\n     */\n    removeLink: removeLink,\n\n    /**\n     * Removes node with given id from the graph. If node does not exist in the graph\n     * does nothing.\n     *\n     * @param nodeId node's identifier passed to addNode() function.\n     *\n     * @returns true if node was removed; false otherwise.\n     */\n    removeNode: removeNode,\n\n    /**\n     * Gets node with given identifier. If node does not exist undefined value is returned.\n     *\n     * @param nodeId requested node identifier;\n     *\n     * @return {node} in with requested identifier or undefined if no such node exists.\n     */\n    getNode: getNode,\n\n    /**\n     * Gets number of nodes in this graph.\n     *\n     * @return number of nodes in the graph.\n     */\n    getNodeCount: getNodeCount,\n\n    /**\n     * Gets total number of links in the graph.\n     */\n    getLinkCount: getLinkCount,\n\n    /**\n     * Synonym for `getLinkCount()`\n     */\n    getLinksCount: getLinkCount,\n    \n    /**\n     * Synonym for `getNodeCount()`\n     */\n    getNodesCount: getNodeCount,\n\n    /**\n     * Gets all links (inbound and outbound) from the node with given id.\n     * If node with given id is not found null is returned.\n     *\n     * @param nodeId requested node identifier.\n     *\n     * @return Array of links from and to requested node if such node exists;\n     *   otherwise null is returned.\n     */\n    getLinks: getLinks,\n\n    /**\n     * Invokes callback on each node of the graph.\n     *\n     * @param {Function(node)} callback Function to be invoked. The function\n     *   is passed one argument: visited node.\n     */\n    forEachNode: forEachNode,\n\n    /**\n     * Invokes callback on every linked (adjacent) node to the given one.\n     *\n     * @param nodeId Identifier of the requested node.\n     * @param {Function(node, link)} callback Function to be called on all linked nodes.\n     *   The function is passed two parameters: adjacent node and link object itself.\n     * @param oriented if true graph treated as oriented.\n     */\n    forEachLinkedNode: forEachLinkedNode,\n\n    /**\n     * Enumerates all links in the graph\n     *\n     * @param {Function(link)} callback Function to be called on all links in the graph.\n     *   The function is passed one parameter: graph's link object.\n     *\n     * Link object contains at least the following fields:\n     *  fromId - node id where link starts;\n     *  toId - node id where link ends,\n     *  data - additional data passed to graph.addLink() method.\n     */\n    forEachLink: forEachLink,\n\n    /**\n     * Suspend all notifications about graph changes until\n     * endUpdate is called.\n     */\n    beginUpdate: enterModification,\n\n    /**\n     * Resumes all notifications about graph changes and fires\n     * graph 'changed' event in case there are any pending changes.\n     */\n    endUpdate: exitModification,\n\n    /**\n     * Removes all nodes and links from the graph.\n     */\n    clear: clear,\n\n    /**\n     * Detects whether there is a link between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     * NOTE: this function is synonim for getLink()\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    hasLink: getLink,\n\n    /**\n     * Detects whether there is a node with given id\n     * \n     * Operation complexity is O(1)\n     * NOTE: this function is synonim for getNode()\n     *\n     * @returns node if there is one; Falsy value otherwise.\n     */\n    hasNode: getNode,\n\n    /**\n     * Gets an edge between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     *\n     * @param {string} fromId link start identifier\n     * @param {string} toId link end identifier\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    getLink: getLink\n  };\n\n  // this will add `on()` and `fire()` methods.\n  eventify(graphPart);\n\n  monitorSubscribers();\n\n  return graphPart;\n\n  function monitorSubscribers() {\n    var realOn = graphPart.on;\n\n    // replace real `on` with our temporary on, which will trigger change\n    // modification monitoring:\n    graphPart.on = on;\n\n    function on() {\n      // now it's time to start tracking stuff:\n      graphPart.beginUpdate = enterModification = enterModificationReal;\n      graphPart.endUpdate = exitModification = exitModificationReal;\n      recordLinkChange = recordLinkChangeReal;\n      recordNodeChange = recordNodeChangeReal;\n\n      // this will replace current `on` method with real pub/sub from `eventify`.\n      graphPart.on = realOn;\n      // delegate to real `on` handler:\n      return realOn.apply(graphPart, arguments);\n    }\n  }\n\n  function recordLinkChangeReal(link, changeType) {\n    changes.push({\n      link: link,\n      changeType: changeType\n    });\n  }\n\n  function recordNodeChangeReal(node, changeType) {\n    changes.push({\n      node: node,\n      changeType: changeType\n    });\n  }\n\n  function addNode(nodeId, data) {\n    if (nodeId === undefined) {\n      throw new Error('Invalid node identifier');\n    }\n\n    enterModification();\n\n    var node = getNode(nodeId);\n    if (!node) {\n      node = new Node(nodeId, data);\n      recordNodeChange(node, 'add');\n    } else {\n      node.data = data;\n      recordNodeChange(node, 'update');\n    }\n\n    nodes.set(nodeId, node);\n\n    exitModification();\n    return node;\n  }\n\n  function getNode(nodeId) {\n    return nodes.get(nodeId);\n  }\n\n  function removeNode(nodeId) {\n    var node = getNode(nodeId);\n    if (!node) {\n      return false;\n    }\n\n    enterModification();\n\n    var prevLinks = node.links;\n    if (prevLinks) {\n      node.links = null;\n      for(var i = 0; i < prevLinks.length; ++i) {\n        removeLink(prevLinks[i]);\n      }\n    }\n\n    nodes.delete(nodeId)\n\n    recordNodeChange(node, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n\n  function addLink(fromId, toId, data) {\n    enterModification();\n\n    var fromNode = getNode(fromId) || addNode(fromId);\n    var toNode = getNode(toId) || addNode(toId);\n\n    var link = createLink(fromId, toId, data);\n\n    links.push(link);\n\n    // TODO: this is not cool. On large graphs potentially would consume more memory.\n    addLinkToNode(fromNode, link);\n    if (fromId !== toId) {\n      // make sure we are not duplicating links for self-loops\n      addLinkToNode(toNode, link);\n    }\n\n    recordLinkChange(link, 'add');\n\n    exitModification();\n\n    return link;\n  }\n\n  function createSingleLink(fromId, toId, data) {\n    var linkId = makeLinkId(fromId, toId);\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function createUniqueLink(fromId, toId, data) {\n    // TODO: Get rid of this method.\n    var linkId = makeLinkId(fromId, toId);\n    var isMultiEdge = multiEdges.hasOwnProperty(linkId);\n    if (isMultiEdge || getLink(fromId, toId)) {\n      if (!isMultiEdge) {\n        multiEdges[linkId] = 0;\n      }\n      var suffix = '@' + (++multiEdges[linkId]);\n      linkId = makeLinkId(fromId + suffix, toId + suffix);\n    }\n\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function getNodeCount() {\n    return nodes.size;\n  }\n\n  function getLinkCount() {\n    return links.length;\n  }\n\n  function getLinks(nodeId) {\n    var node = getNode(nodeId);\n    return node ? node.links : null;\n  }\n\n  function removeLink(link) {\n    if (!link) {\n      return false;\n    }\n    var idx = indexOfElementInArray(link, links);\n    if (idx < 0) {\n      return false;\n    }\n\n    enterModification();\n\n    links.splice(idx, 1);\n\n    var fromNode = getNode(link.fromId);\n    var toNode = getNode(link.toId);\n\n    if (fromNode) {\n      idx = indexOfElementInArray(link, fromNode.links);\n      if (idx >= 0) {\n        fromNode.links.splice(idx, 1);\n      }\n    }\n\n    if (toNode) {\n      idx = indexOfElementInArray(link, toNode.links);\n      if (idx >= 0) {\n        toNode.links.splice(idx, 1);\n      }\n    }\n\n    recordLinkChange(link, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n  function getLink(fromNodeId, toNodeId) {\n    // TODO: Use sorted links to speed this up\n    var node = getNode(fromNodeId),\n      i;\n    if (!node || !node.links) {\n      return null;\n    }\n\n    for (i = 0; i < node.links.length; ++i) {\n      var link = node.links[i];\n      if (link.fromId === fromNodeId && link.toId === toNodeId) {\n        return link;\n      }\n    }\n\n    return null; // no link.\n  }\n\n  function clear() {\n    enterModification();\n    forEachNode(function(node) {\n      removeNode(node.id);\n    });\n    exitModification();\n  }\n\n  function forEachLink(callback) {\n    var i, length;\n    if (typeof callback === 'function') {\n      for (i = 0, length = links.length; i < length; ++i) {\n        callback(links[i]);\n      }\n    }\n  }\n\n  function forEachLinkedNode(nodeId, callback, oriented) {\n    var node = getNode(nodeId);\n\n    if (node && node.links && typeof callback === 'function') {\n      if (oriented) {\n        return forEachOrientedLink(node.links, nodeId, callback);\n      } else {\n        return forEachNonOrientedLink(node.links, nodeId, callback);\n      }\n    }\n  }\n\n  function forEachNonOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;\n\n      quitFast = callback(nodes.get(linkedNodeId), link);\n      if (quitFast) {\n        return true; // Client does not need more iterations. Break now.\n      }\n    }\n  }\n\n  function forEachOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      if (link.fromId === nodeId) {\n        quitFast = callback(nodes.get(link.toId), link)\n        if (quitFast) {\n          return true; // Client does not need more iterations. Break now.\n        }\n      }\n    }\n  }\n\n  // we will not fire anything until users of this library explicitly call `on()`\n  // method.\n  function noop() {}\n\n  // Enter, Exit modification allows bulk graph updates without firing events.\n  function enterModificationReal() {\n    suspendEvents += 1;\n  }\n\n  function exitModificationReal() {\n    suspendEvents -= 1;\n    if (suspendEvents === 0 && changes.length > 0) {\n      graphPart.fire('changed', changes);\n      changes.length = 0;\n    }\n  }\n\n  function forEachNode(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);\n    }\n\n    var valuesIterator = nodes.values();\n    var nextValue = valuesIterator.next();\n    while (!nextValue.done) {\n      if (callback(nextValue.value)) {\n        return true; // client doesn't want to proceed. Return.\n      }\n      nextValue = valuesIterator.next();\n    }\n  }\n}\n\n// need this for old browsers. Should this be a separate module?\nfunction indexOfElementInArray(element, array) {\n  if (!array) return -1;\n\n  if (array.indexOf) {\n    return array.indexOf(element);\n  }\n\n  var len = array.length,\n    i;\n\n  for (i = 0; i < len; i += 1) {\n    if (array[i] === element) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Internal structure to represent node;\n */\nfunction Node(id, data) {\n  this.id = id;\n  this.links = null;\n  this.data = data;\n}\n\nfunction addLinkToNode(node, link) {\n  if (node.links) {\n    node.links.push(link);\n  } else {\n    node.links = [link];\n  }\n}\n\n/**\n * Internal structure to represent links;\n */\nfunction Link(fromId, toId, data, id) {\n  this.fromId = fromId;\n  this.toId = toId;\n  this.data = data;\n  this.id = id;\n}\n\nfunction makeLinkId(fromId, toId) {\n  return fromId.toString() + ' ' + toId.toString();\n}\n","module.exports = function getVariableName(index) {\n  if (index === 0) return 'x';\n  if (index === 1) return 'y';\n  if (index === 2) return 'z';\n  return 'c' + (index + 1);\n};","/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = {\n    Linear: {\n        None: function (amount) {\n            return amount;\n        },\n    },\n    Quadratic: {\n        In: function (amount) {\n            return amount * amount;\n        },\n        Out: function (amount) {\n            return amount * (2 - amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount;\n            }\n            return -0.5 * (--amount * (amount - 2) - 1);\n        },\n    },\n    Cubic: {\n        In: function (amount) {\n            return amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount + 2);\n        },\n    },\n    Quartic: {\n        In: function (amount) {\n            return amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return 1 - --amount * amount * amount * amount;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount;\n            }\n            return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n        },\n    },\n    Quintic: {\n        In: function (amount) {\n            return amount * amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n        },\n    },\n    Sinusoidal: {\n        In: function (amount) {\n            return 1 - Math.cos((amount * Math.PI) / 2);\n        },\n        Out: function (amount) {\n            return Math.sin((amount * Math.PI) / 2);\n        },\n        InOut: function (amount) {\n            return 0.5 * (1 - Math.cos(Math.PI * amount));\n        },\n    },\n    Exponential: {\n        In: function (amount) {\n            return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n        },\n        Out: function (amount) {\n            return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            if ((amount *= 2) < 1) {\n                return 0.5 * Math.pow(1024, amount - 1);\n            }\n            return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n        },\n    },\n    Circular: {\n        In: function (amount) {\n            return 1 - Math.sqrt(1 - amount * amount);\n        },\n        Out: function (amount) {\n            return Math.sqrt(1 - --amount * amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n        },\n    },\n    Elastic: {\n        In: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n        },\n        Out: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            amount *= 2;\n            if (amount < 1) {\n                return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n            }\n            return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n        },\n    },\n    Back: {\n        In: function (amount) {\n            var s = 1.70158;\n            return amount * amount * ((s + 1) * amount - s);\n        },\n        Out: function (amount) {\n            var s = 1.70158;\n            return --amount * amount * ((s + 1) * amount + s) + 1;\n        },\n        InOut: function (amount) {\n            var s = 1.70158 * 1.525;\n            if ((amount *= 2) < 1) {\n                return 0.5 * (amount * amount * ((s + 1) * amount - s));\n            }\n            return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n        },\n    },\n    Bounce: {\n        In: function (amount) {\n            return 1 - Easing.Bounce.Out(1 - amount);\n        },\n        Out: function (amount) {\n            if (amount < 1 / 2.75) {\n                return 7.5625 * amount * amount;\n            }\n            else if (amount < 2 / 2.75) {\n                return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n            }\n            else if (amount < 2.5 / 2.75) {\n                return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n            }\n            else {\n                return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n            }\n        },\n        InOut: function (amount) {\n            if (amount < 0.5) {\n                return Easing.Bounce.In(amount * 2) * 0.5;\n            }\n            return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n        },\n    },\n};\n\nvar now;\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n// eslint-disable-next-line\n// @ts-ignore\nif (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\n    now = function () {\n        // eslint-disable-next-line\n        // @ts-ignore\n        var time = process.hrtime();\n        // Convert [seconds, nanoseconds] to milliseconds.\n        return time[0] * 1000 + time[1] / 1000000;\n    };\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n    now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n    now = function () {\n        return new Date().getTime();\n    };\n}\nvar now$1 = now;\n\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\nvar Group = /** @class */ (function () {\n    function Group() {\n        this._tweens = {};\n        this._tweensAddedDuringUpdate = {};\n    }\n    Group.prototype.getAll = function () {\n        var _this = this;\n        return Object.keys(this._tweens).map(function (tweenId) {\n            return _this._tweens[tweenId];\n        });\n    };\n    Group.prototype.removeAll = function () {\n        this._tweens = {};\n    };\n    Group.prototype.add = function (tween) {\n        this._tweens[tween.getId()] = tween;\n        this._tweensAddedDuringUpdate[tween.getId()] = tween;\n    };\n    Group.prototype.remove = function (tween) {\n        delete this._tweens[tween.getId()];\n        delete this._tweensAddedDuringUpdate[tween.getId()];\n    };\n    Group.prototype.update = function (time, preserve) {\n        if (time === void 0) { time = now$1(); }\n        if (preserve === void 0) { preserve = false; }\n        var tweenIds = Object.keys(this._tweens);\n        if (tweenIds.length === 0) {\n            return false;\n        }\n        // Tweens are updated in \"batches\". If you add a new tween during an\n        // update, then the new tween will be updated in the next batch.\n        // If you remove a tween during an update, it may or may not be updated.\n        // However, if the removed tween was added during the current batch,\n        // then it will not be updated.\n        while (tweenIds.length > 0) {\n            this._tweensAddedDuringUpdate = {};\n            for (var i = 0; i < tweenIds.length; i++) {\n                var tween = this._tweens[tweenIds[i]];\n                var autoStart = !preserve;\n                if (tween && tween.update(time, autoStart) === false && !preserve) {\n                    delete this._tweens[tweenIds[i]];\n                }\n            }\n            tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n        }\n        return true;\n    };\n    return Group;\n}());\n\n/**\n *\n */\nvar Interpolation = {\n    Linear: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.Linear;\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n    },\n    Bezier: function (v, k) {\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = Interpolation.Utils.Bernstein;\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n        return b;\n    },\n    CatmullRom: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.CatmullRom;\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)));\n            }\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n        }\n        else {\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n        }\n    },\n    Utils: {\n        Linear: function (p0, p1, t) {\n            return (p1 - p0) * t + p0;\n        },\n        Bernstein: function (n, i) {\n            var fc = Interpolation.Utils.Factorial;\n            return fc(n) / fc(i) / fc(n - i);\n        },\n        Factorial: (function () {\n            var a = [1];\n            return function (n) {\n                var s = 1;\n                if (a[n]) {\n                    return a[n];\n                }\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n                a[n] = s;\n                return s;\n            };\n        })(),\n        CatmullRom: function (p0, p1, p2, p3, t) {\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n        },\n    },\n};\n\n/**\n * Utils\n */\nvar Sequence = /** @class */ (function () {\n    function Sequence() {\n    }\n    Sequence.nextId = function () {\n        return Sequence._nextId++;\n    };\n    Sequence._nextId = 0;\n    return Sequence;\n}());\n\nvar mainGroup = new Group();\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar Tween = /** @class */ (function () {\n    function Tween(_object, _group) {\n        if (_group === void 0) { _group = mainGroup; }\n        this._object = _object;\n        this._group = _group;\n        this._isPaused = false;\n        this._pauseStart = 0;\n        this._valuesStart = {};\n        this._valuesEnd = {};\n        this._valuesStartRepeat = {};\n        this._duration = 1000;\n        this._initialRepeat = 0;\n        this._repeat = 0;\n        this._yoyo = false;\n        this._isPlaying = false;\n        this._reversed = false;\n        this._delayTime = 0;\n        this._startTime = 0;\n        this._easingFunction = Easing.Linear.None;\n        this._interpolationFunction = Interpolation.Linear;\n        this._chainedTweens = [];\n        this._onStartCallbackFired = false;\n        this._id = Sequence.nextId();\n        this._isChainStopped = false;\n        this._goToEnd = false;\n    }\n    Tween.prototype.getId = function () {\n        return this._id;\n    };\n    Tween.prototype.isPlaying = function () {\n        return this._isPlaying;\n    };\n    Tween.prototype.isPaused = function () {\n        return this._isPaused;\n    };\n    Tween.prototype.to = function (properties, duration) {\n        // TODO? restore this, then update the 07_dynamic_to example to set fox\n        // tween's to on each update. That way the behavior is opt-in (there's\n        // currently no opt-out).\n        // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\n        this._valuesEnd = Object.create(properties);\n        if (duration !== undefined) {\n            this._duration = duration;\n        }\n        return this;\n    };\n    Tween.prototype.duration = function (d) {\n        this._duration = d;\n        return this;\n    };\n    Tween.prototype.start = function (time) {\n        if (this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        this._repeat = this._initialRepeat;\n        if (this._reversed) {\n            // If we were reversed (f.e. using the yoyo feature) then we need to\n            // flip the tween direction back to forward.\n            this._reversed = false;\n            for (var property in this._valuesStartRepeat) {\n                this._swapEndStartRepeatValues(property);\n                this._valuesStart[property] = this._valuesStartRepeat[property];\n            }\n        }\n        this._isPlaying = true;\n        this._isPaused = false;\n        this._onStartCallbackFired = false;\n        this._isChainStopped = false;\n        this._startTime = time !== undefined ? (typeof time === 'string' ? now$1() + parseFloat(time) : time) : now$1();\n        this._startTime += this._delayTime;\n        this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat);\n        return this;\n    };\n    Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat) {\n        for (var property in _valuesEnd) {\n            var startValue = _object[property];\n            var startValueIsArray = Array.isArray(startValue);\n            var propType = startValueIsArray ? 'array' : typeof startValue;\n            var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (propType === 'undefined' || propType === 'function') {\n                continue;\n            }\n            // Check if an Array was provided as property value\n            if (isInterpolationList) {\n                var endValues = _valuesEnd[property];\n                if (endValues.length === 0) {\n                    continue;\n                }\n                // handle an array of relative values\n                endValues = endValues.map(this._handleRelativeValue.bind(this, startValue));\n                // Create a local copy of the Array with the start value at the front\n                _valuesEnd[property] = [startValue].concat(endValues);\n            }\n            // handle the deepness of the values\n            if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n                _valuesStart[property] = startValueIsArray ? [] : {};\n                // eslint-disable-next-line\n                for (var prop in startValue) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property][prop] = startValue[prop];\n                }\n                _valuesStartRepeat[property] = startValueIsArray ? [] : {}; // TODO? repeat nested values? And yoyo? And array values?\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property]);\n            }\n            else {\n                // Save the starting value, but only once.\n                if (typeof _valuesStart[property] === 'undefined') {\n                    _valuesStart[property] = startValue;\n                }\n                if (!startValueIsArray) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n                }\n                if (isInterpolationList) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n                }\n                else {\n                    _valuesStartRepeat[property] = _valuesStart[property] || 0;\n                }\n            }\n        }\n    };\n    Tween.prototype.stop = function () {\n        if (!this._isChainStopped) {\n            this._isChainStopped = true;\n            this.stopChainedTweens();\n        }\n        if (!this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        this._isPlaying = false;\n        this._isPaused = false;\n        if (this._onStopCallback) {\n            this._onStopCallback(this._object);\n        }\n        return this;\n    };\n    Tween.prototype.end = function () {\n        this._goToEnd = true;\n        this.update(Infinity);\n        return this;\n    };\n    Tween.prototype.pause = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = true;\n        this._pauseStart = time;\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        return this;\n    };\n    Tween.prototype.resume = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (!this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = false;\n        this._startTime += time - this._pauseStart;\n        this._pauseStart = 0;\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        return this;\n    };\n    Tween.prototype.stopChainedTweens = function () {\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n            this._chainedTweens[i].stop();\n        }\n        return this;\n    };\n    Tween.prototype.group = function (group) {\n        this._group = group;\n        return this;\n    };\n    Tween.prototype.delay = function (amount) {\n        this._delayTime = amount;\n        return this;\n    };\n    Tween.prototype.repeat = function (times) {\n        this._initialRepeat = times;\n        this._repeat = times;\n        return this;\n    };\n    Tween.prototype.repeatDelay = function (amount) {\n        this._repeatDelayTime = amount;\n        return this;\n    };\n    Tween.prototype.yoyo = function (yoyo) {\n        this._yoyo = yoyo;\n        return this;\n    };\n    Tween.prototype.easing = function (easingFunction) {\n        this._easingFunction = easingFunction;\n        return this;\n    };\n    Tween.prototype.interpolation = function (interpolationFunction) {\n        this._interpolationFunction = interpolationFunction;\n        return this;\n    };\n    Tween.prototype.chain = function () {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        this._chainedTweens = tweens;\n        return this;\n    };\n    Tween.prototype.onStart = function (callback) {\n        this._onStartCallback = callback;\n        return this;\n    };\n    Tween.prototype.onUpdate = function (callback) {\n        this._onUpdateCallback = callback;\n        return this;\n    };\n    Tween.prototype.onRepeat = function (callback) {\n        this._onRepeatCallback = callback;\n        return this;\n    };\n    Tween.prototype.onComplete = function (callback) {\n        this._onCompleteCallback = callback;\n        return this;\n    };\n    Tween.prototype.onStop = function (callback) {\n        this._onStopCallback = callback;\n        return this;\n    };\n    /**\n     * @returns true if the tween is still playing after the update, false\n     * otherwise (calling update on a paused tween still returns true because\n     * it is still playing, just paused).\n     */\n    Tween.prototype.update = function (time, autoStart) {\n        if (time === void 0) { time = now$1(); }\n        if (autoStart === void 0) { autoStart = true; }\n        if (this._isPaused)\n            return true;\n        var property;\n        var elapsed;\n        var endTime = this._startTime + this._duration;\n        if (!this._goToEnd && !this._isPlaying) {\n            if (time > endTime)\n                return false;\n            if (autoStart)\n                this.start(time);\n        }\n        this._goToEnd = false;\n        if (time < this._startTime) {\n            return true;\n        }\n        if (this._onStartCallbackFired === false) {\n            if (this._onStartCallback) {\n                this._onStartCallback(this._object);\n            }\n            this._onStartCallbackFired = true;\n        }\n        elapsed = (time - this._startTime) / this._duration;\n        elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n        var value = this._easingFunction(elapsed);\n        // properties transformations\n        this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n        if (this._onUpdateCallback) {\n            this._onUpdateCallback(this._object, elapsed);\n        }\n        if (elapsed === 1) {\n            if (this._repeat > 0) {\n                if (isFinite(this._repeat)) {\n                    this._repeat--;\n                }\n                // Reassign starting values, restart by making startTime = now\n                for (property in this._valuesStartRepeat) {\n                    if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n                        this._valuesStartRepeat[property] =\n                            // eslint-disable-next-line\n                            // @ts-ignore FIXME?\n                            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n                    }\n                    if (this._yoyo) {\n                        this._swapEndStartRepeatValues(property);\n                    }\n                    this._valuesStart[property] = this._valuesStartRepeat[property];\n                }\n                if (this._yoyo) {\n                    this._reversed = !this._reversed;\n                }\n                if (this._repeatDelayTime !== undefined) {\n                    this._startTime = time + this._repeatDelayTime;\n                }\n                else {\n                    this._startTime = time + this._delayTime;\n                }\n                if (this._onRepeatCallback) {\n                    this._onRepeatCallback(this._object);\n                }\n                return true;\n            }\n            else {\n                if (this._onCompleteCallback) {\n                    this._onCompleteCallback(this._object);\n                }\n                for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    this._chainedTweens[i].start(this._startTime + this._duration);\n                }\n                this._isPlaying = false;\n                return false;\n            }\n        }\n        return true;\n    };\n    Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n        for (var property in _valuesEnd) {\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n            var startIsArray = Array.isArray(_object[property]);\n            var endIsArray = Array.isArray(end);\n            var isInterpolationList = !startIsArray && endIsArray;\n            if (isInterpolationList) {\n                _object[property] = this._interpolationFunction(end, value);\n            }\n            else if (typeof end === 'object' && end) {\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._updateProperties(_object[property], start, end, value);\n            }\n            else {\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                end = this._handleRelativeValue(start, end);\n                // Protect against non numeric properties.\n                if (typeof end === 'number') {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _object[property] = start + (end - start) * value;\n                }\n            }\n        }\n    };\n    Tween.prototype._handleRelativeValue = function (start, end) {\n        if (typeof end !== 'string') {\n            return end;\n        }\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n            return start + parseFloat(end);\n        }\n        else {\n            return parseFloat(end);\n        }\n    };\n    Tween.prototype._swapEndStartRepeatValues = function (property) {\n        var tmp = this._valuesStartRepeat[property];\n        var endValue = this._valuesEnd[property];\n        if (typeof endValue === 'string') {\n            this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n        }\n        else {\n            this._valuesStartRepeat[property] = this._valuesEnd[property];\n        }\n        this._valuesEnd[property] = tmp;\n    };\n    return Tween;\n}());\n\nvar VERSION = '18.6.4';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\nvar TWEEN = mainGroup;\n// This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\nvar getAll = TWEEN.getAll.bind(TWEEN);\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\nvar add = TWEEN.add.bind(TWEEN);\nvar remove = TWEEN.remove.bind(TWEEN);\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n    Easing: Easing,\n    Group: Group,\n    Interpolation: Interpolation,\n    now: now$1,\n    Sequence: Sequence,\n    nextId: nextId,\n    Tween: Tween,\n    VERSION: VERSION,\n    getAll: getAll,\n    removeAll: removeAll,\n    add: add,\n    remove: remove,\n    update: update,\n};\n\nexport default exports;\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, getAll, nextId, now$1 as now, remove, removeAll, update };\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","const getVariableName = require('./getVariableName');\n\nmodule.exports = function createPatternBuilder(dimension) {\n\n  return pattern;\n  \n  function pattern(template, config) {\n    let indent = (config && config.indent) || 0;\n    let join = (config && config.join !== undefined) ? config.join : '\\n';\n    let indentString = Array(indent + 1).join(' ');\n    let buffer = [];\n    for (let i = 0; i < dimension; ++i) {\n      let variableName = getVariableName(i);\n      let prefix = (i === 0) ? '' : indentString;\n      buffer.push(prefix + template.replace(/{var}/g, variableName));\n    }\n    return buffer.join(join);\n  }\n};\n","module.exports = createLayout;\nmodule.exports.simulator = require('./lib/createPhysicsSimulator');\n\nvar eventify = require('ngraph.events');\n\n/**\n * Creates force based layout for a given graph.\n *\n * @param {ngraph.graph} graph which needs to be laid out\n * @param {object} physicsSettings if you need custom settings\n * for physics simulator you can pass your own settings here. If it's not passed\n * a default one will be created.\n */\nfunction createLayout(graph, physicsSettings) {\n  if (!graph) {\n    throw new Error('Graph structure cannot be undefined');\n  }\n\n  var createSimulator = (physicsSettings && physicsSettings.createSimulator) || require('./lib/createPhysicsSimulator');\n  var physicsSimulator = createSimulator(physicsSettings);\n  if (Array.isArray(physicsSettings)) throw new Error('Physics settings is expected to be an object');\n\n  var nodeMass = graph.version > 19 ? defaultSetNodeMass : defaultArrayNodeMass;\n  if (physicsSettings && typeof physicsSettings.nodeMass === 'function') {\n    nodeMass = physicsSettings.nodeMass;\n  }\n\n  var nodeBodies = new Map();\n  var springs = {};\n  var bodiesCount = 0;\n\n  var springTransform = physicsSimulator.settings.springTransform || noop;\n\n  // Initialize physics with what we have in the graph:\n  initPhysics();\n  listenToEvents();\n\n  var wasStable = false;\n\n  var api = {\n    /**\n     * Performs one step of iterative layout algorithm\n     *\n     * @returns {boolean} true if the system should be considered stable; False otherwise.\n     * The system is stable if no further call to `step()` can improve the layout.\n     */\n    step: function() {\n      if (bodiesCount === 0) {\n        updateStableStatus(true);\n        return true;\n      }\n\n      var lastMove = physicsSimulator.step();\n\n      // Save the movement in case if someone wants to query it in the step\n      // callback.\n      api.lastMove = lastMove;\n\n      // Allow listeners to perform low-level actions after nodes are updated.\n      api.fire('step');\n\n      var ratio = lastMove/bodiesCount;\n      var isStableNow = ratio <= 0.01; // TODO: The number is somewhat arbitrary...\n      updateStableStatus(isStableNow);\n\n\n      return isStableNow;\n    },\n\n    /**\n     * For a given `nodeId` returns position\n     */\n    getNodePosition: function (nodeId) {\n      return getInitializedBody(nodeId).pos;\n    },\n\n    /**\n     * Sets position of a node to a given coordinates\n     * @param {string} nodeId node identifier\n     * @param {number} x position of a node\n     * @param {number} y position of a node\n     * @param {number=} z position of node (only if applicable to body)\n     */\n    setNodePosition: function (nodeId) {\n      var body = getInitializedBody(nodeId);\n      body.setPosition.apply(body, Array.prototype.slice.call(arguments, 1));\n    },\n\n    /**\n     * @returns {Object} Link position by link id\n     * @returns {Object.from} {x, y} coordinates of link start\n     * @returns {Object.to} {x, y} coordinates of link end\n     */\n    getLinkPosition: function (linkId) {\n      var spring = springs[linkId];\n      if (spring) {\n        return {\n          from: spring.from.pos,\n          to: spring.to.pos\n        };\n      }\n    },\n\n    /**\n     * @returns {Object} area required to fit in the graph. Object contains\n     * `x1`, `y1` - top left coordinates\n     * `x2`, `y2` - bottom right coordinates\n     */\n    getGraphRect: function () {\n      return physicsSimulator.getBBox();\n    },\n\n    /**\n     * Iterates over each body in the layout simulator and performs a callback(body, nodeId)\n     */\n    forEachBody: forEachBody,\n\n    /*\n     * Requests layout algorithm to pin/unpin node to its current position\n     * Pinned nodes should not be affected by layout algorithm and always\n     * remain at their position\n     */\n    pinNode: function (node, isPinned) {\n      var body = getInitializedBody(node.id);\n       body.isPinned = !!isPinned;\n    },\n\n    /**\n     * Checks whether given graph's node is currently pinned\n     */\n    isNodePinned: function (node) {\n      return getInitializedBody(node.id).isPinned;\n    },\n\n    /**\n     * Request to release all resources\n     */\n    dispose: function() {\n      graph.off('changed', onGraphChanged);\n      api.fire('disposed');\n    },\n\n    /**\n     * Gets physical body for a given node id. If node is not found undefined\n     * value is returned.\n     */\n    getBody: getBody,\n\n    /**\n     * Gets spring for a given edge.\n     *\n     * @param {string} linkId link identifer. If two arguments are passed then\n     * this argument is treated as formNodeId\n     * @param {string=} toId when defined this parameter denotes head of the link\n     * and first argument is treated as tail of the link (fromId)\n     */\n    getSpring: getSpring,\n\n    /**\n     * Returns length of cumulative force vector. The closer this to zero - the more stable the system is\n     */\n    getForceVectorLength: getForceVectorLength,\n\n    /**\n     * [Read only] Gets current physics simulator\n     */\n    simulator: physicsSimulator,\n\n    /**\n     * Gets the graph that was used for layout\n     */\n    graph: graph,\n\n    /**\n     * Gets amount of movement performed during last step operation\n     */\n    lastMove: 0\n  };\n\n  eventify(api);\n\n  return api;\n\n  function updateStableStatus(isStableNow) {\n    if (wasStable !== isStableNow) {\n      wasStable = isStableNow;\n      onStableChanged(isStableNow);\n    }\n  }\n\n  function forEachBody(cb) {\n    nodeBodies.forEach(cb);\n  }\n\n  function getForceVectorLength() {\n    var fx = 0, fy = 0;\n    forEachBody(function(body) {\n      fx += Math.abs(body.force.x);\n      fy += Math.abs(body.force.y);\n    });\n    return Math.sqrt(fx * fx + fy * fy);\n  }\n\n  function getSpring(fromId, toId) {\n    var linkId;\n    if (toId === undefined) {\n      if (typeof fromId !== 'object') {\n        // assume fromId as a linkId:\n        linkId = fromId;\n      } else {\n        // assume fromId to be a link object:\n        linkId = fromId.id;\n      }\n    } else {\n      // toId is defined, should grab link:\n      var link = graph.hasLink(fromId, toId);\n      if (!link) return;\n      linkId = link.id;\n    }\n\n    return springs[linkId];\n  }\n\n  function getBody(nodeId) {\n    return nodeBodies.get(nodeId);\n  }\n\n  function listenToEvents() {\n    graph.on('changed', onGraphChanged);\n  }\n\n  function onStableChanged(isStable) {\n    api.fire('stable', isStable);\n  }\n\n  function onGraphChanged(changes) {\n    for (var i = 0; i < changes.length; ++i) {\n      var change = changes[i];\n      if (change.changeType === 'add') {\n        if (change.node) {\n          initBody(change.node.id);\n        }\n        if (change.link) {\n          initLink(change.link);\n        }\n      } else if (change.changeType === 'remove') {\n        if (change.node) {\n          releaseNode(change.node);\n        }\n        if (change.link) {\n          releaseLink(change.link);\n        }\n      }\n    }\n    bodiesCount = graph.getNodesCount();\n  }\n\n  function initPhysics() {\n    bodiesCount = 0;\n\n    graph.forEachNode(function (node) {\n      initBody(node.id);\n      bodiesCount += 1;\n    });\n\n    graph.forEachLink(initLink);\n  }\n\n  function initBody(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    if (!body) {\n      var node = graph.getNode(nodeId);\n      if (!node) {\n        throw new Error('initBody() was called with unknown node id');\n      }\n\n      var pos = node.position;\n      if (!pos) {\n        var neighbors = getNeighborBodies(node);\n        pos = physicsSimulator.getBestNewBodyPosition(neighbors);\n      }\n\n      body = physicsSimulator.addBodyAt(pos);\n      body.id = nodeId;\n\n      nodeBodies.set(nodeId, body);\n      updateBodyMass(nodeId);\n\n      if (isNodeOriginallyPinned(node)) {\n        body.isPinned = true;\n      }\n    }\n  }\n\n  function releaseNode(node) {\n    var nodeId = node.id;\n    var body = nodeBodies.get(nodeId);\n    if (body) {\n      nodeBodies.delete(nodeId);\n      physicsSimulator.removeBody(body);\n    }\n  }\n\n  function initLink(link) {\n    updateBodyMass(link.fromId);\n    updateBodyMass(link.toId);\n\n    var fromBody = nodeBodies.get(link.fromId),\n        toBody  = nodeBodies.get(link.toId),\n        spring = physicsSimulator.addSpring(fromBody, toBody, link.length);\n\n    springTransform(link, spring);\n\n    springs[link.id] = spring;\n  }\n\n  function releaseLink(link) {\n    var spring = springs[link.id];\n    if (spring) {\n      var from = graph.getNode(link.fromId),\n          to = graph.getNode(link.toId);\n\n      if (from) updateBodyMass(from.id);\n      if (to) updateBodyMass(to.id);\n\n      delete springs[link.id];\n\n      physicsSimulator.removeSpring(spring);\n    }\n  }\n\n  function getNeighborBodies(node) {\n    // TODO: Could probably be done better on memory\n    var neighbors = [];\n    if (!node.links) {\n      return neighbors;\n    }\n    var maxNeighbors = Math.min(node.links.length, 2);\n    for (var i = 0; i < maxNeighbors; ++i) {\n      var link = node.links[i];\n      var otherBody = link.fromId !== node.id ? nodeBodies.get(link.fromId) : nodeBodies.get(link.toId);\n      if (otherBody && otherBody.pos) {\n        neighbors.push(otherBody);\n      }\n    }\n\n    return neighbors;\n  }\n\n  function updateBodyMass(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    body.mass = nodeMass(nodeId);\n    if (Number.isNaN(body.mass)) {\n      throw new Error('Node mass should be a number');\n    }\n  }\n\n  /**\n   * Checks whether graph node has in its settings pinned attribute,\n   * which means layout algorithm cannot move it. Node can be marked\n   * as pinned, if it has \"isPinned\" attribute, or when node.data has it.\n   *\n   * @param {Object} node a graph node to check\n   * @return {Boolean} true if node should be treated as pinned; false otherwise.\n   */\n  function isNodeOriginallyPinned(node) {\n    return (node && (node.isPinned || (node.data && node.data.isPinned)));\n  }\n\n  function getInitializedBody(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    if (!body) {\n      initBody(nodeId);\n      body = nodeBodies.get(nodeId);\n    }\n    return body;\n  }\n\n  /**\n   * Calculates mass of a body, which corresponds to node with given id.\n   *\n   * @param {String|Number} nodeId identifier of a node, for which body mass needs to be calculated\n   * @returns {Number} recommended mass of the body;\n   */\n  function defaultArrayNodeMass(nodeId) {\n    // This function is for older versions of ngraph.graph.\n    var links = graph.getLinks(nodeId);\n    if (!links) return 1;\n    return 1 + links.length / 3.0;\n  }\n\n  function defaultSetNodeMass(nodeId) {\n    var links = graph.getLinks(nodeId);\n    if (!links) return 1;\n    return 1 + links.size / 3.0;\n  }\n}\n\nfunction noop() { }\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateIntegratorFunction;\nmodule.exports.generateIntegratorFunctionBody = generateIntegratorFunctionBody;\n\nfunction generateIntegratorFunction(dimension) {\n  let code = generateIntegratorFunctionBody(dimension);\n  return new Function('bodies', 'timeStep', 'adaptiveTimeStepWeight', code);\n}\n\nfunction generateIntegratorFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${pattern('var d{var} = 0, t{var} = 0;', {indent: 2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${pattern('body.velocity.{var} += coeff * body.force.{var};', {indent: 4})}\n    ${pattern('var v{var} = body.velocity.{var};', {indent: 4})}\n    var v = Math.sqrt(${pattern('v{var} * v{var}', {join: ' + '})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${pattern('body.velocity.{var} = v{var} / v;', {indent: 6})}\n    }\n\n    ${pattern('d{var} = timeStep * body.velocity.{var};', {indent: 4})}\n\n    ${pattern('body.pos.{var} += d{var};', {indent: 4})}\n\n    ${pattern('t{var} += Math.abs(d{var});', {indent: 4})}\n  }\n\n  return (${pattern('t{var} * t{var}', {join: ' + '})})/length;\n`;\n  return code;\n}\n","var $ = require('../internals/export');\n\n// eslint-disable-next-line es/no-math-hypot -- required for testing\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.es/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  hypot: function hypot(value1, value2) {\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Ui',{attrs:{\"Graph\":_vm.Graph,\"nodes\":_vm.nodes},on:{\"switch-brain\":_vm.switchBrain}}),_c('div',{ref:\"graph\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import {\n\tEventDispatcher,\n\tMatrix4,\n\tPlane,\n\tRaycaster,\n\tVector2,\n\tVector3\n} from 'three';\n\nconst _plane = new Plane();\nconst _raycaster = new Raycaster();\n\nconst _pointer = new Vector2();\nconst _offset = new Vector3();\nconst _intersection = new Vector3();\nconst _worldPosition = new Vector3();\nconst _inverseMatrix = new Matrix4();\n\nclass DragControls extends EventDispatcher {\n\n\tconstructor( _objects, _camera, _domElement ) {\n\n\t\tsuper();\n\n\t\t_domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\tlet _selected = null, _hovered = null;\n\n\t\tconst _intersections = [];\n\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tfunction activate() {\n\n\t\t\t_domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t_domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\t\t_domElement.addEventListener( 'pointerup', onPointerCancel );\n\t\t\t_domElement.addEventListener( 'pointerleave', onPointerCancel );\n\n\t\t}\n\n\t\tfunction deactivate() {\n\n\t\t\t_domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t_domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\t_domElement.removeEventListener( 'pointerup', onPointerCancel );\n\t\t\t_domElement.removeEventListener( 'pointerleave', onPointerCancel );\n\n\t\t\t_domElement.style.cursor = '';\n\n\t\t}\n\n\t\tfunction dispose() {\n\n\t\t\tdeactivate();\n\n\t\t}\n\n\t\tfunction getObjects() {\n\n\t\t\treturn _objects;\n\n\t\t}\n\n\t\tfunction getRaycaster() {\n\n\t\t\treturn _raycaster;\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tupdatePointer( event );\n\n\t\t\t_raycaster.setFromCamera( _pointer, _camera );\n\n\t\t\tif ( _selected ) {\n\n\t\t\t\tif ( _raycaster.ray.intersectPlane( _plane, _intersection ) ) {\n\n\t\t\t\t\t_selected.position.copy( _intersection.sub( _offset ).applyMatrix4( _inverseMatrix ) );\n\n\t\t\t\t}\n\n\t\t\t\tscope.dispatchEvent( { type: 'drag', object: _selected } );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\t// hover support\n\n\t\t\tif ( event.pointerType === 'mouse' || event.pointerType === 'pen' ) {\n\n\t\t\t\t_intersections.length = 0;\n\n\t\t\t\t_raycaster.setFromCamera( _pointer, _camera );\n\t\t\t\t_raycaster.intersectObjects( _objects, true, _intersections );\n\n\t\t\t\tif ( _intersections.length > 0 ) {\n\n\t\t\t\t\tconst object = _intersections[ 0 ].object;\n\n\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( _camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( object.matrixWorld ) );\n\n\t\t\t\t\tif ( _hovered !== object && _hovered !== null ) {\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveroff', object: _hovered } );\n\n\t\t\t\t\t\t_domElement.style.cursor = 'auto';\n\t\t\t\t\t\t_hovered = null;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( _hovered !== object ) {\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveron', object: object } );\n\n\t\t\t\t\t\t_domElement.style.cursor = 'pointer';\n\t\t\t\t\t\t_hovered = object;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( _hovered !== null ) {\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: 'hoveroff', object: _hovered } );\n\n\t\t\t\t\t\t_domElement.style.cursor = 'auto';\n\t\t\t\t\t\t_hovered = null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tupdatePointer( event );\n\n\t\t\t_intersections.length = 0;\n\n\t\t\t_raycaster.setFromCamera( _pointer, _camera );\n\t\t\t_raycaster.intersectObjects( _objects, true, _intersections );\n\n\t\t\tif ( _intersections.length > 0 ) {\n\n\t\t\t\t_selected = ( scope.transformGroup === true ) ? _objects[ 0 ] : _intersections[ 0 ].object;\n\n\t\t\t\t_plane.setFromNormalAndCoplanarPoint( _camera.getWorldDirection( _plane.normal ), _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\n\n\t\t\t\tif ( _raycaster.ray.intersectPlane( _plane, _intersection ) ) {\n\n\t\t\t\t\t_inverseMatrix.copy( _selected.parent.matrixWorld ).invert();\n\t\t\t\t\t_offset.copy( _intersection ).sub( _worldPosition.setFromMatrixPosition( _selected.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t\t_domElement.style.cursor = 'move';\n\n\t\t\t\tscope.dispatchEvent( { type: 'dragstart', object: _selected } );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction onPointerCancel() {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( _selected ) {\n\n\t\t\t\tscope.dispatchEvent( { type: 'dragend', object: _selected } );\n\n\t\t\t\t_selected = null;\n\n\t\t\t}\n\n\t\t\t_domElement.style.cursor = _hovered ? 'pointer' : 'auto';\n\n\t\t}\n\n\t\tfunction updatePointer( event ) {\n\n\t\t\tconst rect = _domElement.getBoundingClientRect();\n\n\t\t\t_pointer.x = ( event.clientX - rect.left ) / rect.width * 2 - 1;\n\t\t\t_pointer.y = - ( event.clientY - rect.top ) / rect.height * 2 + 1;\n\n\t\t}\n\n\t\tactivate();\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\t\tthis.transformGroup = false;\n\n\t\tthis.activate = activate;\n\t\tthis.deactivate = deactivate;\n\t\tthis.dispose = dispose;\n\t\tthis.getObjects = getObjects;\n\t\tthis.getRaycaster = getRaycaster;\n\n\t}\n\n}\n\nexport { DragControls };\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nvar MAX_DIMENSIONS = 3;\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nexport function z(d) {\n  return d.z;\n}\n\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)), // Golden ratio angle\n    initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function(nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;\n          else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;\n          else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || (nDim > 1 && isNaN(node.y)) || (nDim > 2 && isNaN(node.z))) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : (nDim > 1 ? Math.sqrt(0.5 + i) : i)),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else { // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || (nDim > 1 && isNaN(node.vy)) || (nDim > 2 && isNaN(node.vz))) {\n        node.vx = 0;\n        if (nDim > 1) { node.vy = 0; }\n        if (nDim > 2) { node.vz = 0; }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random, nDim);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    numDimensions: function(_) {\n      return arguments.length\n          ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation)\n          : nDim;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z ||0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) { y = target.y + target.vy - source.y - source.vy || jiggle(random); }\n        if (nDim > 2) { z = target.z + target.vz - source.z - source.vz || jiggle(random); }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) { target.vy -= y * b; }\n        if (nDim > 2) { target.vz -= z * b; }\n\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) { source.vy += y * b; }\n        if (nDim > 2) { source.vz += z * b; }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var i, n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1) {\n      i = +(x < x0);\n      parent = new Array(2), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z; break;\n        case 1: x0 = x1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n","export default function(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n","import Half from \"./half\";\n\nexport default function(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\n\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1 || z0 > z1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var t = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1 || z0 > z || z >= z1) {\n      i = (z < z0) << 2 | (y < y0) << 1 | (x < x0);\n      parent = new Array(8), parent[i] = node, node = parent, t *= 2;\n      switch (i) {\n        case 0: x1 = x0 + t, y1 = y0 + t, z1 = z0 + t; break;\n        case 1: x0 = x1 - t, y1 = y0 + t, z1 = z0 + t; break;\n        case 2: x1 = x0 + t, y0 = y1 - t, z1 = z0 + t; break;\n        case 3: x0 = x1 - t, y0 = y1 - t, z1 = z0 + t; break;\n        case 4: x1 = x0 + t, y1 = y0 + t, z0 = z1 - t; break;\n        case 5: x0 = x1 - t, y1 = y0 + t, z0 = z1 - t; break;\n        case 6: x1 = x0 + t, y0 = y1 - t, z0 = z1 - t; break;\n        case 7: x0 = x1 - t, y0 = y1 - t, z0 = z1 - t; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}\n","export default function(node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}\n","import Octant from \"./octant\";\n\nexport default function(x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n\n    // Stop searching if this octant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (z1 = q.z0) > z3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0\n        || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n\n      octs.push(\n        new Octant(node[7], xm, ym, zm, x2, y2, z2),\n        new Octant(node[6], x1, ym, zm, xm, y2, z2),\n        new Octant(node[5], xm, y1, zm, x2, ym, z2),\n        new Octant(node[4], x1, y1, zm, xm, ym, z2),\n        new Octant(node[3], xm, ym, z1, x2, y2, zm),\n        new Octant(node[2], x1, ym, z1, xm, y2, zm),\n        new Octant(node[1], xm, y1, z1, x2, ym, zm),\n        new Octant(node[0], x1, y1, z1, xm, ym, zm)\n      );\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | (x >= xm)) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          dz = z - +this._z.call(null, node.data),\n          d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 7] || parent[(i + 2) & 7] || parent[(i + 3) & 7] || parent[(i + 4) & 7] || parent[(i + 5) & 7] || parent[(i + 6) & 7] || parent[(i + 7) & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7])\n      && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], q, node = this._root, child, x0, y0, z0, x1, y1, z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], next = [], q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","export function defaultZ(d) {\n  return d[2];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\nimport tree_z, {defaultZ} from \"./z\";\n\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = octree.prototype = Octree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(8)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(8)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;\n","import {binarytree} from \"d3-binarytree\";\nimport {quadtree} from \"d3-quadtree\";\nimport {octree} from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y, z} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      nDim,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree =\n            (nDim === 1 ? binarytree(nodes, x)\n            :(nDim === 2 ? quadtree(nodes, x, y)\n            :(nDim === 3 ? octree(nodes, x, y, z)\n            :null\n        ))).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0, q, c, weight = 0, x, y, z, i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) { treeNode.y = y / weight; }\n      if (nDim > 2) { treeNode.z = z / weight; }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) { q.y = q.data.y; }\n      if (nDim > 2) { q.z = q.data.z; }\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim-1];\n\n    var x = treeNode.x - node.x,\n        y = (nDim > 1 ? treeNode.y - node.y : 0),\n        z = (nDim > 2 ? treeNode.z - node.z : 0),\n        w = x2 - x1,\n        l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) { node.vy += y * treeNode.value * alpha / l; }\n        if (nDim > 2) { node.vz += z * treeNode.value * alpha / l; }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) { node.vy += y * w; }\n      if (nDim > 2) { node.vz += z * w; }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(x, y, z) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) { node.x -= sx }\n      if (sy) { node.y -= sy; }\n      if (sz) { node.z -= sz; }\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim>1) { node.vy += dy * k; }\n      if (nDim>2) { node.vz += dz * k; }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(initNodes, ...args) {\n    nodes = initNodes;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}\n","import debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar Prop = function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n};\n\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport { index as default };\n","var index = (function (p) {\n  return p instanceof Function ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}); // constant\n\nexport default index;\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar index = (function () {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n          isProp = _ref.isProp;\n      var key;\n\n      if (isProp) {\n        var _itemVal = itemVal,\n            propVal = _itemVal[keyAccessor],\n            rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n\n  }\n\n  var result = indexedResult;\n\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              key = _ref3[0],\n              val = _ref3[1];\n\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n\n  return result;\n});\n\nexport default index;\n","import indexBy from 'index-array-by';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction diffArrays(prev, next, idAccessor) {\n  var result = {\n    enter: [],\n    update: [],\n    exit: []\n  };\n\n  if (!idAccessor) {\n    // use object references for comparison\n    var prevSet = new Set(prev);\n    var nextSet = new Set(next);\n    new Set([].concat(_toConsumableArray(prevSet), _toConsumableArray(nextSet))).forEach(function (item) {\n      var type = !prevSet.has(item) ? 'enter' : !nextSet.has(item) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [item, item] : item);\n    });\n  } else {\n    // compare by id (duplicate keys are ignored)\n    var prevById = indexBy(prev, idAccessor, false);\n    var nextById = indexBy(next, idAccessor, false);\n    var byId = Object.assign({}, prevById, nextById);\n    Object.entries(byId).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          id = _ref2[0],\n          item = _ref2[1];\n\n      var type = !prevById.hasOwnProperty(id) ? 'enter' : !nextById.hasOwnProperty(id) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [prevById[id], nextById[id]] : item);\n    });\n  }\n\n  return result;\n}\n\nfunction dataBindDiff(data, existingObjs, _ref3) {\n  var _ref3$objBindAttr = _ref3.objBindAttr,\n      objBindAttr = _ref3$objBindAttr === void 0 ? '__obj' : _ref3$objBindAttr,\n      _ref3$dataBindAttr = _ref3.dataBindAttr,\n      dataBindAttr = _ref3$dataBindAttr === void 0 ? '__data' : _ref3$dataBindAttr,\n      idAccessor = _ref3.idAccessor,\n      _ref3$purge = _ref3.purge,\n      purge = _ref3$purge === void 0 ? false : _ref3$purge;\n\n  var isObjValid = function isObjValid(obj) {\n    return obj.hasOwnProperty(dataBindAttr);\n  };\n\n  var removeObjs = existingObjs.filter(function (obj) {\n    return !isObjValid(obj);\n  });\n  var prevD = existingObjs.filter(isObjValid).map(function (obj) {\n    return obj[dataBindAttr];\n  });\n  var nextD = data;\n  var diff = purge ? {\n    enter: nextD,\n    exit: prevD,\n    update: []\n  } // don't diff data in purge mode\n  : diffArrays(prevD, nextD, idAccessor);\n  diff.update = diff.update.map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        prevD = _ref5[0],\n        nextD = _ref5[1];\n\n    if (prevD !== nextD) {\n      // transfer obj to new data point (if different)\n      nextD[objBindAttr] = prevD[objBindAttr];\n      nextD[objBindAttr][dataBindAttr] = nextD;\n    }\n\n    return nextD;\n  });\n  diff.exit = diff.exit.concat(removeObjs.map(function (obj) {\n    return _defineProperty({}, objBindAttr, obj);\n  }));\n  return diff;\n}\n\nfunction viewDigest(data, existingObjs, // list\nappendObj, // item => {...} function\nremoveObj, // item => {...} function\n_ref7) {\n  var _ref7$createObj = _ref7.createObj,\n      createObj = _ref7$createObj === void 0 ? function (d) {\n    return {};\n  } : _ref7$createObj,\n      _ref7$updateObj = _ref7.updateObj,\n      updateObj = _ref7$updateObj === void 0 ? function (obj, d) {} : _ref7$updateObj,\n      _ref7$exitObj = _ref7.exitObj,\n      exitObj = _ref7$exitObj === void 0 ? function (obj) {} : _ref7$exitObj,\n      _ref7$objBindAttr = _ref7.objBindAttr,\n      objBindAttr = _ref7$objBindAttr === void 0 ? '__obj' : _ref7$objBindAttr,\n      _ref7$dataBindAttr = _ref7.dataBindAttr,\n      dataBindAttr = _ref7$dataBindAttr === void 0 ? '__data' : _ref7$dataBindAttr,\n      dataDiffOptions = _objectWithoutProperties(_ref7, [\"createObj\", \"updateObj\", \"exitObj\", \"objBindAttr\", \"dataBindAttr\"]);\n\n  var _dataBindDiff = dataBindDiff(data, existingObjs, _objectSpread2({\n    objBindAttr: objBindAttr,\n    dataBindAttr: dataBindAttr\n  }, dataDiffOptions)),\n      enter = _dataBindDiff.enter,\n      update = _dataBindDiff.update,\n      exit = _dataBindDiff.exit; // Remove exiting points\n\n\n  exit.forEach(function (d) {\n    var obj = d[objBindAttr];\n    delete d[objBindAttr]; // unbind obj\n\n    exitObj(obj);\n    removeObj(obj);\n  });\n  var newObjs = createObjs(enter);\n  var pointsData = [].concat(_toConsumableArray(enter), _toConsumableArray(update));\n  updateObjs(pointsData); // Add new points\n\n  newObjs.forEach(appendObj); //\n\n  function createObjs(data) {\n    var newObjs = [];\n    data.forEach(function (d) {\n      var obj = createObj(d);\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        d[objBindAttr] = obj;\n        newObjs.push(obj);\n      }\n    });\n    return newObjs;\n  }\n\n  function updateObjs(data) {\n    data.forEach(function (d) {\n      var obj = d[objBindAttr];\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        updateObj(obj, d);\n      }\n    });\n  }\n}\n\nexport default viewDigest;\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import { Group, Mesh, MeshLambertMaterial, Color, BufferGeometry, BufferAttribute, Matrix4, Vector3, SphereBufferGeometry, CylinderBufferGeometry, TubeBufferGeometry, ConeBufferGeometry, Line, LineBasicMaterial, QuadraticBezierCurve3, CubicBezierCurve3, Box3 } from 'three';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport graph from 'ngraph.graph';\nimport forcelayout from 'ngraph.forcelayout';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport { min, max } from 'd3-array';\nimport dataJoint from 'data-joint';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\nimport tinyColor from 'tinycolor2';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar materialDispose = function materialDispose(material) {\n  if (material instanceof Array) {\n    material.forEach(materialDispose);\n  } else {\n    if (material.map) {\n      material.map.dispose();\n    }\n\n    material.dispose();\n  }\n};\n\nvar deallocate = function deallocate(obj) {\n  if (obj.geometry) {\n    obj.geometry.dispose();\n  }\n\n  if (obj.material) {\n    materialDispose(obj.material);\n  }\n\n  if (obj.texture) {\n    obj.texture.dispose();\n  }\n\n  if (obj.children) {\n    obj.children.forEach(deallocate);\n  }\n};\n\nvar emptyObject = function emptyObject(obj) {\n  while (obj.children.length) {\n    var childObj = obj.children[0];\n    obj.remove(childObj);\n    deallocate(childObj);\n  }\n};\n\nvar _excluded = [\"objFilter\"];\n\nfunction threeDigest(data, scene) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _ref$objFilter = _ref.objFilter,\n      objFilter = _ref$objFilter === void 0 ? function () {\n    return true;\n  } : _ref$objFilter,\n      options = _objectWithoutProperties(_ref, _excluded);\n\n  return dataJoint(data, scene.children.filter(objFilter), function (obj) {\n    return scene.add(obj);\n  }, function (obj) {\n    scene.remove(obj);\n    emptyObject(obj);\n  }, _objectSpread2({\n    objBindAttr: '__threeObj'\n  }, options));\n}\n\nvar colorStr2Hex = function colorStr2Hex(str) {\n  return isNaN(str) ? parseInt(tinyColor(str).toHex(), 16) : str;\n};\n\nvar colorAlpha = function colorAlpha(str) {\n  return isNaN(str) ? tinyColor(str).getAlpha() : 1;\n};\n\nvar autoColorScale = scaleOrdinal(schemePaired); // Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\n\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths (_ref, idAccessor) {\n  var nodes = _ref.nodes,\n      links = _ref.links;\n\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$nodeFilter = _ref2.nodeFilter,\n      nodeFilter = _ref2$nodeFilter === void 0 ? function () {\n    return true;\n  } : _ref2$nodeFilter,\n      _ref2$onLoopError = _ref2.onLoopError,\n      onLoopError = _ref2$onLoopError === void 0 ? function (loopIds) {\n    throw \"Invalid DAG structure! Found cycle in node path: \".concat(loopIds.join(' -> '), \".\");\n  } : _ref2$onLoopError;\n\n  // linked graph\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1,\n      skip: !nodeFilter(node)\n    };\n  });\n  links.forEach(function (_ref3) {\n    var source = _ref3.source,\n        target = _ref3.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  var foundLoops = [];\n  traverse(Object.values(graph));\n  var nodeDepths = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(graph).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        node = _ref5[1];\n\n    return !node.skip;\n  }).map(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        id = _ref7[0],\n        node = _ref7[1];\n\n    return _defineProperty({}, id, node.depth);\n  }))));\n  return nodeDepths;\n\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n\n      if (nodeStack.indexOf(node) !== -1) {\n        var _ret = function () {\n          var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n            return idAccessor(d.data);\n          });\n\n          if (!foundLoops.some(function (foundLoop) {\n            return foundLoop.length === loop.length && foundLoop.every(function (id, idx) {\n              return id === loop[idx];\n            });\n          })) {\n            foundLoops.push(loop);\n            onLoopError(loop);\n          }\n\n          return \"continue\";\n        }();\n\n        if (_ret === \"continue\") continue;\n      }\n\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]), currentDepth + (node.skip ? 0 : 1));\n      }\n    }\n  }\n}\n\nvar three$1 = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  Group: Group,\n  Mesh: Mesh,\n  MeshLambertMaterial: MeshLambertMaterial,\n  Color: Color,\n  BufferGeometry: BufferGeometry,\n  BufferAttribute: BufferAttribute,\n  Matrix4: Matrix4,\n  Vector3: Vector3,\n  SphereBufferGeometry: SphereBufferGeometry,\n  CylinderBufferGeometry: CylinderBufferGeometry,\n  TubeBufferGeometry: TubeBufferGeometry,\n  ConeBufferGeometry: ConeBufferGeometry,\n  Line: Line,\n  LineBasicMaterial: LineBasicMaterial,\n  QuadraticBezierCurve3: QuadraticBezierCurve3,\n  CubicBezierCurve3: CubicBezierCurve3,\n  Box3: Box3\n};\nvar ngraph = {\n  graph: graph,\n  forcelayout: forcelayout\n};\n\nvar DAG_LEVEL_NODE_RATIO = 2; // support multiple method names for backwards threejs compatibility\n\nvar setAttributeFn = new three$1.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\nvar applyMatrix4Fn = new three$1.BufferGeometry().applyMatrix4 ? 'applyMatrix4' : 'applyMatrix';\nvar ForceGraph = Kapsule({\n  props: {\n    jsonUrl: {\n      onChange: function onChange(jsonUrl, state) {\n        var _this = this;\n\n        if (jsonUrl && !state.fetchingJson) {\n          // Load data asynchronously\n          state.fetchingJson = true;\n          state.onLoading();\n          fetch(jsonUrl).then(function (r) {\n            return r.json();\n          }).then(function (json) {\n            state.fetchingJson = false;\n            state.onFinishLoading(json);\n\n            _this.graphData(json);\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(graphData, state) {\n        state.engineRunning = false; // Pause simulation immediately\n      }\n    },\n    numDimensions: {\n      \"default\": 3,\n      onChange: function onChange(numDim, state) {\n        var chargeForce = state.d3ForceLayout.force('charge'); // Increase repulsion on 3D mode for improved spatial separation\n\n        if (chargeForce) {\n          chargeForce.strength(numDim > 2 ? -60 : -30);\n        }\n\n        if (numDim < 3) {\n          eraseDimension(state.graphData.nodes, 'z');\n        }\n\n        if (numDim < 2) {\n          eraseDimension(state.graphData.nodes, 'y');\n        }\n\n        function eraseDimension(nodes, dim) {\n          nodes.forEach(function (d) {\n            delete d[dim]; // position\n\n            delete d[\"v\".concat(dim)]; // velocity\n          });\n        }\n      }\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, zin, zout, radialin, radialout\n        !dagMode && state.forceEngine === 'd3' && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = n.fz = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    dagNodeFilter: {\n      \"default\": function _default(node) {\n        return true;\n      }\n    },\n    onDagError: {\n      triggerUpdate: false\n    },\n    nodeRelSize: {\n      \"default\": 4\n    },\n    // volume per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val'\n    },\n    nodeResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the sphere's circumference\n    nodeColor: {\n      \"default\": 'color'\n    },\n    nodeAutoColorBy: {},\n    nodeOpacity: {\n      \"default\": 0.75\n    },\n    nodeVisibility: {\n      \"default\": true\n    },\n    nodeThreeObject: {},\n    nodeThreeObjectExtend: {\n      \"default\": false\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true\n    },\n    linkColor: {\n      \"default\": 'color'\n    },\n    linkAutoColorBy: {},\n    linkOpacity: {\n      \"default\": 0.2\n    },\n    linkWidth: {},\n    // Rounded to nearest decimal. For falsy values use dimensionless line with 1px regardless of distance.\n    linkResolution: {\n      \"default\": 6\n    },\n    // how many radial segments in each line tube's geometry\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // line curvature radius (0: straight, 1: semi-circle)\n    linkCurveRotation: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // line curve rotation along the line axis (0: interection with XY plane, PI: upside down)\n    linkMaterial: {},\n    linkThreeObject: {},\n    linkThreeObjectExtend: {\n      \"default\": false\n    },\n    linkPositionUpdate: {\n      triggerUpdate: false\n    },\n    // custom function to call for updating the link's position. Signature: (threeObj, { start: { x, y, z},  end: { x, y, z }}, link). If the function returns a truthy value, the regular link position update will not run.\n    linkDirectionalArrowLength: {\n      \"default\": 0\n    },\n    linkDirectionalArrowColor: {},\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalArrowResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the arrow's conic circumference\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 0.5\n    },\n    linkDirectionalParticleColor: {},\n    linkDirectionalParticleResolution: {\n      \"default\": 4\n    },\n    // how many slice segments in the particle sphere's circumference\n    forceEngine: {\n      \"default\": 'd3'\n    },\n    // d3 or ngraph\n    d3AlphaMin: {\n      \"default\": 0\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.d3ForceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.d3ForceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.d3ForceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    ngraphPhysics: {\n      \"default\": {\n        // defaults from https://github.com/anvaka/ngraph.physics.simulator/blob/master/index.js\n        timeStep: 20,\n        gravity: -1.2,\n        theta: 0.8,\n        springLength: 30,\n        springCoefficient: 0.0008,\n        dragCoefficient: 0.02\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onLoading: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishLoading: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    refresh: function refresh(state) {\n      state._flushObjects = true;\n\n      state._rerender();\n\n      return this;\n    },\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.d3ForceLayout.force(forceName); // Force getter\n      }\n\n      state.d3ForceLayout.force(forceName, forceFn); // Force setter\n\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.d3ForceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    tickFrame: function tickFrame(state) {\n      var isD3Sim = state.forceEngine !== 'ngraph';\n\n      if (state.engineRunning) {\n        layoutTick();\n      }\n\n      updateArrows();\n      updatePhotons();\n      return this; //\n\n      function layoutTick() {\n        if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || isD3Sim && state.d3AlphaMin > 0 && state.d3ForceLayout.alpha() < state.d3AlphaMin) {\n          state.engineRunning = false; // Stop ticking graph\n\n          state.onEngineStop();\n        } else {\n          state.layout[isD3Sim ? 'tick' : 'step'](); // Tick it\n\n          state.onEngineTick();\n        } // Update nodes position\n\n\n        state.graphData.nodes.forEach(function (node) {\n          var obj = node.__threeObj;\n          if (!obj) return;\n          var pos = isD3Sim ? node : state.layout.getNodePosition(node[state.nodeId]);\n          obj.position.x = pos.x;\n          obj.position.y = pos.y || 0;\n          obj.position.z = pos.z || 0;\n        }); // Update links position\n\n        var linkWidthAccessor = accessorFn(state.linkWidth);\n        var linkCurvatureAccessor = accessorFn(state.linkCurvature);\n        var linkCurveRotationAccessor = accessorFn(state.linkCurveRotation);\n        var linkThreeObjectExtendAccessor = accessorFn(state.linkThreeObjectExtend);\n        state.graphData.links.forEach(function (link) {\n          var lineObj = link.__lineObj;\n          if (!lineObj) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          calcLinkCurve(link); // calculate link curve for all links, including custom replaced, so it can be used in directional functionality\n\n          var extendedObj = linkThreeObjectExtendAccessor(link);\n\n          if (state.linkPositionUpdate && state.linkPositionUpdate(extendedObj ? lineObj.children[1] : lineObj, // pass child custom object if extending the default\n          {\n            start: {\n              x: start.x,\n              y: start.y,\n              z: start.z\n            },\n            end: {\n              x: end.x,\n              y: end.y,\n              z: end.z\n            }\n          }, link) && !extendedObj) {\n            // exit if successfully custom updated position of non-extended obj\n            return;\n          }\n\n          var curveResolution = 30; // # line segments\n\n          var curve = link.__curve; // select default line obj if it's an extended group\n\n          var line = lineObj.children.length ? lineObj.children[0] : lineObj;\n\n          if (line.type === 'Line') {\n            // Update line geometry\n            if (!curve) {\n              // straight line\n              var linePos = line.geometry.getAttribute('position');\n\n              if (!linePos || !linePos.array || linePos.array.length !== 6) {\n                line.geometry[setAttributeFn]('position', linePos = new three$1.BufferAttribute(new Float32Array(2 * 3), 3));\n              }\n\n              linePos.array[0] = start.x;\n              linePos.array[1] = start.y || 0;\n              linePos.array[2] = start.z || 0;\n              linePos.array[3] = end.x;\n              linePos.array[4] = end.y || 0;\n              linePos.array[5] = end.z || 0;\n              linePos.needsUpdate = true;\n            } else {\n              // bezier curve line\n              line.geometry.setFromPoints(curve.getPoints(curveResolution));\n            }\n\n            line.geometry.computeBoundingSphere();\n          } else if (line.type === 'Mesh') {\n            // Update cylinder geometry\n            if (!curve) {\n              // straight tube\n              if (!line.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)) {\n                var linkWidth = Math.ceil(linkWidthAccessor(link) * 10) / 10;\n                var r = linkWidth / 2;\n                var geometry = new three$1.CylinderBufferGeometry(r, r, 1, state.linkResolution, 1, false);\n                geometry[applyMatrix4Fn](new three$1.Matrix4().makeTranslation(0, 1 / 2, 0));\n                geometry[applyMatrix4Fn](new three$1.Matrix4().makeRotationX(Math.PI / 2));\n                line.geometry.dispose();\n                line.geometry = geometry;\n              }\n\n              var vStart = new three$1.Vector3(start.x, start.y || 0, start.z || 0);\n              var vEnd = new three$1.Vector3(end.x, end.y || 0, end.z || 0);\n              var distance = vStart.distanceTo(vEnd);\n              line.position.x = vStart.x;\n              line.position.y = vStart.y;\n              line.position.z = vStart.z;\n              line.scale.z = distance;\n              line.parent.localToWorld(vEnd); // lookAt requires world coords\n\n              line.lookAt(vEnd);\n            } else {\n              // curved tube\n              if (!line.geometry.type.match(/^Tube(Buffer)?Geometry$/)) {\n                // reset object positioning\n                line.position.set(0, 0, 0);\n                line.rotation.set(0, 0, 0);\n                line.scale.set(1, 1, 1);\n              }\n\n              var _linkWidth = Math.ceil(linkWidthAccessor(link) * 10) / 10;\n\n              var _r = _linkWidth / 2;\n\n              var _geometry = new three$1.TubeBufferGeometry(curve, curveResolution, _r, state.linkResolution, false);\n\n              line.geometry.dispose();\n              line.geometry = _geometry;\n            }\n          }\n        }); //\n\n        function calcLinkCurve(link) {\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var curvature = linkCurvatureAccessor(link);\n\n          if (!curvature) {\n            link.__curve = null; // Straight line\n          } else {\n            // bezier curve line (only for line types)\n            var vStart = new three$1.Vector3(start.x, start.y || 0, start.z || 0);\n            var vEnd = new three$1.Vector3(end.x, end.y || 0, end.z || 0);\n            var l = vStart.distanceTo(vEnd); // line length\n\n            var curve;\n            var curveRotation = linkCurveRotationAccessor(link);\n\n            if (l > 0) {\n              var dx = end.x - start.x;\n              var dy = end.y - start.y || 0;\n              var vLine = new three$1.Vector3().subVectors(vEnd, vStart);\n              var cp = vLine.clone().multiplyScalar(curvature).cross(dx !== 0 || dy !== 0 ? new three$1.Vector3(0, 0, 1) : new three$1.Vector3(0, 1, 0)) // avoid cross-product of parallel vectors (prefer Z, fallback to Y)\n              .applyAxisAngle(vLine.normalize(), curveRotation) // rotate along line axis according to linkCurveRotation\n              .add(new three$1.Vector3().addVectors(vStart, vEnd).divideScalar(2));\n              curve = new three$1.QuadraticBezierCurve3(vStart, cp, vEnd);\n            } else {\n              // Same point, draw a loop\n              var d = curvature * 70;\n              var endAngle = -curveRotation; // Rotate clockwise (from Z angle perspective)\n\n              var startAngle = endAngle + Math.PI / 2;\n              curve = new three$1.CubicBezierCurve3(vStart, new three$1.Vector3(d * Math.cos(startAngle), d * Math.sin(startAngle), 0).add(vStart), new three$1.Vector3(d * Math.cos(endAngle), d * Math.sin(endAngle), 0).add(vStart), vEnd);\n            }\n\n            link.__curve = curve;\n          }\n        }\n      }\n\n      function updateArrows() {\n        // update link arrow position\n        var arrowRelPosAccessor = accessorFn(state.linkDirectionalArrowRelPos);\n        var arrowLengthAccessor = accessorFn(state.linkDirectionalArrowLength);\n        var nodeValAccessor = accessorFn(state.nodeVal);\n        state.graphData.links.forEach(function (link) {\n          var arrowObj = link.__arrowObj;\n          if (!arrowObj) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, nodeValAccessor(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, nodeValAccessor(end) || 1)) * state.nodeRelSize;\n          var arrowLength = arrowLengthAccessor(link);\n          var arrowRelPos = arrowRelPosAccessor(link);\n          var getPosAlongLine = link.__curve ? function (t) {\n            return link.__curve.getPoint(t);\n          } // interpolate along bezier curve\n          : function (t) {\n            // straight line: interpolate linearly\n            var iplt = function iplt(dim, start, end, t) {\n              return start[dim] + (end[dim] - start[dim]) * t || 0;\n            };\n\n            return {\n              x: iplt('x', start, end, t),\n              y: iplt('y', start, end, t),\n              z: iplt('z', start, end, t)\n            };\n          };\n          var lineLen = link.__curve ? link.__curve.getLength() : Math.sqrt(['x', 'y', 'z'].map(function (dim) {\n            return Math.pow((end[dim] || 0) - (start[dim] || 0), 2);\n          }).reduce(function (acc, v) {\n            return acc + v;\n          }, 0));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getPosAlongLine(posAlongLine / lineLen);\n          var arrowTail = getPosAlongLine((posAlongLine - arrowLength) / lineLen);\n          ['x', 'y', 'z'].forEach(function (dim) {\n            return arrowObj.position[dim] = arrowTail[dim];\n          });\n\n          var headVec = _construct(three$1.Vector3, _toConsumableArray(['x', 'y', 'z'].map(function (c) {\n            return arrowHead[c];\n          })));\n\n          arrowObj.parent.localToWorld(headVec); // lookAt requires world coords\n\n          arrowObj.lookAt(headVec);\n        });\n      }\n\n      function updatePhotons() {\n        // update link particle positions\n        var particleSpeedAccessor = accessorFn(state.linkDirectionalParticleSpeed);\n        state.graphData.links.forEach(function (link) {\n          var cyclePhotons = link.__photonsObj && link.__photonsObj.children;\n          var singleHopPhotons = link.__singleHopPhotonsObj && link.__singleHopPhotonsObj.children;\n          if ((!singleHopPhotons || !singleHopPhotons.length) && (!cyclePhotons || !cyclePhotons.length)) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = particleSpeedAccessor(link);\n          var getPhotonPos = link.__curve ? function (t) {\n            return link.__curve.getPoint(t);\n          } // interpolate along bezier curve\n          : function (t) {\n            // straight line: interpolate linearly\n            var iplt = function iplt(dim, start, end, t) {\n              return start[dim] + (end[dim] - start[dim]) * t || 0;\n            };\n\n            return {\n              x: iplt('x', start, end, t),\n              y: iplt('y', start, end, t),\n              z: iplt('z', start, end, t)\n            };\n          };\n          var photons = [].concat(_toConsumableArray(cyclePhotons || []), _toConsumableArray(singleHopPhotons || []));\n          photons.forEach(function (photon, idx) {\n            var singleHop = photon.parent.__linkThreeObjType === 'singleHopPhotons';\n\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : idx / cyclePhotons.length;\n            }\n\n            photon.__progressRatio += particleSpeed;\n\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                // remove particle\n                photon.parent.remove(photon);\n                emptyObject(photon);\n                return;\n              }\n            }\n\n            var photonPosRatio = photon.__progressRatio;\n            var pos = getPhotonPos(photonPosRatio);\n            ['x', 'y', 'z'].forEach(function (dim) {\n              return photon.position[dim] = pos[dim];\n            });\n          });\n        });\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        if (!link.__singleHopPhotonsObj) {\n          var obj = new three$1.Group();\n          obj.__linkThreeObjType = 'singleHopPhotons';\n          link.__singleHopPhotonsObj = obj;\n          state.graphScene.add(obj);\n        }\n\n        var particleWidthAccessor = accessorFn(state.linkDirectionalParticleWidth);\n        var photonR = Math.ceil(particleWidthAccessor(link) * 10) / 10 / 2;\n        var numSegments = state.linkDirectionalParticleResolution;\n        var particleGeometry = new three$1.SphereBufferGeometry(photonR, numSegments, numSegments);\n        var linkColorAccessor = accessorFn(state.linkColor);\n        var particleColorAccessor = accessorFn(state.linkDirectionalParticleColor);\n        var photonColor = particleColorAccessor(link) || linkColorAccessor(link) || '#f0f0f0';\n        var materialColor = new three$1.Color(colorStr2Hex(photonColor));\n        var opacity = state.linkOpacity * 3;\n        var particleMaterial = new three$1.MeshLambertMaterial({\n          color: materialColor,\n          transparent: true,\n          opacity: opacity\n        }); // add a single hop particle\n\n        link.__singleHopPhotonsObj.add(new three$1.Mesh(particleGeometry, particleMaterial));\n      }\n\n      return this;\n    },\n    getGraphBbox: function getGraphBbox(state) {\n      var nodeFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      if (!state.initialised) return null; // recursively collect all nested geometries bboxes\n\n      var bboxes = function getBboxes(obj) {\n        var bboxes = [];\n\n        if (obj.geometry) {\n          obj.geometry.computeBoundingBox();\n          var box = new three$1.Box3();\n          box.copy(obj.geometry.boundingBox).applyMatrix4(obj.matrixWorld);\n          bboxes.push(box);\n        }\n\n        return bboxes.concat.apply(bboxes, _toConsumableArray((obj.children || []).filter(function (obj) {\n          return !obj.hasOwnProperty('__graphObjType') || obj.__graphObjType === 'node' && nodeFilter(obj.__data);\n        } // exclude filtered out nodes\n        ).map(getBboxes)));\n      }(state.graphScene);\n\n      if (!bboxes.length) return null; // extract global x,y,z min/max\n\n      return Object.assign.apply(Object, _toConsumableArray(['x', 'y', 'z'].map(function (c) {\n        return _defineProperty({}, c, [min(bboxes, function (bb) {\n          return bb.min[c];\n        }), max(bboxes, function (bb) {\n          return bb.max[c];\n        })]);\n      })));\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      d3ForceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(threeObj, state) {\n    // Main three object to manipulate\n    state.graphScene = threeObj;\n  },\n  update: function update(state, changedProps) {\n    var hasAnyPropChanged = function hasAnyPropChanged(propList) {\n      return propList.some(function (p) {\n        return changedProps.hasOwnProperty(p);\n      });\n    };\n\n    state.engineRunning = false; // pause simulation\n\n    state.onUpdate();\n\n    if (state.nodeAutoColorBy !== null && hasAnyPropChanged(['nodeAutoColorBy', 'graphData', 'nodeColor'])) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n\n    if (state.linkAutoColorBy !== null && hasAnyPropChanged(['linkAutoColorBy', 'graphData', 'linkColor'])) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    } // Digest nodes WebGL objects\n\n\n    if (state._flushObjects || hasAnyPropChanged(['graphData', 'nodeThreeObject', 'nodeThreeObjectExtend', 'nodeVal', 'nodeColor', 'nodeVisibility', 'nodeRelSize', 'nodeResolution', 'nodeOpacity'])) {\n      var customObjectAccessor = accessorFn(state.nodeThreeObject);\n      var customObjectExtendAccessor = accessorFn(state.nodeThreeObjectExtend);\n      var valAccessor = accessorFn(state.nodeVal);\n      var colorAccessor = accessorFn(state.nodeColor);\n      var visibilityAccessor = accessorFn(state.nodeVisibility);\n      var sphereGeometries = {}; // indexed by node value\n\n      var sphereMaterials = {}; // indexed by color\n\n      threeDigest(state.graphData.nodes.filter(visibilityAccessor), state.graphScene, {\n        purge: state._flushObjects || hasAnyPropChanged([// recreate objects if any of these props have changed\n        'nodeThreeObject', 'nodeThreeObjectExtend']),\n        objFilter: function objFilter(obj) {\n          return obj.__graphObjType === 'node';\n        },\n        createObj: function createObj(node) {\n          var customObj = customObjectAccessor(node);\n          var extendObj = customObjectExtendAccessor(node);\n\n          if (customObj && state.nodeThreeObject === customObj) {\n            // clone object if it's a shared object among all nodes\n            customObj = customObj.clone();\n          }\n\n          var obj;\n\n          if (customObj && !extendObj) {\n            obj = customObj;\n          } else {\n            // Add default object (sphere mesh)\n            obj = new three$1.Mesh();\n            obj.__graphDefaultObj = true;\n\n            if (customObj && extendObj) {\n              obj.add(customObj); // extend default with custom\n            }\n          }\n\n          obj.__graphObjType = 'node'; // Add object type\n\n          return obj;\n        },\n        updateObj: function updateObj(obj, node) {\n          if (obj.__graphDefaultObj) {\n            // bypass internal updates for custom node objects\n            var val = valAccessor(node) || 1;\n            var radius = Math.cbrt(val) * state.nodeRelSize;\n            var numSegments = state.nodeResolution;\n\n            if (!obj.geometry.type.match(/^Sphere(Buffer)?Geometry$/) || obj.geometry.parameters.radius !== radius || obj.geometry.parameters.widthSegments !== numSegments) {\n              if (!sphereGeometries.hasOwnProperty(val)) {\n                sphereGeometries[val] = new three$1.SphereBufferGeometry(radius, numSegments, numSegments);\n              }\n\n              obj.geometry.dispose();\n              obj.geometry = sphereGeometries[val];\n            }\n\n            var color = colorAccessor(node);\n            var materialColor = new three$1.Color(colorStr2Hex(color || '#ffffaa'));\n            var opacity = state.nodeOpacity * colorAlpha(color);\n\n            if (obj.material.type !== 'MeshLambertMaterial' || !obj.material.color.equals(materialColor) || obj.material.opacity !== opacity) {\n              if (!sphereMaterials.hasOwnProperty(color)) {\n                sphereMaterials[color] = new three$1.MeshLambertMaterial({\n                  color: materialColor,\n                  transparent: true,\n                  opacity: opacity\n                });\n              }\n\n              obj.material.dispose();\n              obj.material = sphereMaterials[color];\n            }\n          }\n        }\n      });\n    } // Digest links WebGL objects\n\n\n    if (state._flushObjects || hasAnyPropChanged(['graphData', 'linkThreeObject', 'linkThreeObjectExtend', 'linkMaterial', 'linkColor', 'linkWidth', 'linkVisibility', 'linkResolution', 'linkOpacity', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution'])) {\n      var _customObjectAccessor = accessorFn(state.linkThreeObject);\n\n      var _customObjectExtendAccessor = accessorFn(state.linkThreeObjectExtend);\n\n      var customMaterialAccessor = accessorFn(state.linkMaterial);\n\n      var _visibilityAccessor = accessorFn(state.linkVisibility);\n\n      var _colorAccessor = accessorFn(state.linkColor);\n\n      var widthAccessor = accessorFn(state.linkWidth);\n      var cylinderGeometries = {}; // indexed by link width\n\n      var lambertLineMaterials = {}; // for cylinder objects, indexed by link color\n\n      var basicLineMaterials = {}; // for line objects, indexed by link color\n\n      var visibleLinks = state.graphData.links.filter(_visibilityAccessor); // lines digest cycle\n\n      threeDigest(visibleLinks, state.graphScene, {\n        objBindAttr: '__lineObj',\n        purge: state._flushObjects || hasAnyPropChanged([// recreate objects if any of these props have changed\n        'linkThreeObject', 'linkThreeObjectExtend', 'linkWidth']),\n        objFilter: function objFilter(obj) {\n          return obj.__graphObjType === 'link';\n        },\n        createObj: function createObj(link) {\n          var customObj = _customObjectAccessor(link);\n\n          var extendObj = _customObjectExtendAccessor(link);\n\n          if (customObj && state.linkThreeObject === customObj) {\n            // clone object if it's a shared object among all links\n            customObj = customObj.clone();\n          }\n\n          var defaultObj;\n\n          if (!customObj || extendObj) {\n            // construct default line obj\n            var useCylinder = !!widthAccessor(link);\n\n            if (useCylinder) {\n              defaultObj = new three$1.Mesh();\n            } else {\n              // Use plain line (constant width)\n              var lineGeometry = new three$1.BufferGeometry();\n              lineGeometry[setAttributeFn]('position', new three$1.BufferAttribute(new Float32Array(2 * 3), 3));\n              defaultObj = new three$1.Line(lineGeometry);\n            }\n          }\n\n          var obj;\n\n          if (!customObj) {\n            obj = defaultObj;\n            obj.__graphDefaultObj = true;\n          } else {\n            if (!extendObj) {\n              // use custom object\n              obj = customObj;\n            } else {\n              // extend default with custom in a group\n              obj = new three$1.Group();\n              obj.__graphDefaultObj = true;\n              obj.add(defaultObj);\n              obj.add(customObj);\n            }\n          }\n\n          obj.renderOrder = 10; // Prevent visual glitches of dark lines on top of nodes by rendering them last\n\n          obj.__graphObjType = 'link'; // Add object type\n\n          return obj;\n        },\n        updateObj: function updateObj(updObj, link) {\n          if (updObj.__graphDefaultObj) {\n            // bypass internal updates for custom link objects\n            // select default object if it's an extended group\n            var obj = updObj.children.length ? updObj.children[0] : updObj;\n            var linkWidth = Math.ceil(widthAccessor(link) * 10) / 10;\n            var useCylinder = !!linkWidth;\n\n            if (useCylinder) {\n              var r = linkWidth / 2;\n              var numSegments = state.linkResolution;\n\n              if (!obj.geometry.type.match(/^Cylinder(Buffer)?Geometry$/) || obj.geometry.parameters.radiusTop !== r || obj.geometry.parameters.radialSegments !== numSegments) {\n                if (!cylinderGeometries.hasOwnProperty(linkWidth)) {\n                  var geometry = new three$1.CylinderBufferGeometry(r, r, 1, numSegments, 1, false);\n                  geometry[applyMatrix4Fn](new three$1.Matrix4().makeTranslation(0, 1 / 2, 0));\n                  geometry[applyMatrix4Fn](new three$1.Matrix4().makeRotationX(Math.PI / 2));\n                  cylinderGeometries[linkWidth] = geometry;\n                }\n\n                obj.geometry.dispose();\n                obj.geometry = cylinderGeometries[linkWidth];\n              }\n            }\n\n            var customMaterial = customMaterialAccessor(link);\n\n            if (customMaterial) {\n              obj.material = customMaterial;\n            } else {\n              var color = _colorAccessor(link);\n\n              var materialColor = new three$1.Color(colorStr2Hex(color || '#f0f0f0'));\n              var opacity = state.linkOpacity * colorAlpha(color);\n              var materialType = useCylinder ? 'MeshLambertMaterial' : 'LineBasicMaterial';\n\n              if (obj.material.type !== materialType || !obj.material.color.equals(materialColor) || obj.material.opacity !== opacity) {\n                var lineMaterials = useCylinder ? lambertLineMaterials : basicLineMaterials;\n\n                if (!lineMaterials.hasOwnProperty(color)) {\n                  lineMaterials[color] = new three$1[materialType]({\n                    color: materialColor,\n                    transparent: opacity < 1,\n                    opacity: opacity,\n                    depthWrite: opacity >= 1 // Prevent transparency issues\n\n                  });\n                }\n\n                obj.material.dispose();\n                obj.material = lineMaterials[color];\n              }\n            }\n          }\n        }\n      }); // Arrows digest cycle\n\n      if (state.linkDirectionalArrowLength || changedProps.hasOwnProperty('linkDirectionalArrowLength')) {\n        var arrowLengthAccessor = accessorFn(state.linkDirectionalArrowLength);\n        var arrowColorAccessor = accessorFn(state.linkDirectionalArrowColor);\n        threeDigest(visibleLinks.filter(arrowLengthAccessor), state.graphScene, {\n          objBindAttr: '__arrowObj',\n          objFilter: function objFilter(obj) {\n            return obj.__linkThreeObjType === 'arrow';\n          },\n          createObj: function createObj() {\n            var obj = new three$1.Mesh(undefined, new three$1.MeshLambertMaterial({\n              transparent: true\n            }));\n            obj.__linkThreeObjType = 'arrow'; // Add object type\n\n            return obj;\n          },\n          updateObj: function updateObj(obj, link) {\n            var arrowLength = arrowLengthAccessor(link);\n            var numSegments = state.linkDirectionalArrowResolution;\n\n            if (!obj.geometry.type.match(/^Cone(Buffer)?Geometry$/) || obj.geometry.parameters.height !== arrowLength || obj.geometry.parameters.radialSegments !== numSegments) {\n              var coneGeometry = new three$1.ConeBufferGeometry(arrowLength * 0.25, arrowLength, numSegments); // Correct orientation\n\n              coneGeometry.translate(0, arrowLength / 2, 0);\n              coneGeometry.rotateX(Math.PI / 2);\n              obj.geometry.dispose();\n              obj.geometry = coneGeometry;\n            }\n\n            obj.material.color = new three$1.Color(arrowColorAccessor(link) || _colorAccessor(link) || '#f0f0f0');\n            obj.material.opacity = state.linkOpacity * 3;\n          }\n        });\n      } // Photon particles digest cycle\n\n\n      if (state.linkDirectionalParticles || changedProps.hasOwnProperty('linkDirectionalParticles')) {\n        var particlesAccessor = accessorFn(state.linkDirectionalParticles);\n        var particleWidthAccessor = accessorFn(state.linkDirectionalParticleWidth);\n        var particleColorAccessor = accessorFn(state.linkDirectionalParticleColor);\n        var particleMaterials = {}; // indexed by link color\n\n        var particleGeometries = {}; // indexed by particle width\n\n        threeDigest(visibleLinks.filter(particlesAccessor), state.graphScene, {\n          objBindAttr: '__photonsObj',\n          objFilter: function objFilter(obj) {\n            return obj.__linkThreeObjType === 'photons';\n          },\n          createObj: function createObj() {\n            var obj = new three$1.Group();\n            obj.__linkThreeObjType = 'photons'; // Add object type\n\n            return obj;\n          },\n          updateObj: function updateObj(obj, link) {\n            var numPhotons = Math.round(Math.abs(particlesAccessor(link)));\n            var curPhoton = !!obj.children.length && obj.children[0];\n            var photonR = Math.ceil(particleWidthAccessor(link) * 10) / 10 / 2;\n            var numSegments = state.linkDirectionalParticleResolution;\n            var particleGeometry;\n\n            if (curPhoton && curPhoton.geometry.parameters.radius === photonR && curPhoton.geometry.parameters.widthSegments === numSegments) {\n              particleGeometry = curPhoton.geometry;\n            } else {\n              if (!particleGeometries.hasOwnProperty(photonR)) {\n                particleGeometries[photonR] = new three$1.SphereBufferGeometry(photonR, numSegments, numSegments);\n              }\n\n              particleGeometry = particleGeometries[photonR];\n              curPhoton && curPhoton.geometry.dispose();\n            }\n\n            var photonColor = particleColorAccessor(link) || _colorAccessor(link) || '#f0f0f0';\n            var materialColor = new three$1.Color(colorStr2Hex(photonColor));\n            var opacity = state.linkOpacity * 3;\n            var particleMaterial;\n\n            if (curPhoton && curPhoton.material.color.equals(materialColor) && curPhoton.material.opacity === opacity) {\n              particleMaterial = curPhoton.material;\n            } else {\n              if (!particleMaterials.hasOwnProperty(photonColor)) {\n                particleMaterials[photonColor] = new three$1.MeshLambertMaterial({\n                  color: materialColor,\n                  transparent: true,\n                  opacity: opacity\n                });\n              }\n\n              particleMaterial = particleMaterials[photonColor];\n              curPhoton && curPhoton.material.dispose();\n            } // digest cycle for each photon\n\n\n            threeDigest(_toConsumableArray(new Array(numPhotons)).map(function (_, idx) {\n              return {\n                idx: idx\n              };\n            }), obj, {\n              idAccessor: function idAccessor(d) {\n                return d.idx;\n              },\n              createObj: function createObj() {\n                return new three$1.Mesh(particleGeometry, particleMaterial);\n              },\n              updateObj: function updateObj(obj) {\n                obj.geometry = particleGeometry;\n                obj.material = particleMaterial;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    state._flushObjects = false; // reset objects refresh flag\n    // simulation engine\n\n    if (hasAnyPropChanged(['graphData', 'nodeId', 'linkSource', 'linkTarget', 'numDimensions', 'forceEngine', 'dagMode', 'dagNodeFilter', 'dagLevelDistance'])) {\n      state.engineRunning = false; // Pause simulation\n      // parse links\n\n      state.graphData.links.forEach(function (link) {\n        link.source = link[state.linkSource];\n        link.target = link[state.linkTarget];\n      }); // Feed data to force-directed layout\n\n      var isD3Sim = state.forceEngine !== 'ngraph';\n      var layout;\n\n      if (isD3Sim) {\n        // D3-force\n        (layout = state.d3ForceLayout).stop().alpha(1) // re-heat the simulation\n        .numDimensions(state.numDimensions).nodes(state.graphData.nodes); // add links (if link force is still active)\n\n        var linkForce = state.d3ForceLayout.force('link');\n\n        if (linkForce) {\n          linkForce.id(function (d) {\n            return d[state.nodeId];\n          }).links(state.graphData.links);\n        } // setup dag force constraints\n\n\n        var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n          return node[state.nodeId];\n        }, {\n          nodeFilter: state.dagNodeFilter,\n          onLoopError: state.onDagError || undefined\n        });\n        var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n        var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1); // Fix nodes to x,y,z for dag mode\n\n        if (state.dagMode) {\n          var getFFn = function getFFn(fix, invert) {\n            return function (node) {\n              return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n            };\n          };\n\n          var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n          var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'td');\n          var fzFn = getFFn(['zin', 'zout'].indexOf(state.dagMode) !== -1, state.dagMode === 'zout');\n          state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n            node.fx = fxFn(node);\n            node.fy = fyFn(node);\n            node.fz = fzFn(node);\n          });\n        } // Use radial force for radial dags\n\n\n        state.d3ForceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n          var nodeDepth = nodeDepths[node[state.nodeId]] || -1;\n          return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n        }).strength(function (node) {\n          return state.dagNodeFilter(node) ? 1 : 0;\n        }) : null);\n      } else {\n        // ngraph\n        var _graph = ngraph.graph();\n\n        state.graphData.nodes.forEach(function (node) {\n          _graph.addNode(node[state.nodeId]);\n        });\n        state.graphData.links.forEach(function (link) {\n          _graph.addLink(link.source, link.target);\n        });\n        layout = ngraph.forcelayout(_graph, _objectSpread2({\n          dimensions: state.numDimensions\n        }, state.ngraphPhysics));\n        layout.graph = _graph; // Attach graph reference to layout\n      }\n\n      for (var i = 0; i < state.warmupTicks && !(isD3Sim && state.d3AlphaMin > 0 && state.d3ForceLayout.alpha() < state.d3AlphaMin); i++) {\n        layout[isD3Sim ? \"tick\" : \"step\"]();\n      } // Initial ticks before starting to render\n\n\n      state.layout = layout;\n      this.resetCountdown();\n    }\n\n    state.engineRunning = true; // resume simulation\n\n    state.onFinishUpdate();\n  }\n});\n\nfunction fromKapsule (kapsule) {\n  var baseClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Object;\n  var initKapsuleWithSelf = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var FromKapsule = /*#__PURE__*/function (_baseClass) {\n    _inherits(FromKapsule, _baseClass);\n\n    var _super = _createSuper(FromKapsule);\n\n    function FromKapsule() {\n      var _this;\n\n      _classCallCheck(this, FromKapsule);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.__kapsuleInstance = kapsule().apply(void 0, [].concat(_toConsumableArray(initKapsuleWithSelf ? [_assertThisInitialized(_this)] : []), args));\n      return _this;\n    }\n\n    return FromKapsule;\n  }(baseClass); // attach kapsule props/methods to class prototype\n\n\n  Object.keys(kapsule()).forEach(function (m) {\n    return FromKapsule.prototype[m] = function () {\n      var _this$__kapsuleInstan;\n\n      var returnVal = (_this$__kapsuleInstan = this.__kapsuleInstance)[m].apply(_this$__kapsuleInstan, arguments);\n\n      return returnVal === this.__kapsuleInstance ? this // chain based on this class, not the kapsule obj\n      : returnVal;\n    };\n  });\n  return FromKapsule;\n}\n\nvar three = window.THREE ? window.THREE : {\n  Group: Group\n}; // Prefer consumption from global THREE, if exists\nvar threeForcegraph = fromKapsule(ForceGraph, three.Group, true);\n\nexport default threeForcegraph;\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tVector2,\n\tVector3\n} from 'three';\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass TrackballControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tconst scope = this;\n\t\tconst STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\n\t\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n\t\tthis.rotateSpeed = 1.0;\n\t\tthis.zoomSpeed = 1.2;\n\t\tthis.panSpeed = 0.3;\n\n\t\tthis.noRotate = false;\n\t\tthis.noZoom = false;\n\t\tthis.noPan = false;\n\n\t\tthis.staticMoving = false;\n\t\tthis.dynamicDampingFactor = 0.2;\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.keys = [ 'KeyA' /*A*/, 'KeyS' /*S*/, 'KeyD' /*D*/ ];\n\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// internals\n\n\t\tthis.target = new Vector3();\n\n\t\tconst EPS = 0.000001;\n\n\t\tconst lastPosition = new Vector3();\n\t\tlet lastZoom = 1;\n\n\t\tlet _state = STATE.NONE,\n\t\t\t_keyState = STATE.NONE,\n\n\t\t\t_touchZoomDistanceStart = 0,\n\t\t\t_touchZoomDistanceEnd = 0,\n\n\t\t\t_lastAngle = 0;\n\n\t\tconst _eye = new Vector3(),\n\n\t\t\t_movePrev = new Vector2(),\n\t\t\t_moveCurr = new Vector2(),\n\n\t\t\t_lastAxis = new Vector3(),\n\n\t\t\t_zoomStart = new Vector2(),\n\t\t\t_zoomEnd = new Vector2(),\n\n\t\t\t_panStart = new Vector2(),\n\t\t\t_panEnd = new Vector2(),\n\n\t\t\t_pointers = [],\n\t\t\t_pointerPositions = {};\n\n\t\t// for reset\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.up0 = this.object.up.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// methods\n\n\t\tthis.handleResize = function () {\n\n\t\t\tconst box = scope.domElement.getBoundingClientRect();\n\t\t\t// adjustments come from similar code in the jquery offset() function\n\t\t\tconst d = scope.domElement.ownerDocument.documentElement;\n\t\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n\t\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\n\t\t\tscope.screen.width = box.width;\n\t\t\tscope.screen.height = box.height;\n\n\t\t};\n\n\t\tconst getMouseOnScreen = ( function () {\n\n\t\t\tconst vector = new Vector2();\n\n\t\t\treturn function getMouseOnScreen( pageX, pageY ) {\n\n\t\t\t\tvector.set(\n\t\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\n\t\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\n\t\t\t\t);\n\n\t\t\t\treturn vector;\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tconst getMouseOnCircle = ( function () {\n\n\t\t\tconst vector = new Vector2();\n\n\t\t\treturn function getMouseOnCircle( pageX, pageY ) {\n\n\t\t\t\tvector.set(\n\t\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\n\t\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\n\t\t\t\t);\n\n\t\t\t\treturn vector;\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tthis.rotateCamera = ( function () {\n\n\t\t\tconst axis = new Vector3(),\n\t\t\t\tquaternion = new Quaternion(),\n\t\t\t\teyeDirection = new Vector3(),\n\t\t\t\tobjectUpDirection = new Vector3(),\n\t\t\t\tobjectSidewaysDirection = new Vector3(),\n\t\t\t\tmoveDirection = new Vector3();\n\n\t\t\treturn function rotateCamera() {\n\n\t\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\n\t\t\t\tlet angle = moveDirection.length();\n\n\t\t\t\tif ( angle ) {\n\n\t\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\n\t\t\t\t\teyeDirection.copy( _eye ).normalize();\n\t\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\n\t\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\n\n\t\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\n\t\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\n\n\t\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\n\n\t\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\n\n\t\t\t\t\tangle *= scope.rotateSpeed;\n\t\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\n\n\t\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t\t_lastAxis.copy( axis );\n\t\t\t\t\t_lastAngle = angle;\n\n\t\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\n\n\t\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\n\t\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\t\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\n\t\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t}\n\n\t\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t\t};\n\n\t\t}() );\n\n\n\t\tthis.zoomCamera = function () {\n\n\t\t\tlet factor;\n\n\t\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\n\n\t\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\n\n\t\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\n\n\t\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.panCamera = ( function () {\n\n\t\t\tconst mouseChange = new Vector2(),\n\t\t\t\tobjectUp = new Vector3(),\n\t\t\t\tpan = new Vector3();\n\n\t\t\treturn function panCamera() {\n\n\t\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\n\n\t\t\t\tif ( mouseChange.lengthSq() ) {\n\n\t\t\t\t\tif ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t\tconst scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\n\t\t\t\t\t\tconst scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\n\n\t\t\t\t\t\tmouseChange.x *= scale_x;\n\t\t\t\t\t\tmouseChange.y *= scale_y;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\n\n\t\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\n\t\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\n\n\t\t\t\t\tscope.object.position.add( pan );\n\t\t\t\t\tscope.target.add( pan );\n\n\t\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t\t_panStart.copy( _panEnd );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}() );\n\n\t\tthis.checkDistances = function () {\n\n\t\t\tif ( ! scope.noZoom || ! scope.noPan ) {\n\n\t\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\n\n\t\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t}\n\n\t\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\n\n\t\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\n\t\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\t\tif ( ! scope.noRotate ) {\n\n\t\t\t\tscope.rotateCamera();\n\n\t\t\t}\n\n\t\t\tif ( ! scope.noZoom ) {\n\n\t\t\t\tscope.zoomCamera();\n\n\t\t\t}\n\n\t\t\tif ( ! scope.noPan ) {\n\n\t\t\t\tscope.panCamera();\n\n\t\t\t}\n\n\t\t\tscope.object.position.addVectors( scope.target, _eye );\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscope.checkDistances();\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t\t}\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastZoom = scope.object.zoom;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\t_state = STATE.NONE;\n\t\t\t_keyState = STATE.NONE;\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.up.copy( scope.up0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tlastPosition.copy( scope.object.position );\n\t\t\tlastZoom = scope.object.zoom;\n\n\t\t};\n\n\t\t// listeners\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( _pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchEnd( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseUp();\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tremovePointer( event );\n\n\t\t\tif ( _pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction keydown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\twindow.removeEventListener( 'keydown', keydown );\n\n\t\t\tif ( _keyState !== STATE.NONE ) {\n\n\t\t\t\treturn;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\n\n\t\t\t\t_keyState = STATE.ROTATE;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\n\n\t\t\t\t_keyState = STATE.ZOOM;\n\n\t\t\t} else if ( event.code === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\n\n\t\t\t\t_keyState = STATE.PAN;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction keyup() {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\t_keyState = STATE.NONE;\n\n\t\t\twindow.addEventListener( 'keydown', keydown );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( _state === STATE.NONE ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase scope.mouseButtons.LEFT:\n\t\t\t\t\t\t_state = STATE.ROTATE;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.mouseButtons.MIDDLE:\n\t\t\t\t\t\t_state = STATE.ZOOM;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.mouseButtons.RIGHT:\n\t\t\t\t\t\t_state = STATE.PAN;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t_state = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t\t_zoomEnd.copy( _zoomStart );\n\n\t\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t\t_panEnd.copy( _panStart );\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tconst state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\n\t\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp() {\n\n\t\t\t_state = STATE.NONE;\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( scope.noZoom === true ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tswitch ( event.deltaMode ) {\n\n\t\t\t\tcase 2:\n\t\t\t\t\t// Zoom in pages\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t// Zoom in lines\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// undefined, 0, assume pixels\n\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( _pointers[ 0 ].pageX, _pointers[ 0 ].pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 2 or more\n\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\t\tconst dx = _pointers[ 0 ].pageX - _pointers[ 1 ].pageX;\n\t\t\t\t\tconst dy = _pointers[ 0 ].pageY - _pointers[ 1 ].pageY;\n\t\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tconst x = ( _pointers[ 0 ].pageX + _pointers[ 1 ].pageX ) / 2;\n\t\t\t\t\tconst y = ( _pointers[ 0 ].pageY + _pointers[ 1 ].pageY ) / 2;\n\t\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t\t_panEnd.copy( _panStart );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // 2 or more\n\n\t\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\t\tconst dx = event.pageX - position.x;\n\t\t\t\t\tconst dy = event.pageY - position.y;\n\t\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tconst x = ( event.pageX + position.x ) / 2;\n\t\t\t\t\tconst y = ( event.pageY + position.y ) / 2;\n\t\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tswitch ( _pointers.length ) {\n\n\t\t\t\tcase 0:\n\t\t\t\t\t_state = STATE.NONE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX - _movePrev.pageX, event.pageY - _movePrev.pageY ) );\n\t\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction contextmenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\t_pointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete _pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < _pointers.length; i ++ ) {\n\n\t\t\t\tif ( _pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\t_pointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = _pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\t_pointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === _pointers[ 0 ].pointerId ) ? _pointers[ 1 ] : _pointers[ 0 ];\n\n\t\t\treturn _pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\twindow.removeEventListener( 'keydown', keydown );\n\t\t\twindow.removeEventListener( 'keyup', keyup );\n\n\t\t};\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\n\t\tthis.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tthis.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\n\t\twindow.addEventListener( 'keydown', keydown );\n\t\twindow.addEventListener( 'keyup', keyup );\n\n\t\tthis.handleResize();\n\n\t\t// force an update at start\n\t\tthis.update();\n\n\t}\n\n}\n\nexport { TrackballControls };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t    removePointer( event );\n\n\t\t    if ( pointers.length === 0 ) {\n\n\t\t        scope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t        scope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t        scope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t    }\n\n\t\t    scope.dispatchEvent( _endEvent );\n\n\t\t    state = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","import {\n\tEventDispatcher,\n\tQuaternion,\n\tVector3\n} from 'three';\n\nconst _changeEvent = { type: 'change' };\n\nclass FlyControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.FlyControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// API\n\n\t\tthis.movementSpeed = 1.0;\n\t\tthis.rollSpeed = 0.005;\n\n\t\tthis.dragToLook = false;\n\t\tthis.autoForward = false;\n\n\t\t// disable default target object behavior\n\n\t\t// internals\n\n\t\tconst scope = this;\n\n\t\tconst EPS = 0.000001;\n\n\t\tconst lastQuaternion = new Quaternion();\n\t\tconst lastPosition = new Vector3();\n\n\t\tthis.tmpQuaternion = new Quaternion();\n\n\t\tthis.mouseStatus = 0;\n\n\t\tthis.moveState = { up: 0, down: 0, left: 0, right: 0, forward: 0, back: 0, pitchUp: 0, pitchDown: 0, yawLeft: 0, yawRight: 0, rollLeft: 0, rollRight: 0 };\n\t\tthis.moveVector = new Vector3( 0, 0, 0 );\n\t\tthis.rotationVector = new Vector3( 0, 0, 0 );\n\n\t\tthis.keydown = function ( event ) {\n\n\t\t\tif ( event.altKey ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ShiftLeft':\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = .1; break;\n\n\t\t\t\tcase 'KeyW': this.moveState.forward = 1; break;\n\t\t\t\tcase 'KeyS': this.moveState.back = 1; break;\n\n\t\t\t\tcase 'KeyA': this.moveState.left = 1; break;\n\t\t\t\tcase 'KeyD': this.moveState.right = 1; break;\n\n\t\t\t\tcase 'KeyR': this.moveState.up = 1; break;\n\t\t\t\tcase 'KeyF': this.moveState.down = 1; break;\n\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 1; break;\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 1; break;\n\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 1; break;\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 1; break;\n\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 1; break;\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 1; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.keyup = function ( event ) {\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ShiftLeft':\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = 1; break;\n\n\t\t\t\tcase 'KeyW': this.moveState.forward = 0; break;\n\t\t\t\tcase 'KeyS': this.moveState.back = 0; break;\n\n\t\t\t\tcase 'KeyA': this.moveState.left = 0; break;\n\t\t\t\tcase 'KeyD': this.moveState.right = 0; break;\n\n\t\t\t\tcase 'KeyR': this.moveState.up = 0; break;\n\t\t\t\tcase 'KeyF': this.moveState.down = 0; break;\n\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 0; break;\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 0; break;\n\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 0; break;\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 0; break;\n\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 0; break;\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 0; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.mousedown = function ( event ) {\n\n\t\t\tif ( this.dragToLook ) {\n\n\t\t\t\tthis.mouseStatus ++;\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveState.forward = 1; break;\n\t\t\t\t\tcase 2: this.moveState.back = 1; break;\n\n\t\t\t\t}\n\n\t\t\t\tthis.updateMovementVector();\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.mousemove = function ( event ) {\n\n\t\t\tif ( ! this.dragToLook || this.mouseStatus > 0 ) {\n\n\t\t\t\tconst container = this.getContainerDimensions();\n\t\t\t\tconst halfWidth = container.size[ 0 ] / 2;\n\t\t\t\tconst halfHeight = container.size[ 1 ] / 2;\n\n\t\t\t\tthis.moveState.yawLeft = - ( ( event.pageX - container.offset[ 0 ] ) - halfWidth ) / halfWidth;\n\t\t\t\tthis.moveState.pitchDown = ( ( event.pageY - container.offset[ 1 ] ) - halfHeight ) / halfHeight;\n\n\t\t\t\tthis.updateRotationVector();\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.mouseup = function ( event ) {\n\n\t\t\tif ( this.dragToLook ) {\n\n\t\t\t\tthis.mouseStatus --;\n\n\t\t\t\tthis.moveState.yawLeft = this.moveState.pitchDown = 0;\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveState.forward = 0; break;\n\t\t\t\t\tcase 2: this.moveState.back = 0; break;\n\n\t\t\t\t}\n\n\t\t\t\tthis.updateMovementVector();\n\n\t\t\t}\n\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.update = function ( delta ) {\n\n\t\t\tconst moveMult = delta * scope.movementSpeed;\n\t\t\tconst rotMult = delta * scope.rollSpeed;\n\n\t\t\tscope.object.translateX( scope.moveVector.x * moveMult );\n\t\t\tscope.object.translateY( scope.moveVector.y * moveMult );\n\t\t\tscope.object.translateZ( scope.moveVector.z * moveMult );\n\n\t\t\tscope.tmpQuaternion.set( scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1 ).normalize();\n\t\t\tscope.object.quaternion.multiply( scope.tmpQuaternion );\n\n\t\t\tif (\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS\n\t\t\t) {\n\n\t\t\t\tscope.dispatchEvent( _changeEvent );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.updateMovementVector = function () {\n\n\t\t\tconst forward = ( this.moveState.forward || ( this.autoForward && ! this.moveState.back ) ) ? 1 : 0;\n\n\t\t\tthis.moveVector.x = ( - this.moveState.left + this.moveState.right );\n\t\t\tthis.moveVector.y = ( - this.moveState.down + this.moveState.up );\n\t\t\tthis.moveVector.z = ( - forward + this.moveState.back );\n\n\t\t\t//console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n\n\t\t};\n\n\t\tthis.updateRotationVector = function () {\n\n\t\t\tthis.rotationVector.x = ( - this.moveState.pitchDown + this.moveState.pitchUp );\n\t\t\tthis.rotationVector.y = ( - this.moveState.yawRight + this.moveState.yawLeft );\n\t\t\tthis.rotationVector.z = ( - this.moveState.rollRight + this.moveState.rollLeft );\n\n\t\t\t//console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n\n\t\t};\n\n\t\tthis.getContainerDimensions = function () {\n\n\t\t\tif ( this.domElement != document ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tsize: [ this.domElement.offsetWidth, this.domElement.offsetHeight ],\n\t\t\t\t\toffset: [ this.domElement.offsetLeft, this.domElement.offsetTop ]\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\treturn {\n\t\t\t\t\tsize: [ window.innerWidth, window.innerHeight ],\n\t\t\t\t\toffset: [ 0, 0 ]\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _mousedown );\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _mousemove );\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _mouseup );\n\n\t\t\twindow.removeEventListener( 'keydown', _keydown );\n\t\t\twindow.removeEventListener( 'keyup', _keyup );\n\n\t\t};\n\n\t\tconst _mousemove = this.mousemove.bind( this );\n\t\tconst _mousedown = this.mousedown.bind( this );\n\t\tconst _mouseup = this.mouseup.bind( this );\n\t\tconst _keydown = this.keydown.bind( this );\n\t\tconst _keyup = this.keyup.bind( this );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\n\t\tthis.domElement.addEventListener( 'mousemove', _mousemove );\n\t\tthis.domElement.addEventListener( 'mousedown', _mousedown );\n\t\tthis.domElement.addEventListener( 'mouseup', _mouseup );\n\n\t\twindow.addEventListener( 'keydown', _keydown );\n\t\twindow.addEventListener( 'keyup', _keyup );\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t}\n\n}\n\nfunction contextmenu( event ) {\n\n\tevent.preventDefault();\n\n}\n\nexport { FlyControls };\n","/**\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'opacity': { value: 1.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}`\n\n};\n\nexport { CopyShader };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tOrthographicCamera,\n\tMesh\n} from 'three';\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { Pass, FullScreenQuad };\n","import {\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\n\nclass ShaderPass extends Pass {\n\n\tconstructor( shader, textureID ) {\n\n\t\tsuper();\n\n\t\tthis.textureID = ( textureID !== undefined ) ? textureID : 'tDiffuse';\n\n\t\tif ( shader instanceof ShaderMaterial ) {\n\n\t\t\tthis.uniforms = shader.uniforms;\n\n\t\t\tthis.material = shader;\n\n\t\t} else if ( shader ) {\n\n\t\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\tthis.material = new ShaderMaterial( {\n\n\t\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\t\tuniforms: this.uniforms,\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t\t} );\n\n\t\t}\n\n\t\tthis.fsQuad = new FullScreenQuad( this.material );\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ShaderPass };\n","import { Pass } from './Pass.js';\n\nclass MaskPass extends Pass {\n\n\tconstructor( scene, camera ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.clear = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis.inverse = false;\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst context = renderer.getContext();\n\t\tconst state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tlet writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n}\n\nclass ClearMaskPass extends Pass {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.needsSwap = false;\n\n\t}\n\n\trender( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n}\n\nexport { MaskPass, ClearMaskPass };\n","import {\n\tBufferGeometry,\n\tClock,\n\tFloat32BufferAttribute,\n\tLinearFilter,\n\tMesh,\n\tOrthographicCamera,\n\tRGBAFormat,\n\tVector2,\n\tWebGLRenderTarget\n} from 'three';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { ShaderPass } from './ShaderPass.js';\nimport { MaskPass } from './MaskPass.js';\nimport { ClearMaskPass } from './MaskPass.js';\n\nclass EffectComposer {\n\n\tconstructor( renderer, renderTarget ) {\n\n\t\tthis.renderer = renderer;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst parameters = {\n\t\t\t\tminFilter: LinearFilter,\n\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\tformat: RGBAFormat\n\t\t\t};\n\n\t\t\tconst size = renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\n\t\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t\t} else {\n\n\t\t\tthis._pixelRatio = 1;\n\t\t\tthis._width = renderTarget.width;\n\t\t\tthis._height = renderTarget.height;\n\n\t\t}\n\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\t\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t\tthis.renderToScreen = true;\n\n\t\tthis.passes = [];\n\n\t\t// dependencies\n\n\t\tif ( CopyShader === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\n\n\t\t}\n\n\t\tif ( ShaderPass === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\n\n\t\t}\n\n\t\tthis.copyPass = new ShaderPass( CopyShader );\n\n\t\tthis.clock = new Clock();\n\n\t}\n\n\tswapBuffers() {\n\n\t\tconst tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t}\n\n\taddPass( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tinsertPass( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tremovePass( pass ) {\n\n\t\tconst index = this.passes.indexOf( pass );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tthis.passes.splice( index, 1 );\n\n\t\t}\n\n\t}\n\n\tisLastEnabledPass( passIndex ) {\n\n\t\tfor ( let i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\trender( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tconst currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tlet maskActive = false;\n\n\t\tfor ( let i = 0, il = this.passes.length; i < il; i ++ ) {\n\n\t\t\tconst pass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tconst context = this.renderer.getContext();\n\t\t\t\t\tconst stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\treset( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tconst effectiveWidth = this._width * this._pixelRatio;\n\t\tconst effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( let i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t}\n\n\tsetPixelRatio( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n}\n\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { EffectComposer, Pass, FullScreenQuad };\n","import {\n\tColor\n} from 'three';\nimport { Pass } from './Pass.js';\n\nclass RenderPass extends Pass {\n\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n\t\tthis._oldClearColor = new Color();\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tlet oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.getClearColor( this._oldClearColor );\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this._oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n}\n\nexport { RenderPass };\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\n\nfunction negation(a) {\n  return -a;\n}\n\nfunction addition(a, b) {\n  return a + b;\n}\n\nfunction subtraction(a, b) {\n  return a - b;\n}\n\nfunction multiplication(a, b) {\n  return a * b;\n}\n\nfunction division(a, b) {\n  return a / b;\n}\n\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\n\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\n\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\n\nvar defaultSymbols = {\n  symbols: {\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    }\n  }\n};\n\n// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found and no default was provided.\\n\\n\",\n  \"75\": \"important requires a valid style object, got a %s instead.\\n\\n\",\n  \"76\": \"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\\n\\n\",\n  \"77\": \"remToPx expects a value in \\\"rem\\\" but you provided it in \\\"%s\\\".\\n\\n\",\n  \"78\": \"base must be set in \\\"px\\\" or \\\"%\\\" but you set it in \\\"%s\\\".\\n\"\n};\n/**\n * super basic version of sprintf\n * @private\n */\n\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var a = args[0];\n  var b = [];\n  var c;\n\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\n\n\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n\n  function PolishedError(code) {\n    var _this;\n\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n\n    return _assertThisInitialized(_this);\n  }\n\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.\n\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultSymbols.symbols, additionalSymbols.symbols) : _extends({}, defaultSymbols.symbols);\n  return symbolMap;\n}\n\nfunction exec(operators, values) {\n  var _ref;\n\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\n\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" + // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  }) // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  }) // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n\n  do {\n    match = pattern.exec(expression);\n\n    var _ref2 = match || [')', undefined],\n        token = _ref2[0],\n        bad = _ref2[1];\n\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:\n\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n\n\n      afterValue = curr.notation === 'postfix';\n\n      if (curr.symbol !== ')') {\n        operators.push(curr); // Postfix always has precedence over any operator that follows after it\n\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\n\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\n\n\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same\n\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n/**\n * Fetches the value of a passed CSS Variable in the :root scope, or otherwise returns a defaultValue if provided.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\n\nfunction cssVar(cssVariable, defaultValue) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    throw new PolishedError(73);\n  }\n\n  var variableValue;\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else if (defaultValue) {\n    return defaultValue;\n  }\n\n  throw new PolishedError(74);\n}\n\n// @private\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap$1 = ['Top', 'Right', 'Bottom', 'Left'];\n\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\n\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap$1[i])] = valuesWithDefaults[i];\n    }\n  }\n\n  return styles;\n}\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  //  prettier-ignore\n  var firstValue = values[0],\n      _values$ = values[1],\n      secondValue = _values$ === void 0 ? firstValue : _values$,\n      _values$2 = values[2],\n      thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n      _values$3 = values[3],\n      fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n\n/**\n * Check if a string ends with something\n * @private\n */\nfunction endsWith(string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\n\nfunction stripUnit(value) {\n  if (typeof value !== 'string') return value;\n  var matchedValue = value.match(cssRegex$1);\n  return matchedValue ? parseFloat(value) : value;\n}\n\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\n\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n\n    var newPxval = pxval;\n    var newBase = base;\n\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n\n      newPxval = stripUnit(pxval);\n    }\n\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n\n      newBase = stripUnit(base);\n    }\n\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n\n    return \"\" + newPxval / newBase + to;\n  };\n};\n\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\n\nvar em = /*#__PURE__*/pxtoFactory('em');\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\n\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\n/**\n * Helper for targeting rules in a style block generated by polished modules that need !important-level specificity. Can optionally specify a rule (or rules) to target specific rules.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...important(cover())\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${important(cover())}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute !important',\n *   'top': '0 !important',\n *   'right: '0 !important',\n *   'bottom': '0 !important',\n *   'left: '0 !important'\n * }\n */\n\nfunction important(styleBlock, rules) {\n  if (typeof styleBlock !== 'object' || styleBlock === null) {\n    throw new PolishedError(75, typeof styleBlock);\n  }\n\n  var newStyleBlock = {};\n  Object.keys(styleBlock).forEach(function (key) {\n    if (typeof styleBlock[key] === 'object' && styleBlock[key] !== null) {\n      newStyleBlock[key] = important(styleBlock[key], rules);\n    } else if (!rules || rules && (rules === key || rules.indexOf(key) >= 0)) {\n      newStyleBlock[key] = styleBlock[key] + \" !important\";\n    } else {\n      newStyleBlock[key] = styleBlock[key];\n    }\n  });\n  return newStyleBlock;\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\n\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\n\n\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n      realBase = _ref[0],\n      unit = _ref[1];\n\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\n\nvar rem = /*#__PURE__*/pxtoFactory('rem');\n\nvar defaultFontSize = 16;\n\nfunction convertBase(base) {\n  var deconstructedValue = getValueAndUnit(base);\n\n  if (deconstructedValue[1] === 'px') {\n    return parseFloat(base);\n  }\n\n  if (deconstructedValue[1] === '%') {\n    return parseFloat(base) / 100 * defaultFontSize;\n  }\n\n  throw new PolishedError(78, deconstructedValue[1]);\n}\n\nfunction getBaseFromDoc() {\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    var rootFontSize = getComputedStyle(document.documentElement).fontSize;\n    return rootFontSize ? convertBase(rootFontSize) : defaultFontSize;\n  }\n  /* eslint-enable */\n\n  /* istanbul ignore next */\n\n\n  return defaultFontSize;\n}\n/**\n * Convert rem values to px. By default, the base value is pulled from the font-size property on the root element (if it is set in % or px). It defaults to 16px if not found on the root. You can also override the base value by providing your own base in % or px.\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': remToPx('1.6rem')\n *   'height': remToPx('1.6rem', '10px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${remToPx('1.6rem')}\n *   height: ${remToPx('1.6rem', '10px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '25.6px',\n *   'height': '16px',\n * }\n */\n\n\nfunction remToPx(value, base) {\n  var deconstructedValue = getValueAndUnit(value);\n\n  if (deconstructedValue[1] !== 'rem' && deconstructedValue[1] !== '') {\n    throw new PolishedError(77, deconstructedValue[1]);\n  }\n\n  var newBase = base ? convertBase(base) : getBaseFromDoc();\n  return deconstructedValue[0] * newBase + \"px\";\n}\n\nvar functionsMap$3 = {\n  back: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  circ: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  cubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  expo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  quad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  quart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  quint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  sine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeIn('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeIn('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\nfunction easeIn(functionName) {\n  return functionsMap$3[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$2 = {\n  back: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  circ: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  cubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  expo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  quad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  quart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  quint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  sine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeInOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeInOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n * }\n */\n\nfunction easeInOut(functionName) {\n  return functionsMap$2[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$1 = {\n  back: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  cubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  circ: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  expo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  quad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  quart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  quint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  sine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n * }\n */\n\nfunction easeOut(functionName) {\n  return functionsMap$1[functionName.toLowerCase().trim()];\n}\n\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\n\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n      unitlessFromSize = _getValueAndUnit[0],\n      fromSizeUnit = _getValueAndUnit[1];\n\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n      unitlessToSize = _getValueAndUnit2[0],\n      toSizeUnit = _getValueAndUnit2[1];\n\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n      unitlessMinScreen = _getValueAndUnit3[0],\n      minScreenUnit = _getValueAndUnit3[1];\n\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n      unitlessMaxScreen = _getValueAndUnit4[0],\n      maxScreenUnit = _getValueAndUnit4[1];\n\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n\n  if (fromSizeUnit !== minScreenUnit || toSizeUnit !== maxScreenUnit) {\n    throw new PolishedError(76);\n  }\n\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\nfunction clearFix(parent) {\n  var _ref;\n\n  if (parent === void 0) {\n    parent = '&';\n  }\n\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n\n/**\n * CSS to represent truncated text with an ellipsis. You can optionally pass a max-width and number of lines before truncating.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\nfunction ellipsis(width, lines) {\n  if (lines === void 0) {\n    lines = 1;\n  }\n\n  var styles = {\n    display: 'inline-block',\n    maxWidth: width || '100%',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n  return lines > 1 ? _extends({}, styles, {\n    WebkitBoxOrient: 'vertical',\n    WebkitLineClamp: lines,\n    display: '-webkit-box',\n    whiteSpace: 'normal'\n  }) : styles;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {\n      var _extends2, _extends3;\n\n      var obj = _step.value;\n\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n\n    return _extends({}, fallbacks, mediaQueries);\n  } else {\n    var _ref, _ref2, _ref3;\n\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n\n    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3[\"@media (min-width: \" + minScreen + \")\"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3[\"@media (min-width: \" + maxScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\n\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\n\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.replace(/\\s+/g, ' ').match(dataURIRegex);\n}\n\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\n\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\n\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n\n  return fontReferences.join(', ');\n}\n/**\n * CSS for a @font-face declaration. Defaults to check for local copies of the font on the user's machine. You can disable this by passing `null` to localFonts.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n      fontFilePath = _ref.fontFilePath,\n      fontStretch = _ref.fontStretch,\n      fontStyle = _ref.fontStyle,\n      fontVariant = _ref.fontVariant,\n      fontWeight = _ref.fontWeight,\n      _ref$fileFormats = _ref.fileFormats,\n      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n      _ref$formatHint = _ref.formatHint,\n      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n      _ref$localFonts = _ref.localFonts,\n      localFonts = _ref$localFonts === void 0 ? [fontFamily] : _ref$localFonts,\n      unicodeRange = _ref.unicodeRange,\n      fontDisplay = _ref.fontDisplay,\n      fontVariationSettings = _ref.fontVariationSettings,\n      fontFeatureSettings = _ref.fontFeatureSettings;\n  // Error Handling\n  if (!fontFamily) throw new PolishedError(55);\n\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  }; // Removes undefined fields for cleaner css object.\n\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      }); // Adds leading coma if properties preceed color-stops\n\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i]; // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n\n  return template.trim();\n}\n\nvar _templateObject$1;\n\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      fallback = _ref.fallback,\n      _ref$toDirection = _ref.toDirection,\n      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].replace(/,\\s+/g, ',').split(' ')[0].replace(/,(?=\\S)/g, ', '),\n    backgroundImage: constructGradientValue(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"])), toDirection, colorStops.join(', ').replace(/,(?=\\S)/g, ', '))\n  };\n}\n\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\nfunction normalize() {\n  var _ref;\n\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    main: {\n      display: 'block'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nvar _templateObject;\n\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      _ref$extent = _ref.extent,\n      extent = _ref$extent === void 0 ? '' : _ref$extent,\n      fallback = _ref.fallback,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? '' : _ref$position,\n      _ref$shape = _ref.shape,\n      shape = _ref$shape === void 0 ? '' : _ref$shape;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"])), position, shape, extent, colorStops.join(', '))\n  };\n}\n\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n\n  if (extension === void 0) {\n    extension = 'png';\n  }\n\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n\n  if (!filename) {\n    throw new PolishedError(58);\n  } // Replace the dot at the beginning of the passed extension if one exists\n\n\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n\n/* eslint-disable key-spacing */\nvar functionsMap = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap[functionName];\n}\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @deprecated - This will be deprecated in v5 in favor of `easeIn`, `easeOut`, `easeInOut`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\n\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return {\n        borderBottomColor: foregroundColor\n      };\n\n    case 'right':\n    case 'bottomLeft':\n      return {\n        borderLeftColor: foregroundColor\n      };\n\n    case 'bottom':\n    case 'topLeft':\n      return {\n        borderTopColor: foregroundColor\n      };\n\n    case 'left':\n    case 'topRight':\n      return {\n        borderRightColor: foregroundColor\n      };\n\n    default:\n      throw new PolishedError(59);\n  }\n};\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\n\n\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n      height = _ref.height,\n      width = _ref.width,\n      foregroundColor = _ref.foregroundColor,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n\n  return _extends({\n    width: '0',\n    height: '0',\n    borderColor: backgroundColor\n  }, getBorderColor(pointingDirection, foregroundColor), {\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  });\n}\n\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\n\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\n\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\n\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsla\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\n\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n\n  var normalizedColor = nameToHex(color);\n\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n\n  var rgbaMatched = rgbaRegex.exec(normalizedColor.substring(0, 50));\n\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n\n  var hslMatched = hslRegex.exec(normalizedColor);\n\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n\n  var hslaMatched = hslaRegex.exec(normalizedColor.substring(0, 50));\n\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n\n  hue *= 60;\n\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n\n  return value;\n};\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\n\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\n\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n\n  throw new PolishedError(1);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n\n  throw new PolishedError(2);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n\n  throw new PolishedError(6);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\n\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n}\n\n// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n} // eslint-disable-next-line no-redeclare\n\n\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\n\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n} // prettier-ignore\n\n\nvar curriedAdjustHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(adjustHue);\n\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\n\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDarken = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(darken);\n\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\n\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDesaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(desaturate);\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n    var channel = rgbColor[key] / 255;\n    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }),\n      r = _Object$keys$map[0],\n      g = _Object$keys$map[1],\n      b = _Object$keys$map[2];\n\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n\n  throw new PolishedError(45);\n}\n\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\n\nfunction invert(color) {\n  if (color === 'transparent') return color; // parse color string to rgb\n\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\n\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedLighten = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(lighten);\n\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\n\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n\n  var parsedColor2 = parseToRgb(otherColor);\n\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  }); // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * (parseFloat(weight) / 1.0) + color2.alpha * (1 - parseFloat(weight) / 1.0)\n  };\n  return rgba(mixedColor);\n} // prettier-ignore\n\n\nvar curriedMix = /*#__PURE__*/curry\n/* ::<number | string, string, string, string> */\n(mix);\n\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\n\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedOpacify = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(opacify);\n\nvar defaultReturnIfLightColor = '#000';\nvar defaultReturnIfDarkColor = '#fff';\n/**\n * Returns black or white (or optional passed colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, strict mode ensures that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color. You can optionally turn off strict mode.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\n\nfunction readableColor(color, returnIfLightColor, returnIfDarkColor, strict) {\n  if (returnIfLightColor === void 0) {\n    returnIfLightColor = defaultReturnIfLightColor;\n  }\n\n  if (returnIfDarkColor === void 0) {\n    returnIfDarkColor = defaultReturnIfDarkColor;\n  }\n\n  if (strict === void 0) {\n    strict = true;\n  }\n\n  var isColorLight = getLuminance(color) > 0.179;\n  var preferredReturnColor = isColorLight ? returnIfLightColor : returnIfDarkColor;\n\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n\n  return isColorLight ? defaultReturnIfLightColor : defaultReturnIfDarkColor;\n}\n\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n\n  throw new PolishedError(46);\n}\n\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\n\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedSaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(saturate);\n\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\n\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setHue);\n\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\n\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetLightness = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setLightness);\n\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\n\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetSaturation = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setSaturation);\n\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n} // prettier-ignore\n\n\nvar curriedShade = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(shade);\n\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n} // prettier-ignore\n\n\nvar curriedTint = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(tint);\n\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff');\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\n\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, +(alpha * 100 - parseFloat(amount) * 100).toFixed(2) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedTransparentize = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(transparentize);\n\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  // Allow single or multiple animations passed\n  var multiMode = Array.isArray(args[0]);\n\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n\n  throw new PolishedError(63);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\n\n\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n\n    selectors.push(generateSelectors(template, states[i]));\n  }\n\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template$1(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\n\n\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\n\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (positionMap.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\n\n\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template, stateMap);\n}\n\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\n\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken as darken, curriedDesaturate as desaturate, directionalProperty, easeIn, easeInOut, easeOut, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, important, invert, curriedLighten as lighten, linearGradient, margin, math, meetsContrastGuidelines, curriedMix as mix, modularScale, normalize, curriedOpacify as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, remToPx, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate as saturate, curriedSetHue as setHue, curriedSetLightness as setLightness, curriedSetSaturation as setSaturation, curriedShade as shade, size, stripUnit, textInputs, timingFunctions, curriedTint as tint, toColorString, transitions, curriedTransparentize as transparentize, triangle, wordWrap };\n","import { WebGLRenderer, Scene, PerspectiveCamera, Raycaster, TextureLoader, Vector2, Vector3, Box3, Color, Mesh, SphereGeometry, MeshBasicMaterial, BackSide, EventDispatcher, MOUSE, Quaternion, Spherical, Clock } from 'three';\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { FlyControls } from 'three/examples/jsm/controls/FlyControls.js';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { parseToRgb, opacify } from 'polished';\nimport TWEEN from '@tweenjs/tween.js';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".scene-nav-info {\\n  bottom: 5px;\\n  width: 100%;\\n  text-align: center;\\n  color: slategrey;\\n  opacity: 0.7;\\n  font-size: 10px;\\n}\\n\\n.scene-tooltip {\\n  color: lavender;\\n  font-size: 15px;\\n}\\n\\n.scene-nav-info, .scene-tooltip {\\n  position: absolute;\\n  font-family: sans-serif;\\n  pointer-events: none;\\n}\\n\\n.scene-container canvas:focus {\\n  outline: none;\\n}\";\nstyleInject(css_248z);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  WebGLRenderer: WebGLRenderer,\n  Scene: Scene,\n  PerspectiveCamera: PerspectiveCamera,\n  Raycaster: Raycaster,\n  TextureLoader: TextureLoader,\n  Vector2: Vector2,\n  Vector3: Vector3,\n  Box3: Box3,\n  Color: Color,\n  Mesh: Mesh,\n  SphereGeometry: SphereGeometry,\n  MeshBasicMaterial: MeshBasicMaterial,\n  BackSide: BackSide,\n  EventDispatcher: EventDispatcher,\n  MOUSE: MOUSE,\n  Quaternion: Quaternion,\n  Spherical: Spherical,\n  Clock: Clock\n};\nvar threeRenderObjects = Kapsule({\n  props: {\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(width, state, prevWidth) {\n        isNaN(width) && (state.width = prevWidth);\n      }\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(height, state, prevHeight) {\n        isNaN(height) && (state.height = prevHeight);\n      }\n    },\n    backgroundColor: {\n      \"default\": '#000011'\n    },\n    backgroundImageUrl: {},\n    onBackgroundImageLoaded: {},\n    showNavInfo: {\n      \"default\": true\n    },\n    skyRadius: {\n      \"default\": 50000\n    },\n    objects: {\n      \"default\": []\n    },\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        // Reset hover state\n        state.hoverObj = null;\n        if (state.toolTipElem) state.toolTipElem.innerHTML = '';\n      },\n      triggerUpdate: false\n    },\n    lineHoverPrecision: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    hoverOrderComparator: {\n      \"default\": function _default() {\n        return -1;\n      },\n      triggerUpdate: false\n    },\n    // keep existing order by default\n    hoverFilter: {\n      \"default\": function _default() {\n        return true;\n      },\n      triggerUpdate: false\n    },\n    // exclude objects from interaction\n    tooltipContent: {\n      triggerUpdate: false\n    },\n    hoverDuringDrag: {\n      \"default\": false,\n      triggerUpdate: false\n    },\n    clickAfterDrag: {\n      \"default\": false,\n      triggerUpdate: false\n    },\n    onHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onRightClick: {\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    tick: function tick(state) {\n      if (state.initialised) {\n        state.controls.update && state.controls.update(state.clock.getDelta()); // timedelta is required for fly controls\n\n        state.postProcessingComposer ? state.postProcessingComposer.render() // if using postprocessing, switch the output to it\n        : state.renderer.render(state.scene, state.camera);\n        state.extraRenderers.forEach(function (r) {\n          return r.render(state.scene, state.camera);\n        });\n\n        if (state.enablePointerInteraction) {\n          // Update tooltip and trigger onHover events\n          var topObject = null;\n\n          if (state.hoverDuringDrag || !state.isPointerDragging) {\n            var intersects = this.intersectingObjects(state.pointerPos.x, state.pointerPos.y).filter(function (d) {\n              return state.hoverFilter(d.object);\n            }).sort(function (a, b) {\n              return state.hoverOrderComparator(a.object, b.object);\n            });\n            var topIntersect = intersects.length ? intersects[0] : null;\n            topObject = topIntersect ? topIntersect.object : null;\n            state.intersectionPoint = topIntersect ? topIntersect.point : null;\n          }\n\n          if (topObject !== state.hoverObj) {\n            state.onHover(topObject, state.hoverObj);\n            state.toolTipElem.innerHTML = topObject ? accessorFn(state.tooltipContent)(topObject) || '' : '';\n            state.hoverObj = topObject;\n          }\n        }\n\n        TWEEN.update(); // update camera animation tweens\n      }\n\n      return this;\n    },\n    getPointerPos: function getPointerPos(state) {\n      var _state$pointerPos = state.pointerPos,\n          x = _state$pointerPos.x,\n          y = _state$pointerPos.y;\n      return {\n        x: x,\n        y: y\n      };\n    },\n    cameraPosition: function cameraPosition(state, position, lookAt, transitionDuration) {\n      var camera = state.camera; // Setter\n\n      if (position && state.initialised) {\n        var finalPos = position;\n        var finalLookAt = lookAt || {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n\n        if (!transitionDuration) {\n          // no animation\n          setCameraPos(finalPos);\n          setLookAt(finalLookAt);\n        } else {\n          var camPos = Object.assign({}, camera.position);\n          var camLookAt = getLookAt();\n          new TWEEN.Tween(camPos).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCameraPos).start(); // Face direction in 1/3rd of time\n\n          new TWEEN.Tween(camLookAt).to(finalLookAt, transitionDuration / 3).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setLookAt).start();\n        }\n\n        return this;\n      } // Getter\n\n\n      return Object.assign({}, camera.position, {\n        lookAt: getLookAt()\n      }); //\n\n      function setCameraPos(pos) {\n        var x = pos.x,\n            y = pos.y,\n            z = pos.z;\n        if (x !== undefined) camera.position.x = x;\n        if (y !== undefined) camera.position.y = y;\n        if (z !== undefined) camera.position.z = z;\n      }\n\n      function setLookAt(lookAt) {\n        state.controls.target = new three.Vector3(lookAt.x, lookAt.y, lookAt.z);\n      }\n\n      function getLookAt() {\n        return Object.assign(new three.Vector3(0, 0, -1000).applyQuaternion(camera.quaternion).add(camera.position));\n      }\n    },\n    zoomToFit: function zoomToFit(state) {\n      var transitionDuration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n\n      return this.fitToBbox(this.getBbox.apply(this, bboxArgs), transitionDuration, padding);\n    },\n    fitToBbox: function fitToBbox(state, bbox) {\n      var transitionDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var padding = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10;\n      // based on https://discourse.threejs.org/t/camera-zoom-to-fit-object/936/24\n      var camera = state.camera;\n\n      if (bbox) {\n        var center = new three.Vector3(0, 0, 0); // reset camera aim to center\n\n        var maxBoxSide = Math.max.apply(Math, _toConsumableArray(Object.entries(bbox).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              coordType = _ref2[0],\n              coords = _ref2[1];\n\n          return Math.max.apply(Math, _toConsumableArray(coords.map(function (c) {\n            return Math.abs(center[coordType] - c);\n          })));\n        }))) * 2; // find distance that fits whole bbox within padded fov\n\n        var paddedFov = (1 - padding * 2 / state.height) * camera.fov;\n        var fitHeightDistance = maxBoxSide / Math.atan(paddedFov * Math.PI / 180);\n        var fitWidthDistance = fitHeightDistance / camera.aspect;\n        var distance = Math.max(fitHeightDistance, fitWidthDistance);\n\n        if (distance > 0) {\n          var newCameraPosition = center.clone().sub(camera.position).normalize().multiplyScalar(-distance);\n          this.cameraPosition(newCameraPosition, center, transitionDuration);\n        }\n      }\n\n      return this;\n    },\n    getBbox: function getBbox(state) {\n      var objFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      var box = new three.Box3(new three.Vector3(0, 0, 0), new three.Vector3(0, 0, 0));\n      var objs = state.objects.filter(objFilter);\n      if (!objs.length) return null;\n      objs.forEach(function (obj) {\n        return box.expandByObject(obj);\n      }); // extract global x,y,z min/max\n\n      return Object.assign.apply(Object, _toConsumableArray(['x', 'y', 'z'].map(function (c) {\n        return _defineProperty({}, c, [box.min[c], box.max[c]]);\n      })));\n    },\n    getScreenCoords: function getScreenCoords(state, x, y, z) {\n      var vec = new three.Vector3(x, y, z);\n      vec.project(this.camera()); // project to the camera plane\n\n      return {\n        // align relative pos to canvas dimensions\n        x: (vec.x + 1) * state.width / 2,\n        y: -(vec.y - 1) * state.height / 2\n      };\n    },\n    getSceneCoords: function getSceneCoords(state, screenX, screenY) {\n      var distance = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var relCoords = new three.Vector2(screenX / state.width * 2 - 1, -(screenY / state.height) * 2 + 1);\n      var raycaster = new three.Raycaster();\n      raycaster.setFromCamera(relCoords, state.camera);\n      return Object.assign({}, raycaster.ray.at(distance, new three.Vector3()));\n    },\n    intersectingObjects: function intersectingObjects(state, x, y) {\n      var relCoords = new three.Vector2(x / state.width * 2 - 1, -(y / state.height) * 2 + 1);\n      var raycaster = new three.Raycaster();\n      raycaster.params.Line.threshold = state.lineHoverPrecision; // set linePrecision\n\n      raycaster.setFromCamera(relCoords, state.camera);\n      return raycaster.intersectObjects(state.objects, true);\n    },\n    renderer: function renderer(state) {\n      return state.renderer;\n    },\n    scene: function scene(state) {\n      return state.scene;\n    },\n    camera: function camera(state) {\n      return state.camera;\n    },\n    postProcessingComposer: function postProcessingComposer(state) {\n      return state.postProcessingComposer;\n    },\n    controls: function controls(state) {\n      return state.controls;\n    },\n    tbControls: function tbControls(state) {\n      return state.controls;\n    } // to be deprecated\n\n  },\n  stateInit: function stateInit() {\n    return {\n      scene: new three.Scene(),\n      camera: new three.PerspectiveCamera(),\n      clock: new three.Clock()\n    };\n  },\n  init: function init(domNode, state) {\n    var _ref4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref4$controlType = _ref4.controlType,\n        controlType = _ref4$controlType === void 0 ? 'trackball' : _ref4$controlType,\n        _ref4$rendererConfig = _ref4.rendererConfig,\n        rendererConfig = _ref4$rendererConfig === void 0 ? {} : _ref4$rendererConfig,\n        _ref4$extraRenderers = _ref4.extraRenderers,\n        extraRenderers = _ref4$extraRenderers === void 0 ? [] : _ref4$extraRenderers,\n        _ref4$waitForLoadComp = _ref4.waitForLoadComplete,\n        waitForLoadComplete = _ref4$waitForLoadComp === void 0 ? true : _ref4$waitForLoadComp;\n\n    // Wipe DOM\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.className = 'scene-container';\n    state.container.style.position = 'relative'; // Add nav info section\n\n    state.container.appendChild(state.navInfo = document.createElement('div'));\n    state.navInfo.className = 'scene-nav-info';\n    state.navInfo.textContent = {\n      orbit: 'Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan',\n      trackball: 'Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan',\n      fly: 'WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw'\n    }[controlType] || '';\n    state.navInfo.style.display = state.showNavInfo ? null : 'none'; // Setup tooltip\n\n    state.toolTipElem = document.createElement('div');\n    state.toolTipElem.classList.add('scene-tooltip');\n    state.container.appendChild(state.toolTipElem); // Capture pointer coords on move or touchstart\n\n    state.pointerPos = new three.Vector2();\n    state.pointerPos.x = -2; // Initialize off canvas\n\n    state.pointerPos.y = -2;\n    ['pointermove', 'pointerdown'].forEach(function (evType) {\n      return state.container.addEventListener(evType, function (ev) {\n        // track click state\n        evType === 'pointerdown' && (state.isPointerPressed = true); // detect point drag\n\n        !state.isPointerDragging && ev.type === 'pointermove' && (ev.pressure > 0 || state.isPointerPressed) // ev.pressure always 0 on Safari, so we used the isPointerPressed tracker\n        && (ev.pointerType !== 'touch' || ev.movementX === undefined || [ev.movementX, ev.movementY].some(function (m) {\n          return Math.abs(m) > 1;\n        })) // relax drag trigger sensitivity on touch events\n        && (state.isPointerDragging = true);\n\n        if (state.enablePointerInteraction) {\n          // update the pointer pos\n          var offset = getOffset(state.container);\n          state.pointerPos.x = ev.pageX - offset.left;\n          state.pointerPos.y = ev.pageY - offset.top; // Move tooltip\n\n          state.toolTipElem.style.top = \"\".concat(state.pointerPos.y, \"px\");\n          state.toolTipElem.style.left = \"\".concat(state.pointerPos.x, \"px\");\n          state.toolTipElem.style.transform = \"translate(-\".concat(state.pointerPos.x / state.width * 100, \"%, 21px)\"); // adjust horizontal position to not exceed canvas boundaries\n        }\n\n        function getOffset(el) {\n          var rect = el.getBoundingClientRect(),\n              scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n              scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n          return {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n          };\n        }\n      }, {\n        passive: true\n      });\n    }); // Handle click events on objs\n\n    state.container.addEventListener('pointerup', function (ev) {\n      state.isPointerPressed = false;\n\n      if (state.isPointerDragging) {\n        state.isPointerDragging = false;\n        if (!state.clickAfterDrag) return; // don't trigger onClick after pointer drag (camera motion via controls)\n      }\n\n      requestAnimationFrame(function () {\n        // trigger click events asynchronously, to allow hoverObj to be set (on frame)\n        if (ev.button === 0) {\n          // left-click\n          state.onClick(state.hoverObj || null, ev, state.intersectionPoint); // trigger background clicks with null\n        }\n\n        if (ev.button === 2 && state.onRightClick) {\n          // right-click\n          state.onRightClick(state.hoverObj || null, ev, state.intersectionPoint);\n        }\n      });\n    }, {\n      passive: true,\n      capture: true\n    }); // use capture phase to prevent propagation blocking from controls (specifically for fly)\n\n    state.container.addEventListener('contextmenu', function (ev) {\n      if (state.onRightClick) ev.preventDefault(); // prevent default contextmenu behavior and allow pointerup to fire instead\n    }); // Setup renderer, camera and controls\n\n    state.renderer = new three.WebGLRenderer(Object.assign({\n      antialias: true,\n      alpha: true\n    }, rendererConfig));\n    state.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio)); // clamp device pixel ratio\n\n    state.container.appendChild(state.renderer.domElement); // Setup extra renderers\n\n    state.extraRenderers = extraRenderers;\n    state.extraRenderers.forEach(function (r) {\n      // overlay them on top of main renderer\n      r.domElement.style.position = 'absolute';\n      r.domElement.style.top = '0px';\n      r.domElement.style.pointerEvents = 'none';\n      state.container.appendChild(r.domElement);\n    }); // configure post-processing composer\n\n    state.postProcessingComposer = new EffectComposer(state.renderer);\n    state.postProcessingComposer.addPass(new RenderPass(state.scene, state.camera)); // render scene as first pass\n    // configure controls\n\n    state.controls = new {\n      trackball: TrackballControls,\n      orbit: OrbitControls,\n      fly: FlyControls\n    }[controlType](state.camera, state.renderer.domElement);\n\n    if (controlType === 'fly') {\n      state.controls.movementSpeed = 300;\n      state.controls.rollSpeed = Math.PI / 6;\n      state.controls.dragToLook = true;\n    }\n\n    if (controlType === 'trackball' || controlType === 'orbit') {\n      state.controls.minDistance = 0.1;\n      state.controls.maxDistance = state.skyRadius;\n      state.controls.addEventListener('start', function () {\n        state.controlsEngaged = true;\n      });\n      state.controls.addEventListener('change', function () {\n        if (state.controlsEngaged) {\n          state.controlsDragging = true;\n        }\n      });\n      state.controls.addEventListener('end', function () {\n        state.controlsEngaged = false;\n        state.controlsDragging = false;\n      });\n    }\n\n    [state.renderer, state.postProcessingComposer].concat(_toConsumableArray(state.extraRenderers)).forEach(function (r) {\n      return r.setSize(state.width, state.height);\n    });\n    state.camera.aspect = state.width / state.height;\n    state.camera.updateProjectionMatrix();\n    state.camera.position.z = 1000; // add sky\n\n    state.scene.add(state.skysphere = new three.Mesh());\n    state.skysphere.visible = false;\n    state.loadComplete = state.scene.visible = !waitForLoadComplete;\n    window.scene = state.scene;\n  },\n  update: function update(state, changedProps) {\n    // resize canvas\n    if (state.width && state.height && (changedProps.hasOwnProperty('width') || changedProps.hasOwnProperty('height'))) {\n      state.container.style.width = state.width;\n      state.container.style.height = state.height;\n      [state.renderer, state.postProcessingComposer].concat(_toConsumableArray(state.extraRenderers)).forEach(function (r) {\n        return r.setSize(state.width, state.height);\n      });\n      state.camera.aspect = state.width / state.height;\n      state.camera.updateProjectionMatrix();\n    }\n\n    if (changedProps.hasOwnProperty('skyRadius') && state.skyRadius) {\n      state.controls.hasOwnProperty('maxDistance') && changedProps.skyRadius && (state.controls.maxDistance = state.skyRadius);\n      state.camera.far = state.skyRadius * 2.5;\n      state.camera.updateProjectionMatrix();\n      state.skysphere.geometry = new three.SphereGeometry(state.skyRadius);\n    }\n\n    if (changedProps.hasOwnProperty('backgroundColor')) {\n      var alpha = parseToRgb(state.backgroundColor).alpha;\n      if (alpha === undefined) alpha = 1;\n      state.renderer.setClearColor(new three.Color(opacify(1, state.backgroundColor)), alpha);\n    }\n\n    if (changedProps.hasOwnProperty('backgroundImageUrl')) {\n      if (!state.backgroundImageUrl) {\n        state.skysphere.visible = false;\n        state.skysphere.material.map = null;\n        !state.loadComplete && finishLoad();\n      } else {\n        new three.TextureLoader().load(state.backgroundImageUrl, function (texture) {\n          state.skysphere.material = new three.MeshBasicMaterial({\n            map: texture,\n            side: three.BackSide\n          });\n          state.skysphere.visible = true; // triggered when background image finishes loading (asynchronously to allow 1 frame to load texture)\n\n          state.onBackgroundImageLoaded && setTimeout(state.onBackgroundImageLoaded);\n          !state.loadComplete && finishLoad();\n        });\n      }\n    }\n\n    changedProps.hasOwnProperty('showNavInfo') && (state.navInfo.style.display = state.showNavInfo ? null : 'none');\n\n    if (changedProps.hasOwnProperty('objects')) {\n      (changedProps.objects || []).forEach(function (obj) {\n        return state.scene.remove(obj);\n      }); // Clear the place\n\n      state.objects.forEach(function (obj) {\n        return state.scene.add(obj);\n      }); // Add to scene\n    } //\n\n\n    function finishLoad() {\n      state.loadComplete = state.scene.visible = true;\n    }\n  }\n});\n\nexport default threeRenderObjects;\n","import { AmbientLight, DirectionalLight, Vector3 } from 'three';\nimport { DragControls } from 'three/examples/jsm/controls/DragControls.js';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.scene-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.scene-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.scene-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector3: Vector3\n};\n\nvar CAMERA_DISTANCE2NODES_FACTOR = 170; //\n// Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'ngraphPhysics', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'getGraphBbox', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n}))); // Expose config from renderObjs\n\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['cameraPosition', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})).concat([{\n  graph2ScreenCoords: bindRenderObjs.linkMethod('getScreenCoords'),\n  screen2GraphCoords: bindRenderObjs.linkMethod('getSceneCoords')\n}])); //\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n\n        if (controls) {\n          controls.enabled = enable;\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    }\n  }, linkedFGProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    zoomToFit: function zoomToFit(state, transitionDuration, padding) {\n      var _state$forceGraph;\n\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n\n      state.renderObjs.fitToBbox((_state$forceGraph = state.forceGraph).getGraphBbox.apply(_state$forceGraph, bboxArgs), transitionDuration, padding);\n      return this;\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      } // Frame cycle\n\n\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n        rendererConfig = _ref5.rendererConfig,\n        extraRenderers = _ref5.extraRenderers;\n    return {\n      forceGraph: new ThreeForceGraph(),\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig,\n        extraRenderers: extraRenderers\n      })\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative'; // Add renderObjs\n\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z; // Add info space\n\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = ''; // config forcegraph\n\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData(); // re-aim camera, if still in default position (not user modified)\n\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n\n        }\n\n        state._dragControls = undefined;\n      }\n\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programatically in ngraph\n        var dragControls = state._dragControls = new DragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          controls.enabled = false; // Disable controls while dragging\n          // track drag object movement\n\n          event.object.__initialPos = event.object.position.clone();\n          event.object.__prevPos = event.object.position.clone();\n\n          var node = getGraphObj(event.object).__data;\n\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          }); // lock node\n\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          }); // drag cursor\n\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          var nodeObj = getGraphObj(event.object);\n\n          if (!event.object.hasOwnProperty('__graphObjType')) {\n            // If dragging a child of the node, update the node object instead\n            var initPos = event.object.__initialPos;\n            var prevPos = event.object.__prevPos;\n            var _newPos = event.object.position;\n            nodeObj.position.add(_newPos.clone().sub(prevPos)); // translate node object by the motion delta\n\n            prevPos.copy(_newPos);\n\n            _newPos.copy(initPos); // reset child back to its initial position\n\n          }\n\n          var node = nodeObj.__data;\n          var newPos = nodeObj.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          }; // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          delete event.object.__initialPos; // remove tracking attributes\n\n          delete event.object.__prevPos;\n\n          var node = getGraphObj(event.object).__data; // dispose previous controls if needed\n\n\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            controls.enabled = true; // Re-enable controls\n\n            controls.domElement && controls.domElement.ownerDocument && controls.domElement.ownerDocument.dispatchEvent( // simulate mouseup to ensure the controls don't take over after dragend\n            new PointerEvent('pointerup', {\n              pointerType: 'touch'\n            }));\n          } // clear cursor\n\n\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    }); // config renderObjs\n\n    state.renderObjs.objects([// Populate scene\n    new three.AmbientLight(0xbbbbbb), new three.DirectionalLight(0xffffff, 0.6), state.forceGraph]).hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1; // Prioritize nodes over links\n\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).hoverDuringDrag(false).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          var fn = state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          fn && fn(null, prevObjData);\n        }\n\n        if (objType) {\n          // Hover in\n          var _fn = state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          _fn && _fn(objData, prevObjType === objType ? prevObjData : null);\n        } // set pointer if hovered object is clickable\n\n\n        renderer.domElement.classList[hoverObj && state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Click\")] || !hoverObj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).clickAfterDrag(false).onClick(function (obj, ev) {\n      var graphObj = getGraphObj(obj);\n\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick && state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n    }); //\n    // Kick-off renderer\n\n    this._animationCycle();\n  }\n}); //\n\nfunction getGraphObj(object) {\n  var obj = object; // recurse up object chain until finding the graph object\n\n  while (obj && !obj.hasOwnProperty('__graphObjType')) {\n    obj = obj.parent;\n  }\n\n  return obj;\n}\n\nexport default _3dForceGraph;\n","import { LinearFilter, Sprite, SpriteMaterial, Texture } from 'three';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar three = typeof window !== 'undefined' && window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  LinearFilter: LinearFilter,\n  Sprite: Sprite,\n  SpriteMaterial: SpriteMaterial,\n  Texture: Texture\n};\n\nvar _default = /*#__PURE__*/function (_three$Sprite) {\n  _inherits(_default, _three$Sprite);\n\n  var _super = _createSuper(_default);\n\n  function _default() {\n    var _this;\n\n    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var textHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    var color = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'rgba(255, 255, 255, 1)';\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, new three.SpriteMaterial({\n      map: new three.Texture()\n    }));\n    _this._text = \"\".concat(text);\n    _this._textHeight = textHeight;\n    _this._color = color;\n    _this._backgroundColor = false; // no background color\n\n    _this._padding = 0;\n    _this._borderWidth = 0;\n    _this._borderRadius = 0;\n    _this._borderColor = 'white';\n    _this._strokeWidth = 0;\n    _this._strokeColor = 'white';\n    _this._fontFace = 'Arial';\n    _this._fontSize = 90; // defines text resolution\n\n    _this._fontWeight = 'normal';\n    _this._canvas = document.createElement('canvas');\n    _this._texture = _this.material.map;\n    _this._texture.minFilter = three.LinearFilter;\n\n    _this._genCanvas();\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"text\",\n    get: function get() {\n      return this._text;\n    },\n    set: function set(text) {\n      this._text = text;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"textHeight\",\n    get: function get() {\n      return this._textHeight;\n    },\n    set: function set(textHeight) {\n      this._textHeight = textHeight;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      return this._color;\n    },\n    set: function set(color) {\n      this._color = color;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"backgroundColor\",\n    get: function get() {\n      return this._backgroundColor;\n    },\n    set: function set(color) {\n      this._backgroundColor = color;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"padding\",\n    get: function get() {\n      return this._padding;\n    },\n    set: function set(padding) {\n      this._padding = padding;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderWidth\",\n    get: function get() {\n      return this._borderWidth;\n    },\n    set: function set(borderWidth) {\n      this._borderWidth = borderWidth;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderRadius\",\n    get: function get() {\n      return this._borderRadius;\n    },\n    set: function set(borderRadius) {\n      this._borderRadius = borderRadius;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"borderColor\",\n    get: function get() {\n      return this._borderColor;\n    },\n    set: function set(borderColor) {\n      this._borderColor = borderColor;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontFace\",\n    get: function get() {\n      return this._fontFace;\n    },\n    set: function set(fontFace) {\n      this._fontFace = fontFace;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontSize\",\n    get: function get() {\n      return this._fontSize;\n    },\n    set: function set(fontSize) {\n      this._fontSize = fontSize;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"fontWeight\",\n    get: function get() {\n      return this._fontWeight;\n    },\n    set: function set(fontWeight) {\n      this._fontWeight = fontWeight;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"strokeWidth\",\n    get: function get() {\n      return this._strokeWidth;\n    },\n    set: function set(strokeWidth) {\n      this._strokeWidth = strokeWidth;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"strokeColor\",\n    get: function get() {\n      return this._strokeColor;\n    },\n    set: function set(strokeColor) {\n      this._strokeColor = strokeColor;\n\n      this._genCanvas();\n    }\n  }, {\n    key: \"_genCanvas\",\n    value: function _genCanvas() {\n      var _this2 = this;\n\n      var canvas = this._canvas;\n      var ctx = canvas.getContext('2d');\n      var border = Array.isArray(this.borderWidth) ? this.borderWidth : [this.borderWidth, this.borderWidth]; // x,y border\n\n      var relBorder = border.map(function (b) {\n        return b * _this2.fontSize * 0.1;\n      }); // border in canvas units\n\n      var borderRadius = Array.isArray(this.borderRadius) ? this.borderRadius : [this.borderRadius, this.borderRadius, this.borderRadius, this.borderRadius]; // tl tr br bl corners\n\n      var relBorderRadius = borderRadius.map(function (b) {\n        return b * _this2.fontSize * 0.1;\n      }); // border radius in canvas units\n\n      var padding = Array.isArray(this.padding) ? this.padding : [this.padding, this.padding]; // x,y padding\n\n      var relPadding = padding.map(function (p) {\n        return p * _this2.fontSize * 0.1;\n      }); // padding in canvas units\n\n      var lines = this.text.split('\\n');\n      var font = \"\".concat(this.fontWeight, \" \").concat(this.fontSize, \"px \").concat(this.fontFace);\n      ctx.font = font; // measure canvas with appropriate font\n\n      var innerWidth = Math.max.apply(Math, _toConsumableArray(lines.map(function (line) {\n        return ctx.measureText(line).width;\n      })));\n      var innerHeight = this.fontSize * lines.length;\n      canvas.width = innerWidth + relBorder[0] * 2 + relPadding[0] * 2;\n      canvas.height = innerHeight + relBorder[1] * 2 + relPadding[1] * 2; // paint border\n\n      if (this.borderWidth) {\n        ctx.strokeStyle = this.borderColor;\n\n        if (relBorder[0]) {\n          // left + right borders\n          var hb = relBorder[0] / 2;\n          ctx.lineWidth = relBorder[0];\n          ctx.beginPath();\n          ctx.moveTo(hb, relBorderRadius[0]);\n          ctx.lineTo(hb, canvas.height - relBorderRadius[3]);\n          ctx.moveTo(canvas.width - hb, relBorderRadius[1]);\n          ctx.lineTo(canvas.width - hb, canvas.height - relBorderRadius[2]);\n          ctx.stroke();\n        }\n\n        if (relBorder[1]) {\n          // top + bottom borders\n          var _hb = relBorder[1] / 2;\n\n          ctx.lineWidth = relBorder[1];\n          ctx.beginPath();\n          ctx.moveTo(Math.max(relBorder[0], relBorderRadius[0]), _hb);\n          ctx.lineTo(canvas.width - Math.max(relBorder[0], relBorderRadius[1]), _hb);\n          ctx.moveTo(Math.max(relBorder[0], relBorderRadius[3]), canvas.height - _hb);\n          ctx.lineTo(canvas.width - Math.max(relBorder[0], relBorderRadius[2]), canvas.height - _hb);\n          ctx.stroke();\n        }\n\n        if (this.borderRadius) {\n          // strike rounded corners\n          var cornerWidth = Math.max.apply(Math, _toConsumableArray(relBorder));\n\n          var _hb2 = cornerWidth / 2;\n\n          ctx.lineWidth = cornerWidth;\n          ctx.beginPath();\n          [!!relBorderRadius[0] && [relBorderRadius[0], _hb2, _hb2, relBorderRadius[0]], !!relBorderRadius[1] && [canvas.width - relBorderRadius[1], canvas.width - _hb2, _hb2, relBorderRadius[1]], !!relBorderRadius[2] && [canvas.width - relBorderRadius[2], canvas.width - _hb2, canvas.height - _hb2, canvas.height - relBorderRadius[2]], !!relBorderRadius[3] && [relBorderRadius[3], _hb2, canvas.height - _hb2, canvas.height - relBorderRadius[3]]].filter(function (d) {\n            return d;\n          }).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 4),\n                x0 = _ref2[0],\n                x1 = _ref2[1],\n                y0 = _ref2[2],\n                y1 = _ref2[3];\n\n            ctx.moveTo(x0, y0);\n            ctx.quadraticCurveTo(x1, y0, x1, y1);\n          });\n          ctx.stroke();\n        }\n      } // paint background\n\n\n      if (this.backgroundColor) {\n        ctx.fillStyle = this.backgroundColor;\n\n        if (!this.borderRadius) {\n          ctx.fillRect(relBorder[0], relBorder[1], canvas.width - relBorder[0] * 2, canvas.height - relBorder[1] * 2);\n        } else {\n          // fill with rounded corners\n          ctx.beginPath();\n          ctx.moveTo(relBorder[0], relBorderRadius[0]);\n          [[relBorder[0], relBorderRadius[0], canvas.width - relBorderRadius[1], relBorder[1], relBorder[1], relBorder[1]], // t\n          [canvas.width - relBorder[0], canvas.width - relBorder[0], canvas.width - relBorder[0], relBorder[1], relBorderRadius[1], canvas.height - relBorderRadius[2]], // r\n          [canvas.width - relBorder[0], canvas.width - relBorderRadius[2], relBorderRadius[3], canvas.height - relBorder[1], canvas.height - relBorder[1], canvas.height - relBorder[1]], // b\n          [relBorder[0], relBorder[0], relBorder[0], canvas.height - relBorder[1], canvas.height - relBorderRadius[3], relBorderRadius[0]] // t\n          ].forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 6),\n                x0 = _ref4[0],\n                x1 = _ref4[1],\n                x2 = _ref4[2],\n                y0 = _ref4[3],\n                y1 = _ref4[4],\n                y2 = _ref4[5];\n\n            ctx.quadraticCurveTo(x0, y0, x1, y1);\n            ctx.lineTo(x2, y2);\n          });\n          ctx.closePath();\n          ctx.fill();\n        }\n      }\n\n      ctx.translate.apply(ctx, _toConsumableArray(relBorder));\n      ctx.translate.apply(ctx, _toConsumableArray(relPadding)); // paint text\n\n      ctx.font = font; // Set font again after canvas is resized, as context properties are reset\n\n      ctx.fillStyle = this.color;\n      ctx.textBaseline = 'bottom';\n      var drawTextStroke = this.strokeWidth > 0;\n\n      if (drawTextStroke) {\n        ctx.lineWidth = this.strokeWidth * this.fontSize / 10;\n        ctx.strokeStyle = this.strokeColor;\n      }\n\n      lines.forEach(function (line, index) {\n        var lineX = (innerWidth - ctx.measureText(line).width) / 2;\n        var lineY = (index + 1) * _this2.fontSize;\n        drawTextStroke && ctx.strokeText(line, lineX, lineY);\n        ctx.fillText(line, lineX, lineY);\n      }); // Inject canvas into sprite\n\n      this._texture.image = canvas;\n      this._texture.needsUpdate = true;\n      var yScale = this.textHeight * lines.length + border[1] * 2 + padding[1] * 2;\n      this.scale.set(yScale * canvas.width / canvas.height, yScale, 0);\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor(this.text, this.textHeight, this.color).copy(this);\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(source) {\n      three.Sprite.prototype.copy.call(this, source);\n      this.color = source.color;\n      this.backgroundColor = source.backgroundColor;\n      this.padding = source.padding;\n      this.borderWidth = source.borderWidth;\n      this.borderColor = source.borderColor;\n      this.fontFace = source.fontFace;\n      this.fontSize = source.fontSize;\n      this.fontWeight = source.fontWeight;\n      this.strokeWidth = source.strokeWidth;\n      this.strokeColor = source.strokeColor;\n      return this;\n    }\n  }]);\n\n  return _default;\n}(three.Sprite);\n\nexport { _default as default };\n","<template>\n  <div>\n    <Ui :Graph=\"Graph\" :nodes=\"nodes\" v-on:switch-brain=\"switchBrain\"/>\n    <div ref=\"graph\"></div>\n\n  </div>\n</template>\n\n<script>\n\n//https://github.com/vasturiano/3d-force-graph\nimport ForceGraph3D from '3d-force-graph';\nimport SpriteText from 'three-spritetext';\nimport * as THREE from \"three\";\nexport default {\n  name: \"Graph\",\n  props:['nodes', 'links'],\n  components: {\n    // 'ThreeScene': () => import('@/components/three/ThreeScene'),\n    'Ui': () => import('@/components/directed/Ui'),\n    // Hello\n    // HelloWorld\n  },\n  data(){\n    return{\n      Graph: null\n      // initData: {\n      //   nodes: [],// {id: \"https://spoggy-test13.solidcommunity.net/\", url: \"https://spoggy-test13.solidcommunity.net/\", name: \"ROOT\", color: \"#ff0000\" } ],\n      //   links: []\n      // }\n    }\n  },\n  mounted() {\n    // const N = 300;\n    // const gData = {\n    //   nodes: [...Array(N).keys()].map(i => ({ id: i })),\n    //   links: [...Array(N).keys()]\n    //   .filter(id => id)\n    //   .map(id => ({\n    //     source: id,\n    //     target: Math.round(Math.random() * (id-1))\n    //   }))\n    // };\n    let app = this\n    let elem = this.$refs.graph\n    this.Graph = ForceGraph3D()(elem)\n    // .enableNodeDrag(false)\n    // .onNodeClick(this.removeNode)\n    .graphData({nodes: this.nodes, links: this.links})\n    // .dagMode('td')\n    // .dagLevelDistance(100)\n    .nodeLabel('name')\n    .nodeId('url')\n    .nodeAutoColorBy('type')\n    .nodeThreeObject(({ url }) => {\n\n      if(url == undefined){\n        url = \"root\"\n      }\n      if (url.endsWith('.png') || url.endsWith('.jpg') || url.endsWith('.jpeg')){\n        const imgTexture = new THREE.TextureLoader().load(`${url}`);\n        const material = new THREE.SpriteMaterial({ map: imgTexture });\n        const sprite = new THREE.Sprite(material);\n        sprite.scale.set(12, 12);\n        return sprite;\n      }\n\n    })\n\n    .linkThreeObjectExtend(true)\n    .linkThreeObject(link => {\n      // extend link with text sprite\n      if(link.label != undefined){\n        const sprite = new SpriteText(`${link.label}`);\n        sprite.color = 'lightgrey';\n        sprite.textHeight = 1.5;\n        return sprite;\n      }\n    })\n    .linkDirectionalArrowLength(3.5)\n    .linkDirectionalArrowRelPos(1)\n    //  .linkCurvature(0.25)\n    .linkPositionUpdate((sprite, { start, end }) => {\n      if(sprite != undefined){\n        const middlePos = Object.assign(...['x', 'y', 'z'].map(c => ({\n          [c]: start[c] + (end[c] - start[c]) / 2 // calc middle point\n        })))\n\n\n\n        // Position sprite\n        Object.assign(sprite.position, middlePos);\n      }\n    })\n    .onNodeClick(node => {\n      // Aim at node from outside it\n      console.log(node)\n      app.$store.commit ('app/mustExplore', node.url)\n      const distance = 40;\n      const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);\n\n      this.Graph.cameraPosition(\n        { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position\n        node, // lookAt ({ x, y, z })\n        3000  // ms transition duration\n      );\n      app.$store.commit ('app/currentNode', node)\n    });\n\n    //  console.log(this.Graph)\n    //  console.log(this.Graph.graphData())\n\n    // setInterval(() => {\n    //   const { nodes, links } = this.Graph.graphData();\n    //   const id = nodes.length;\n    //   this.Graph.graphData({\n    //     nodes: [...nodes, { id }],\n    //     links: [...links, { source: id, target: Math.round(Math.random() * (id-1)) }]\n    //   });\n    // }, 1000);\n  },\n  methods:{\n    switchBrain(b){\n      console.log(\"switch\", b)\n      console.log(\"must save \", this.Graph.graphData())\n\n    },\n    update(){\n      this.Graph.graphData({\n        nodes: this.nodes,\n        //links: links\n        links: this.links //[...links/*, { source: \"https://spoggy-test13.solidcommunity.net/\", target: f.url }*/]\n      })\n    },\n\n  },\n  watch:{\n    nodes(){\n      //console.log(this.nodes)\n      this.update()\n    },\n    links(){\n      //console.log(this.links)\n      this.update()\n    }\n    // files(){\n    //   const { nodes, links } = this.Graph.graphData();\n    //   for (const f of this.files){\n    //     //  console.log(f)\n    //     //let n = {id: f.url}\n    //     //f.id = f.url\n    //     try{\n    //       this.Graph.graphData({\n    //         nodes: [...nodes, f],\n    //         links: [...links/*, { source: f.parent, target: f.url }*/]\n    //       });\n    //     }\n    //     catch(e){\n    //       console.log(e,f)\n    //     }\n    //   }\n    // },\n    // folders(){\n    //   const { nodes, links } = this.Graph.graphData();\n    //   for (const f of this.folders){\n    //     console.log(f)\n    //     // f.id = f.url\n    //     //  let parent = nodes.find(x=> x.id == f.parent)\n    //     //  console.log(\"parent\", parent)\n    //\n    //     // if (parent == undefined){\n    //     //   let parent = {id: f.parent, url : f.parent, name: f.parent}\n    //     //   console.log(parent)\n    //     //   this.Graph.graphData({\n    //     //     nodes: [...nodes, parent],\n    //     //  //   links: [...links, { /*source: parent.url, target: f.id*/ }]\n    //     //   });\n    //     // }\n    //     //let n = {id: f.url}\n    //     //  if(f.parent != undefined){\n    //\n    //     try{\n    //       this.Graph.graphData({\n    //         nodes: [...nodes, f],\n    //         //links: links\n    //         links: [...links/*, { source: \"https://spoggy-test13.solidcommunity.net/\", target: f.url }*/]\n    //       });\n    //       //}\n    //       console.log(nodes,links)\n    //     }\n    //     catch(e){\n    //       console.log(e,f)\n    //     }\n    //   }\n    // }\n  },\n\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=65f35bb4&\"\nimport script from \"./Graph.vue?vue&type=script&lang=js&\"\nexport * from \"./Graph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind');\nvar aConstructor = require('../internals/a-constructor');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\nvar ObjectPrototype = Object.prototype;\nvar push = [].push;\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\n\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\n\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aConstructor(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      apply(push, $args, args);\n      return new (apply(bind, Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : ObjectPrototype);\n    var result = apply(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\ncollection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar ARRAY_BUFFER_NON_EXTENSIBLE = require('../internals/array-buffer-non-extensible');\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar $isExtensible = Object.isExtensible;\nvar FAILS_ON_PRIMITIVES = fails(function () { $isExtensible(1); });\n\n// `Object.isExtensible` method\n// https://tc39.es/ecma262/#sec-object.isextensible\nmodule.exports = (FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE) ? function isExtensible(it) {\n  if (!isObject(it)) return false;\n  if (ARRAY_BUFFER_NON_EXTENSIBLE && classof(it) == 'ArrayBuffer') return false;\n  return $isExtensible ? $isExtensible(it) : true;\n} : $isExtensible;\n","module.exports = merge;\n\n/**\n * Augments `target` with properties in `options`. Does not override\n * target's properties if they are defined and matches expected type in \n * options\n *\n * @returns {Object} merged object\n */\nfunction merge(target, options) {\n  var key;\n  if (!target) { target = {}; }\n  if (options) {\n    for (key in options) {\n      if (options.hasOwnProperty(key)) {\n        var targetHasIt = target.hasOwnProperty(key),\n            optionsValueType = typeof options[key],\n            shouldReplace = !targetHasIt || (typeof target[key] !== optionsValueType);\n\n        if (shouldReplace) {\n          target[key] = options[key];\n        } else if (optionsValueType === 'object') {\n          // go deep, don't care about loops here, we are simple API!:\n          target[key] = merge(target[key], options[key]);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var Constructor = wrapper(function (that, iterable) {\n      anInstance(that, Prototype);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var Prototype = Constructor.prototype;\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(Prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(Prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(Prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return Constructor;\n  },\n  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        uncurriedNativeMethod(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        uncurriedNativeMethod(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.enable();\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, NativePrototype);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateDragForceFunction;\nmodule.exports.generateCreateDragForceFunctionBody = generateCreateDragForceFunctionBody;\n\nfunction generateCreateDragForceFunction(dimension) {\n  let code = generateCreateDragForceFunctionBody(dimension);\n  return new Function('options', code);\n}\n\nfunction generateCreateDragForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${pattern('body.force.{var} -= options.dragCoefficient * body.velocity.{var};', {indent: 6})}\n    }\n  };\n`;\n  return code;\n}\n","/**\n * Manages a simulation of physical forces acting on bodies and springs.\n */\nmodule.exports = createPhysicsSimulator;\n\nvar generateCreateBodyFunction = require('./codeGenerators/generateCreateBody');\nvar generateQuadTreeFunction = require('./codeGenerators/generateQuadTree');\nvar generateBoundsFunction = require('./codeGenerators/generateBounds');\nvar generateCreateDragForceFunction = require('./codeGenerators/generateCreateDragForce');\nvar generateCreateSpringForceFunction = require('./codeGenerators/generateCreateSpringForce');\nvar generateIntegratorFunction = require('./codeGenerators/generateIntegrator');\n\nvar dimensionalCache = {};\n\nfunction createPhysicsSimulator(settings) {\n  var Spring = require('./spring');\n  var merge = require('ngraph.merge');\n  var eventify = require('ngraph.events');\n  if (settings) {\n    // Check for names from older versions of the layout\n    if (settings.springCoeff !== undefined) throw new Error('springCoeff was renamed to springCoefficient');\n    if (settings.dragCoeff !== undefined) throw new Error('dragCoeff was renamed to dragCoefficient');\n  }\n\n  settings = merge(settings, {\n      /**\n       * Ideal length for links (springs in physical model).\n       */\n      springLength: 10,\n\n      /**\n       * Hook's law coefficient. 1 - solid spring.\n       */\n      springCoefficient: 0.8, \n\n      /**\n       * Coulomb's law coefficient. It's used to repel nodes thus should be negative\n       * if you make it positive nodes start attract each other :).\n       */\n      gravity: -12,\n\n      /**\n       * Theta coefficient from Barnes Hut simulation. Ranged between (0, 1).\n       * The closer it's to 1 the more nodes algorithm will have to go through.\n       * Setting it to one makes Barnes Hut simulation no different from\n       * brute-force forces calculation (each node is considered).\n       */\n      theta: 0.8,\n\n      /**\n       * Drag force coefficient. Used to slow down system, thus should be less than 1.\n       * The closer it is to 0 the less tight system will be.\n       */\n      dragCoefficient: 0.9, // TODO: Need to rename this to something better. E.g. `dragCoefficient`\n\n      /**\n       * Default time step (dt) for forces integration\n       */\n      timeStep : 0.5,\n\n      /**\n       * Adaptive time step uses average spring length to compute actual time step:\n       * See: https://twitter.com/anvaka/status/1293067160755957760\n       */\n      adaptiveTimeStepWeight: 0,\n\n      /**\n       * This parameter defines number of dimensions of the space where simulation\n       * is performed. \n       */\n      dimensions: 2,\n\n      /**\n       * In debug mode more checks are performed, this will help you catch errors\n       * quickly, however for production build it is recommended to turn off this flag\n       * to speed up computation.\n       */\n      debug: false\n  });\n\n  var factory = dimensionalCache[settings.dimensions];\n  if (!factory) {\n    var dimensions = settings.dimensions;\n    factory = {\n      Body: generateCreateBodyFunction(dimensions, settings.debug),\n      createQuadTree: generateQuadTreeFunction(dimensions),\n      createBounds: generateBoundsFunction(dimensions),\n      createDragForce: generateCreateDragForceFunction(dimensions),\n      createSpringForce: generateCreateSpringForceFunction(dimensions),\n      integrate: generateIntegratorFunction(dimensions),\n    };\n    dimensionalCache[dimensions] = factory;\n  }\n\n  var Body = factory.Body;\n  var createQuadTree = factory.createQuadTree;\n  var createBounds = factory.createBounds;\n  var createDragForce = factory.createDragForce;\n  var createSpringForce = factory.createSpringForce;\n  var integrate = factory.integrate;\n  var createBody = pos => new Body(pos);\n\n  var random = require('ngraph.random').random(42);\n  var bodies = []; // Bodies in this simulation.\n  var springs = []; // Springs in this simulation.\n\n  var quadTree = createQuadTree(settings, random);\n  var bounds = createBounds(bodies, settings, random);\n  var springForce = createSpringForce(settings, random);\n  var dragForce = createDragForce(settings);\n\n  var totalMovement = 0; // how much movement we made on last step\n  var forces = [];\n  var forceMap = new Map();\n  var iterationNumber = 0;\n \n  addForce('nbody', nbodyForce);\n  addForce('spring', updateSpringForce);\n\n  var publicApi = {\n    /**\n     * Array of bodies, registered with current simulator\n     *\n     * Note: To add new body, use addBody() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    bodies: bodies,\n  \n    quadTree: quadTree,\n\n    /**\n     * Array of springs, registered with current simulator\n     *\n     * Note: To add new spring, use addSpring() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    springs: springs,\n\n    /**\n     * Returns settings with which current simulator was initialized\n     */\n    settings: settings,\n\n    /**\n     * Adds a new force to simulation\n     */\n    addForce: addForce,\n    \n    /**\n     * Removes a force from the simulation.\n     */\n    removeForce: removeForce,\n\n    /**\n     * Returns a map of all registered forces.\n     */\n    getForces: getForces,\n\n    /**\n     * Performs one step of force simulation.\n     *\n     * @returns {boolean} true if system is considered stable; False otherwise.\n     */\n    step: function () {\n      for (var i = 0; i < forces.length; ++i) {\n        forces[i](iterationNumber);\n      }\n      var movement = integrate(bodies, settings.timeStep, settings.adaptiveTimeStepWeight);\n      iterationNumber += 1;\n      return movement;\n    },\n\n    /**\n     * Adds body to the system\n     *\n     * @param {ngraph.physics.primitives.Body} body physical body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBody: function (body) {\n      if (!body) {\n        throw new Error('Body is required');\n      }\n      bodies.push(body);\n\n      return body;\n    },\n\n    /**\n     * Adds body to the system at given position\n     *\n     * @param {Object} pos position of a body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBodyAt: function (pos) {\n      if (!pos) {\n        throw new Error('Body position is required');\n      }\n      var body = createBody(pos);\n      bodies.push(body);\n\n      return body;\n    },\n\n    /**\n     * Removes body from the system\n     *\n     * @param {ngraph.physics.primitives.Body} body to remove\n     *\n     * @returns {Boolean} true if body found and removed. falsy otherwise;\n     */\n    removeBody: function (body) {\n      if (!body) { return; }\n\n      var idx = bodies.indexOf(body);\n      if (idx < 0) { return; }\n\n      bodies.splice(idx, 1);\n      if (bodies.length === 0) {\n        bounds.reset();\n      }\n      return true;\n    },\n\n    /**\n     * Adds a spring to this simulation.\n     *\n     * @returns {Object} - a handle for a spring. If you want to later remove\n     * spring pass it to removeSpring() method.\n     */\n    addSpring: function (body1, body2, springLength, springCoefficient) {\n      if (!body1 || !body2) {\n        throw new Error('Cannot add null spring to force simulator');\n      }\n\n      if (typeof springLength !== 'number') {\n        springLength = -1; // assume global configuration\n      }\n\n      var spring = new Spring(body1, body2, springLength, springCoefficient >= 0 ? springCoefficient : -1);\n      springs.push(spring);\n\n      // TODO: could mark simulator as dirty.\n      return spring;\n    },\n\n    /**\n     * Returns amount of movement performed on last step() call\n     */\n    getTotalMovement: function () {\n      return totalMovement;\n    },\n\n    /**\n     * Removes spring from the system\n     *\n     * @param {Object} spring to remove. Spring is an object returned by addSpring\n     *\n     * @returns {Boolean} true if spring found and removed. falsy otherwise;\n     */\n    removeSpring: function (spring) {\n      if (!spring) { return; }\n      var idx = springs.indexOf(spring);\n      if (idx > -1) {\n        springs.splice(idx, 1);\n        return true;\n      }\n    },\n\n    getBestNewBodyPosition: function (neighbors) {\n      return bounds.getBestNewPosition(neighbors);\n    },\n\n    /**\n     * Returns bounding box which covers all bodies\n     */\n    getBBox: getBoundingBox, \n    getBoundingBox: getBoundingBox, \n\n    invalidateBBox: function () {\n      console.warn('invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call');\n    },\n\n    // TODO: Move the force specific stuff to force\n    gravity: function (value) {\n      if (value !== undefined) {\n        settings.gravity = value;\n        quadTree.options({gravity: value});\n        return this;\n      } else {\n        return settings.gravity;\n      }\n    },\n\n    theta: function (value) {\n      if (value !== undefined) {\n        settings.theta = value;\n        quadTree.options({theta: value});\n        return this;\n      } else {\n        return settings.theta;\n      }\n    },\n\n    /**\n     * Returns pseudo-random number generator instance.\n     */\n    random: random\n  };\n\n  // allow settings modification via public API:\n  expose(settings, publicApi);\n\n  eventify(publicApi);\n\n  return publicApi;\n\n  function getBoundingBox() {\n    bounds.update();\n    return bounds.box;\n  }\n\n  function addForce(forceName, forceFunction) {\n    if (forceMap.has(forceName)) throw new Error('Force ' + forceName + ' is already added');\n\n    forceMap.set(forceName, forceFunction);\n    forces.push(forceFunction);\n  }\n\n  function removeForce(forceName) {\n    var forceIndex = forces.indexOf(forceMap.get(forceName));\n    if (forceIndex < 0) return;\n    forces.splice(forceIndex, 1);\n    forceMap.delete(forceName);\n  }\n\n  function getForces() {\n    // TODO: Should I trust them or clone the forces?\n    return forceMap;\n  }\n\n  function nbodyForce(/* iterationUmber */) {\n    if (bodies.length === 0) return;\n\n    quadTree.insertBodies(bodies);\n    var i = bodies.length;\n    while (i--) {\n      var body = bodies[i];\n      if (!body.isPinned) {\n        body.reset();\n        quadTree.updateBodyForce(body);\n        dragForce.update(body);\n      }\n    }\n  }\n\n  function updateSpringForce() {\n    var i = springs.length;\n    while (i--) {\n      springForce.update(springs[i]);\n    }\n  }\n\n}\n\nfunction expose(settings, target) {\n  for (var key in settings) {\n    augment(settings, target, key);\n  }\n}\n\nfunction augment(source, target, key) {\n  if (!source.hasOwnProperty(key)) return;\n  if (typeof target[key] === 'function') {\n    // this accessor is already defined. Ignore it\n    return;\n  }\n  var sourceIsNumber = Number.isFinite(source[key]);\n\n  if (sourceIsNumber) {\n    target[key] = function (value) {\n      if (value !== undefined) {\n        if (!Number.isFinite(value)) throw new Error('Value of ' + key + ' should be a valid number.');\n        source[key] = value;\n        return target;\n      }\n      return source[key];\n    };\n  } else {\n    target[key] = function (value) {\n      if (value !== undefined) {\n        source[key] = value;\n        return target;\n      }\n      return source[key];\n    };\n  }\n}\n","const createPatternBuilder = require('./createPatternBuilder');\nconst getVariableName = require('./getVariableName');\n\nmodule.exports = generateQuadTreeFunction;\nmodule.exports.generateQuadTreeFunctionBody = generateQuadTreeFunctionBody;\n\n// These exports are for InlineTransform tool.\n// InlineTransform: getInsertStackCode\nmodule.exports.getInsertStackCode = getInsertStackCode;\n// InlineTransform: getQuadNodeCode\nmodule.exports.getQuadNodeCode = getQuadNodeCode;\n// InlineTransform: isSamePosition\nmodule.exports.isSamePosition = isSamePosition;\n// InlineTransform: getChildBodyCode\nmodule.exports.getChildBodyCode = getChildBodyCode;\n// InlineTransform: setChildBodyCode\nmodule.exports.setChildBodyCode = setChildBodyCode;\n\nfunction generateQuadTreeFunction(dimension) {\n  let code = generateQuadTreeFunctionBody(dimension);\n  return (new Function(code))();\n}\n\nfunction generateQuadTreeFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let quadCount = Math.pow(2, dimension);\n\n  let code = `\n${getInsertStackCode()}\n${getQuadNodeCode(dimension)}\n${isSamePosition(dimension)}\n${getChildBodyCode(dimension)}\n${setChildBodyCode(dimension)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${assignQuads('      node.')}\n      node.body = null;\n      node.mass = ${pattern('node.mass_{var} = ', {join: ''})}0;\n      ${pattern('node.min_{var} = node.max_{var} = ', {join: ''})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${pattern('var d{var};', {indent: 4})}\n    var r; \n    ${pattern('var f{var} = 0;', {indent: 4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${pattern('d{var} = body.pos.{var} - sourceBody.pos.{var};', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 10})}\n          r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${pattern('f{var} += v * d{var};', {indent: 8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${pattern('d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 10})}\n          r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n        }\n        // If s / r < , treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${getVariableName(0)} - node.min_${getVariableName(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${pattern('f{var} += v * d{var};', {indent: 10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${runRecursiveOnChildren()}\n        }\n      }\n    }\n\n    ${pattern('sourceBody.force.{var} += f{var};', {indent: 4})}\n  }\n\n  function insertBodies(bodies) {\n    ${pattern('var {var}min = Number.MAX_VALUE;', {indent: 4})}\n    ${pattern('var {var}max = Number.MIN_VALUE;', {indent: 4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${pattern('if (pos.{var} < {var}min) {var}min = pos.{var};', {indent: 6})}\n      ${pattern('if (pos.{var} > {var}max) {var}max = pos.{var};', {indent: 6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${pattern('if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;', {indent: 4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${pattern('root.min_{var} = {var}min;', {indent: 4})}\n    ${pattern('root.max_{var} = {var}min + maxSideLength;', {indent: 4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${pattern('var {var} = body.pos.{var};', {indent: 8})}\n        node.mass += body.mass;\n        ${pattern('node.mass_{var} += body.mass * {var};', {indent: 8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${pattern('var min_{var} = node.min_{var};', {indent: 8})}\n        ${pattern('var max_{var} = (min_{var} + node.max_{var}) / 2;', {indent: 8})}\n\n${assignInsertionQuadIndex(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${pattern('child.min_{var} = min_{var};', {indent: 10})}\n          ${pattern('child.max_{var} = max_{var};', {indent: 10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${pattern('var d{var} = (node.max_{var} - node.min_{var}) * offset;', {indent: 12})}\n\n            ${pattern('oldBody.pos.{var} = node.min_{var} + d{var};', {indent: 12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n`;\n  return code;\n\n\n  function assignInsertionQuadIndex(indentCount) {\n    let insertionCode = [];\n    let indent = Array(indentCount + 1).join(' ');\n    for (let i = 0; i < dimension; ++i) {\n      insertionCode.push(indent + `if (${getVariableName(i)} > max_${getVariableName(i)}) {`);\n      insertionCode.push(indent + `  quadIdx = quadIdx + ${Math.pow(2, i)};`);\n      insertionCode.push(indent + `  min_${getVariableName(i)} = max_${getVariableName(i)};`);\n      insertionCode.push(indent + `  max_${getVariableName(i)} = node.max_${getVariableName(i)};`);\n      insertionCode.push(indent + `}`);\n    }\n    return insertionCode.join('\\n');\n    // if (x > max_x) { // somewhere in the eastern part.\n    //   quadIdx = quadIdx + 1;\n    //   left = right;\n    //   right = node.right;\n    // }\n  }\n\n  function runRecursiveOnChildren() {\n    let indent = Array(11).join(' ');\n    let recursiveCode = [];\n    for (let i = 0; i < quadCount; ++i) {\n      recursiveCode.push(indent + `if (node.quad${i}) {`);\n      recursiveCode.push(indent + `  queue[pushIdx] = node.quad${i};`);\n      recursiveCode.push(indent + `  queueLength += 1;`);\n      recursiveCode.push(indent + `  pushIdx += 1;`);\n      recursiveCode.push(indent + `}`);\n    }\n    return recursiveCode.join('\\n');\n    // if (node.quad0) {\n    //   queue[pushIdx] = node.quad0;\n    //   queueLength += 1;\n    //   pushIdx += 1;\n    // }\n  }\n\n  function assignQuads(indent) {\n    // this.quad0 = null;\n    // this.quad1 = null;\n    // this.quad2 = null;\n    // this.quad3 = null;\n    let quads = [];\n    for (let i = 0; i < quadCount; ++i) {\n      quads.push(`${indent}quad${i} = null;`);\n    }\n    return quads.join('\\n');\n  }\n}\n\nfunction isSamePosition(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  return `\n  function isSamePosition(point1, point2) {\n    ${pattern('var d{var} = Math.abs(point1.{var} - point2.{var});', {indent: 2})}\n  \n    return ${pattern('d{var} < 1e-8', {join: ' && '})};\n  }  \n`;\n}\n\nfunction setChildBodyCode(dimension) {\n  var quadCount = Math.pow(2, dimension);\n  return `\nfunction setChild(node, idx, child) {\n  ${setChildBody()}\n}`;\n  function setChildBody() {\n    let childBody = [];\n    for (let i = 0; i < quadCount; ++i) {\n      let prefix = (i === 0) ? '  ' : '  else ';\n      childBody.push(`${prefix}if (idx === ${i}) node.quad${i} = child;`);\n    }\n\n    return childBody.join('\\n');\n    // if (idx === 0) node.quad0 = child;\n    // else if (idx === 1) node.quad1 = child;\n    // else if (idx === 2) node.quad2 = child;\n    // else if (idx === 3) node.quad3 = child;\n  }\n}\n\nfunction getChildBodyCode(dimension) {\n  return `function getChild(node, idx) {\n${getChildBody()}\n  return null;\n}`;\n\n  function getChildBody() {\n    let childBody = [];\n    let quadCount = Math.pow(2, dimension);\n    for (let i = 0; i < quadCount; ++i) {\n      childBody.push(`  if (idx === ${i}) return node.quad${i};`);\n    }\n\n    return childBody.join('\\n');\n    // if (idx === 0) return node.quad0;\n    // if (idx === 1) return node.quad1;\n    // if (idx === 2) return node.quad2;\n    // if (idx === 3) return node.quad3;\n  }\n}\n\nfunction getQuadNodeCode(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let quadCount = Math.pow(2, dimension);\n  var quadNodeCode = `\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${assignQuads('  this.')}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${pattern('this.mass_{var} = 0;', {indent: 2})}\n\n  // bounding box coordinates\n  ${pattern('this.min_{var} = 0;', {indent: 2})}\n  ${pattern('this.max_{var} = 0;', {indent: 2})}\n}\n`;\n  return quadNodeCode;\n\n  function assignQuads(indent) {\n    // this.quad0 = null;\n    // this.quad1 = null;\n    // this.quad2 = null;\n    // this.quad3 = null;\n    let quads = [];\n    for (let i = 0; i < quadCount; ++i) {\n      quads.push(`${indent}quad${i} = null;`);\n    }\n    return quads.join('\\n');\n  }\n}\n\nfunction getInsertStackCode() {\n  return `\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n`;\n}","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateSpringForceFunction;\nmodule.exports.generateCreateSpringForceFunctionBody = generateCreateSpringForceFunctionBody;\n\nfunction generateCreateSpringForceFunction(dimension) {\n  let code = generateCreateSpringForceFunctionBody(dimension);\n  return new Function('options', 'random', code);\n}\n\nfunction generateCreateSpringForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${pattern('var d{var} = body2.pos.{var} - body1.pos.{var};', {indent: 6})}\n      var r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n      if (r === 0) {\n        ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${pattern('body1.force.{var} += coefficient * d{var}', {indent: 6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${pattern('body2.force.{var} -= coefficient * d{var}', {indent: 6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;\n  return code;\n}\n","\nmodule.exports = generateBoundsFunction;\nmodule.exports.generateFunctionBody = generateBoundsFunctionBody;\n\nconst createPatternBuilder = require('./createPatternBuilder');\n\nfunction generateBoundsFunction(dimension) {\n  let code = generateBoundsFunctionBody(dimension);\n  return new Function('bodies', 'settings', 'random', code);\n}\n\nfunction generateBoundsFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n\n  let code = `\n  var boundingBox = {\n    ${pattern('min_{var}: 0, max_{var}: 0,', {indent: 4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${pattern('base_{var} = 0', {join: ', '})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${pattern('base_{var} += neighborPos.{var};', {indent: 10})}\n        }\n\n        ${pattern('base_{var} /= neighbors.length;', {indent: 8})}\n      } else {\n        ${pattern('base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;', {indent: 8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${pattern('{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,', {indent: 8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${pattern('var max_{var} = -Infinity;', {indent: 4})}\n    ${pattern('var min_{var} = Infinity;', {indent: 4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${pattern('if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};', {indent: 6})}\n      ${pattern('if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};', {indent: 6})}\n    }\n\n    ${pattern('boundingBox.min_{var} = min_{var};', {indent: 4})}\n    ${pattern('boundingBox.max_{var} = max_{var};', {indent: 4})}\n  }\n\n  function resetBoundingBox() {\n    ${pattern('boundingBox.min_{var} = boundingBox.max_{var} = 0;', {indent: 4})}\n  }\n`;\n  return code;\n}\n","// FF26- bug: ArrayBuffers are non-extensible, but Object.isExtensible does not report it\nvar fails = require('../internals/fails');\n\nmodule.exports = fails(function () {\n  if (typeof ArrayBuffer == 'function') {\n    var buffer = new ArrayBuffer(8);\n    // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe\n    if (Object.isExtensible(buffer)) Object.defineProperty(buffer, 'a', { value: 8 });\n  }\n});\n","module.exports = random;\n\n// TODO: Deprecate?\nmodule.exports.random = random,\nmodule.exports.randomIterator = randomIterator\n\n/**\n * Creates seeded PRNG with two methods:\n *   next() and nextDouble()\n */\nfunction random(inputSeed) {\n  var seed = typeof inputSeed === 'number' ? inputSeed : (+new Date());\n  return new Generator(seed)\n}\n\nfunction Generator(seed) {\n  this.seed = seed;\n}\n\n/**\n  * Generates random integer number in the range from 0 (inclusive) to maxValue (exclusive)\n  *\n  * @param maxValue Number REQUIRED. Omitting this number will result in NaN values from PRNG.\n  */\nGenerator.prototype.next = next;\n\n/**\n  * Generates random double number in the range from 0 (inclusive) to 1 (exclusive)\n  * This function is the same as Math.random() (except that it could be seeded)\n  */\nGenerator.prototype.nextDouble = nextDouble;\n\n/**\n * Returns a random real number from uniform distribution in [0, 1)\n */\nGenerator.prototype.uniform = nextDouble;\n\n/**\n * Returns a random real number from a Gaussian distribution\n * with 0 as a mean, and 1 as standard deviation u ~ N(0,1)\n */\nGenerator.prototype.gaussian = gaussian;\n\nfunction gaussian() {\n  // use the polar form of the Box-Muller transform\n  // based on https://introcs.cs.princeton.edu/java/23recursion/StdRandom.java\n  var r, x, y;\n  do {\n    x = this.nextDouble() * 2 - 1;\n    y = this.nextDouble() * 2 - 1;\n    r = x * x + y * y;\n  } while (r >= 1 || r === 0);\n\n  return x * Math.sqrt(-2 * Math.log(r)/r);\n}\n\n/**\n * See https://twitter.com/anvaka/status/1296182534150135808\n */\nGenerator.prototype.levy = levy;\n\nfunction levy() {\n  var beta = 3 / 2;\n  var sigma = Math.pow(\n      gamma( 1 + beta ) * Math.sin(Math.PI * beta / 2) / \n        (gamma((1 + beta) / 2) * beta * Math.pow(2, (beta - 1) / 2)),\n      1/beta\n  );\n  return this.gaussian() * sigma / Math.pow(Math.abs(this.gaussian()), 1/beta);\n}\n\n// gamma function approximation\nfunction gamma(z) {\n  return Math.sqrt(2 * Math.PI / z) * Math.pow((1 / Math.E) * (z + 1 / (12 * z - 1 / (10 * z))), z);\n}\n\nfunction nextDouble() {\n  var seed = this.seed;\n  // Robert Jenkins' 32 bit integer hash function.\n  seed = ((seed + 0x7ed55d16) + (seed << 12)) & 0xffffffff;\n  seed = ((seed ^ 0xc761c23c) ^ (seed >>> 19)) & 0xffffffff;\n  seed = ((seed + 0x165667b1) + (seed << 5)) & 0xffffffff;\n  seed = ((seed + 0xd3a2646c) ^ (seed << 9)) & 0xffffffff;\n  seed = ((seed + 0xfd7046c5) + (seed << 3)) & 0xffffffff;\n  seed = ((seed ^ 0xb55a4f09) ^ (seed >>> 16)) & 0xffffffff;\n  this.seed = seed;\n  return (seed & 0xfffffff) / 0x10000000;\n}\n\nfunction next(maxValue) {\n  return Math.floor(this.nextDouble() * maxValue);\n}\n\n/*\n * Creates iterator over array, which returns items of array in random order\n * Time complexity is guaranteed to be O(n);\n */\nfunction randomIterator(array, customRandom) {\n  var localRandom = customRandom || random();\n  if (typeof localRandom.next !== 'function') {\n    throw new Error('customRandom does not match expected API: next() function is missing');\n  }\n\n  return {\n    forEach: forEach,\n\n    /**\n     * Shuffles array randomly, in place.\n     */\n    shuffle: shuffle\n  };\n\n  function shuffle() {\n    var i, j, t;\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n    }\n\n    return array;\n  }\n\n  function forEach(callback) {\n    var i, j, t;\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n\n      callback(t);\n    }\n\n    if (array.length) {\n      callback(array[0]);\n    }\n  }\n}","module.exports = Spring;\n\n/**\n * Represents a physical spring. Spring connects two bodies, has rest length\n * stiffness coefficient and optional weight\n */\nfunction Spring(fromBody, toBody, length, springCoefficient) {\n    this.from = fromBody;\n    this.to = toBody;\n    this.length = length;\n    this.coefficient = springCoefficient;\n}\n","var $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternalModule = require('../internals/object-get-own-property-names-external');\nvar isExtensible = require('../internals/object-is-extensible');\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar REQUIRED = false;\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + id++, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!hasOwn(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!hasOwn(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar enable = function () {\n  meta.enable = function () { /* empty */ };\n  REQUIRED = true;\n  var getOwnPropertyNames = getOwnPropertyNamesModule.f;\n  var splice = uncurryThis([].splice);\n  var test = {};\n  test[METADATA] = 1;\n\n  // prevent exposing of metadata key\n  if (getOwnPropertyNames(test).length) {\n    getOwnPropertyNamesModule.f = function (it) {\n      var result = getOwnPropertyNames(it);\n      for (var i = 0, length = result.length; i < length; i++) {\n        if (result[i] === METADATA) {\n          splice(result, i, 1);\n          break;\n        }\n      } return result;\n    };\n\n    $({ target: 'Object', stat: true, forced: true }, {\n      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f\n    });\n  }\n};\n\nvar meta = module.exports = {\n  enable: enable,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n$({ global: true }, { Reflect: {} });\n\n// Reflect[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-reflect-@@tostringtag\nsetToStringTag(global.Reflect, 'Reflect', true);\n"],"sourceRoot":""}