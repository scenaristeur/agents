{"version":3,"file":"js/135.1c9af574.js","mappings":"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","sources":["webpack://agents/./src/components/GunTest.vue?985c","webpack://agents/src/components/GunTest.vue","webpack://agents/./src/components/GunTest.vue?5148","webpack://agents/./src/components/GunTest.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Gun test \"),_c('b-input',{attrs:{\"placeholder\":\"type a command and press enter\"},on:{\"change\":function($event){return _vm.command()}},model:{value:(_vm.command_input),callback:function ($$v) {_vm.command_input=$$v},expression:\"command_input\"}}),_c('h3',[_vm._v(\"Some possible commands\")]),_vm._m(0),_vm._v(\" Result : \"+_vm._s(_vm.last)+\" \"),_c('b-input',{model:{value:(_vm.newDo),callback:function ($$v) {_vm.newDo=$$v},expression:\"newDo\"}}),_c('b-button',{on:{\"click\":_vm.add}},[_vm._v(\"Add\")]),_c('ul',_vm._l((_vm.todos),function(node,key){return _c('li',{key:key},[_vm._v(\" \"+_vm._s(key)+\" : \"+_vm._s(node.title || node.GrosTitre))])}),0),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},on:{\"input\":_vm.updateText},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('GunSignin'),_c('GunLogin'),(_vm.gunUser!=undefined)?_c('div',[_vm._v(\" gunUser \"+_vm._s(_vm.gunUser.alias)+\" \")]):_vm._e(),_c('b-input',{model:{value:(_vm.speak_text),callback:function ($$v) {_vm.speak_text=$$v},expression:\"speak_text\"}}),_c('b-button',{on:{\"click\":_vm.speak}},[_vm._v(\"Speak\")]),_vm._v(\" causette : \"+_vm._s(_vm.causette)+\" \")],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"my.object.name = truc\")]),_c('li',[_vm._v(\"cat my.object.name\")]),_c('li',[_vm._v(\"my.object.test = {\\\"og\\\": \\\"gro\\\", \\\"trif\\\": \\\"gr\\\", \\\"gft\\\": 5}\")]),_c('li',[_vm._v(\"cat my.object.test.og\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    Gun test\n    <b-input @change=\"command()\" v-model=\"command_input\" placeholder=\"type a command and press enter\" />\n    <h3>Some possible commands</h3>\n    <ul>\n      <li>my.object.name = truc</li>\n      <li>cat my.object.name</li>\n      <li>my.object.test = {\"og\": \"gro\", \"trif\": \"gr\", \"gft\": 5}</li>\n      <li>cat my.object.test.og</li>\n    </ul>\n\n    Result : {{last}}\n\n    <b-input v-model=\"newDo\" />\n    <b-button @click=\"add\">Add</b-button>\n    <!-- todos : {{ todos }} -->\n    <ul>\n      <li v-for=\"(node, key) of todos\" :key=\"key\"> {{ key }} : {{node.title || node.GrosTitre}}</li>\n    </ul>\n\n    <b-form-textarea\n    id=\"textarea\"\n    v-model=\"text\"\n    placeholder=\"Enter something...\"\n    rows=\"3\"\n    max-rows=\"6\"\n    @input=\"updateText\"\n    ></b-form-textarea>\n    <GunSignin />\n    <GunLogin />\n    <div v-if=\"gunUser!=undefined\">\n      gunUser {{ gunUser.alias }}\n    </div>\n\n    <b-input v-model=\"speak_text\" /><b-button @click=\"speak\">Speak</b-button>\n    causette : {{ causette }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"GunTest\",\n  components: {\n    // 'ThreeScene': () => import('@/components/three/ThreeScene'),\n    'GunSignin': () => import('@/components/gun/GunSignin'),\n    'GunLogin': () => import('@/components/gun/GunLogin'),\n    // Hello\n    // HelloWorld\n  },\n  data(){\n    return{\n      todos : {},\n      newDo: \"\",\n      command_input: \"\",\n      last: {key: \"\", value: \"\"},\n      text: \"\",\n      speak_text: \"\",\n      causette : []\n    }\n  },\n  mounted: function() {\n    //  let app = this\n    var newline = String.fromCharCode(13, 10);\n    // this.todos = this.$gun.get('todos')\n    this.$gun.get('RaN5Dom_todos').map().on((node, key) => {\n\n      // add results straight to the Vue component state\n      // and get updates when nodes are updated by GUN\n      this.todos[key] = node;\n      //  console.log(this.todos)\n    });\n\n    let rootBrain = {name: 'RaN5Dom_neurones'}\n    this.$gunGet(rootBrain)\n\n    this.$gun.get('RaN5Dom_text').once((node) => { // Retrieve the text value on startup\n      //console.log(node)\n      if (node != undefined){\n        this.text = node.text.replaceAll('\\\\n', newline);\n      }\n\n      // if(node == undefined) {\n      //   this.$gun.get('text').put({text: \"Write the text here\"})\n      // } else {\n      //   console.log(\"Found Node\")\n      //   app.text = node.text\n      // }\n    })\n\n    this.$gun.get('RaN5Dom_text').on((node) => { // Is called whenever text is updated\n      console.log(\"Receiving Update\")\n      console.log(node)\n\n      this.text = node.text.replaceAll('\\\\n', newline);\n    })\n\n    this.$gun.on('auth', function(u){\n      console.log(\"auth\", u)\n      //  app.updateSay()\n      // this.gunUser.get('said').map().once((say =>\n      //   console.log(say)\n      // )\n\n      //  );\n    });\n\n  },\n  methods:{\n    speak(){\n      console.log(\"speak_text\", this.speak_text)\n      if(this.gunUser == undefined){\n\n        alert (\"you should 'Gun Login' to speak! \")\n        return }\n        this.$gun.user().get('said').set(this.speak_text);\n        this.speak_text = \"\"\n      },\n      add(){\n        //  console.log(this.newDo)\n        this.$gun.get('RaN5Dom_todos').set({GrosTitre: this.newDo})\n        this.newDo = \"\"\n      },\n      command(){\n        let command = {}\n        command.fullCommand = this.command_input.trim()\n        command.commandArray = command.fullCommand.split(\" \")\n        command.first = command.commandArray[0]\n        console.log(\"command\", command)\n        if(command.commandArray[1] == '='){\n          this.set(command)\n        }\n        if(command.commandArray[0] == 'cat'){\n          this.cat(command)\n        }\n        this.command_input = \"\"\n      },\n\n\n      cat(command){\n        let app = this\n        let object = command.commandArray[1]\n\n        console.log(\"lecture de \", object )\n        let path = object.split('.')\n        let currentNode = undefined\n        for (const p of path){\n          console.log(p)\n          currentNode = currentNode == undefined ?  this.$gun.get(p) : currentNode.get(p)\n          console.log(\"current\",currentNode)\n        }\n        currentNode.once(function(data, key){\n          console.log( key, data);\n          console.log('the value is', data)\n          app.last.key = key,\n          app.last.value = data\n        });\n\n      },\n\n      set(command/*, overwrite = true*/){\n        let object = command.commandArray[0]\n        // remove object & equal sign\n        command.commandArray.splice(0, 2)\n        let value = command.commandArray.join(' ')\n        console.log(\"affectation de \", value , \"dans\", object )\n        let path = object.split('.')\n        let currentNode = undefined\n        for (const p of path){\n          console.log(p)\n          currentNode = currentNode == undefined ?  this.$gun.get(p) : currentNode.get(p)\n          console.log(\"current\",currentNode)\n        }\n        currentNode.once(function(data, key){\n          console.log( key, data);\n          console.log('the value is', data)\n        });\n\n        try {\n          value = JSON.parse(value)\n        }catch(e){\n          console.log(e)\n        }\n        finally{\n          currentNode.put(value);\n        }\n\n\n\n      },\n      updateText(){\n        console.log(\"Updating Text\", this.text)\n        this.$gun.get('RaN5Dom_text').put({text: this.text}) // Edit the value in our db\n      },\n      updateSay(){\n        let app = this\n        this.causette = []\n        this.$gun.user().get('said').map().once(say => {\n          console.log(\"SAY\", say)\n          app.causette.push(say)\n        }\n      )\n    }\n  },\n  watch:{\n    gunUser(){\n      console.log(\"gunUser\",this.gunUser)\n      if (this.gunUser != undefined){\n        this.updateSay()\n      }\n\n    }\n  },\n  computed:{\n    gunUser:{\n      get () { return this.$store.state.gun.gunUser },\n      set (/*value*/) { /*this.updateTodo(value)*/ }\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GunTest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GunTest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GunTest.vue?vue&type=template&id=66ebfa54&\"\nimport script from \"./GunTest.vue?vue&type=script&lang=js&\"\nexport * from \"./GunTest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","on","$event","command","model","value","callback","$$v","command_input","expression","_m","_s","last","newDo","add","_l","node","key","title","GrosTitre","updateText","text","undefined","gunUser","alias","_e","speak_text","speak","causette","staticRenderFns","name","components","data","todos","mounted","newline","String","fromCharCode","$gun","get","map","rootBrain","$gunGet","once","replaceAll","console","log","u","methods","alert","cat","currentNode","app","set","watch","updateSay","computed","component"],"sourceRoot":""}