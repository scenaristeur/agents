"use strict";(self["webpackChunkagents"]=self["webpackChunkagents"]||[]).push([[761],{6761:function(e,t,i){i.r(t),i.d(t,{default:function(){return h}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{ref:"guiDiv",staticStyle:{position:"absolute",top:"500",left:"200","z-index":"2"}}),i("div",{ref:"guiProps",staticStyle:{position:"absolute",top:"200",left:"100","z-index":"2"}}),i("b-modal",{attrs:{id:"modal-field",title:"New Field"},on:{ok:e.addField}},[null!=e.field?i("b-form-input",{attrs:{placeholder:"new property / link"},model:{value:e.field.name,callback:function(t){e.$set(e.field,"name",t)},expression:"field.name"}}):e._e()],1),i("b-modal",{attrs:{id:"modal-brain",title:"Brain"}},[e._v(" Current World : "+e._s(e.world)+" "),i("b-form-input",{attrs:{placeholder:"Enter the brain name"},model:{value:e.brainName,callback:function(t){e.brainName=t},expression:"brainName"}}),i("b-form-group",{attrs:{label:"New Brain privacy"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[i("b-form-radio",{attrs:{"aria-describedby":r,name:"privacy",value:"public"},model:{value:e.privacy,callback:function(t){e.privacy=t},expression:"privacy"}},[e._v("Public")]),i("b-form-radio",{attrs:{"aria-describedby":r,name:"privacy",value:"user"},model:{value:e.privacy,callback:function(t){e.privacy=t},expression:"privacy"}},[e._v("User")])]}}])}),i("b-button",{attrs:{variant:"primary"},on:{click:e.newBrain}},[e._v("New Brain")]),i("b-list-group",{staticStyle:{height:"200px","overflow-y":"scroll"}},e._l(e.brains,(function(t){return i("b-list-group-item",{key:t.id,attrs:{button:""},on:{click:function(i){return e.switchBrain(t)}}},[e._v(" "+e._s(t.name)+" ")])})),1),e._v(" brains "+e._s(e.brains)+" ")],1),i("b-modal",{attrs:{id:"modal-properties",title:"Properties"}}),i("b-modal",{attrs:{id:"modal-links",title:"Links"}})],1)},s=[],o=i(4376),n=i(9477),a=i(7197),d={name:"Ui",props:["Graph","nodes"],data(){return{brain:null,brainName:"",field:null,clearing:!1,fieldType:"text",show:!1,currentProp:{},newValue:null,link:{},permissions:null,privacy:"public"}},mounted(){let e=this.$refs.guiDiv;this.gui=new o.GUI({autoPlace:!1}),e.appendChild(this.gui.domElement),this.buildGuiTools()},methods:{updateNodeFolder(){null!=this.nodeFolder&&this.gui.removeFolder(this.nodeFolder);var e={openProperties:this.openProperties,openLinks:this.openLinks};this.nodeFolder=this.gui.addFolder("Node"),console.log(this.currentNode),void 0==this.currentNode.age&&(this.currentNode.age=0),void 0==this.currentNode.privacy&&(this.currentNode.privacy=""),this.nodeFolder.add(this.currentNode,"name"),this.nodeFolder.add(this.currentNode,"age"),this.nodeFolder.add(this.currentNode,"privacy"),void 0!=this.currentNode.created&&this.nodeFolder.add(this.currentNode,"created"),this.nodeFolder.add(e,"openProperties").name("Properties"),this.nodeFolder.add(e,"openLinks").name("Links");let t=this;if(void 0!=this.currentNode.color){var i=this.nodeFolder.addColor(this.currentNode,"color").name("Color").listen();i.onChange((function(e){console.log("must update color value",e),t.currentNode.color=e.replace("#","0x")}))}this.nodeFolder.add(this.currentNode,"privacy"),this.nodeFolder.open()},addValue(){console.log("new value")},buildGuiNode(){var e={message:"props menu",messageLink:"Link menu",speed:.8};this.nodeFolder=this.gui.addFolder("Node");const t=this.nodeFolder.addFolder("Props"),i=this.nodeFolder.addFolder("Links");t.add(e,"message"),i.add(e,"messageLink");const r=t.addFolder("sub");r.add(e,"speed",-5,5)},buildGuiTools(){var e={openBrains:this.openBrains,newNeurone:this.newNeurone,resetCamera:this.resetCamera};const t=this.gui.addFolder("Tools");t.add(e,"openBrains").name("Brains"),t.add(e,"newNeurone").name("New neurone"),t.add(e,"resetCamera").name("Reset camera"),t.open(),this.gui.open()},buildGuiTest(){const e=new n.DvJ,t=new n.vBJ({color:65280,wireframe:!0}),i=new n.Kj0(e,t);this.Graph.scene().add(i);var r={message:"dat.gui",speed:.8,displayOutline:!1,color:"#ff0000"};const s=this.gui.addFolder("Test");s.add(i.rotation,"x",0,2*Math.PI),s.add(i.rotation,"y",0,2*Math.PI),s.add(i.rotation,"z",0,2*Math.PI),s.add(r,"message"),s.add(r,"speed",-5,5),s.add(r,"displayOutline");var o=s.addColor(r,"color").name("Color").listen();o.onChange((function(e){i.material.color.setHex(e.replace("#","0x"))}))},openProperties(){this.$bvModal.show("modal-properties")},openLinks(){this.$bvModal.show("modal-links")},newProperty(){console.log("newProperty"),this.field={name:"",category:"ve:properties"},this.$bvModal.show("modal-field")},addField(){if(console.log(this.field),0==this.clearing){let t={name:this.field.name,values:[]};void 0==this.currentNode[this.field.category]&&(this.currentNode[this.field.category]=[]);var e=this.currentNode[this.field.category].findIndex((e=>e.name==t.name));-1===e?this.currentNode[this.field.category].push(t):alert(t.name+" already exist")}console.log(this.currentNode),this.updateNodeFolder()},newLink(){console.log("newLink"),this.field={name:"",category:"links"},this.$bvModal.show("modal-field")},openBrains(){this.$bvModal.show("modal-brain")},newBrain(){this.brain=new a.am({name:this.brainName,world:this.world,privacy:this.privacy}),this.$createBrain(this.brain),this.brainName=""},switchBrain(e){console.log(e),this.$gunGet(e),this.$emit("switch-brain",e)},newNeurone(){console.log("newNeurone");let e=new a.GI({name:"name for graph_"+this.nodes.length,age:0,type:"neurone"});console.log("neurone ",e),this.nodes.push(e),console.log("should make a node autofocus")},resetCamera(){this.Graph.cameraPosition({x:0,y:0,z:40},3e3)},randomColor(){let e="#";for(let t=0;t<6;t++){const t=Math.random(),i=16*t|0;e+=i.toString(16)}return e}},watch:{currentNode(){console.log(this.currentNode),this.updateNodeFolder(this.currentNode)},world(){"gun"==this.world&&this.$bvModal.show("modal-brain")},brains(){console.log("must update",this.brains)}},computed:{currentNode:{get(){return this.$store.state.app.currentNode},set(){}},brains:{get(){return this.$store.state.app.brains},set(){}},world:{get(){return this.$store.state.app.world},set(){}}}},l=d,c=i(1001),u=(0,c.Z)(l,r,s,!1,null,null,null),h=u.exports},7197:function(e,t,i){i.d(t,{am:function(){return n},mY:function(){return d},GI:function(){return a}});var r=i(2045),s={"@context":{as:"https://www.w3.org/ns/activitystreams#",ve:"https://scenaristeur.github.io/verse#",id:"@id",type:"@type",name:"ve:name",age:"ve:age",url:"ve:url",privacy:"ve:privacy",properties:"ve:properties",links:"ve:links",synapses:"ve:synapses",created:"ve:created",updated:"ve:updated",synchronized:"ve:synchronized"},id:null,name:"",age:0,url:"",privacy:"private",type:null,properties:[],links:[],synapses:[],created:null,updated:null,synchronized:null};class o{constructor(e={}){Object.assign(this,s),this.id=(0,r.Z)(),this["type"]="base",this["created"]=Date.now(),Object.assign(this,e)}debug(){console.log(this)}}class n extends o{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="brain")}}class a extends o{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="neurone")}}class d extends o{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="command"),this.init(e.inputValue)}init(e){if(this.isValidUrl(e))this.type="url",this.value=e,this.isFile=this.isFile(e);else{let t=e.charAt(0),i="";switch(t){case"/":this.type="commande",this.value=e,this.inputNew="";break;case".":i=this.commandHistory[this.commandHistory.length-1],this.inputNew=i.s+" "+i.p+" "+i.o;break;case";":i=this.commandHistory[this.commandHistory.length-1],this.inputNew=i.s+" "+i.p+" ";break;case",":i=this.commandHistory[this.commandHistory.length-1],this.inputNew=i.s+" ";break;default:this.traiteTriplet(e)}}return this}traiteTriplet(e){var t={},i="";let r=e.slice(-1),s=e.slice(0,-1).split(" "),o=!0,n="",a=[];switch(s.forEach((function(e){e=e.trim(),e.startsWith('"')?(n="debut",a.push(e.substr(1))):e.endsWith('"')?(n="fin",a.push(a.pop()+" "+e.slice(0,-1))):"debut"==n?a.push(a.pop()+" "+e):a.push(e)})),a.length>0&&(s=a),r){case".":i="";break;case";":i=s[0].indexOf(" ")>-1?'"'+s[0]+'" ':s[0]+" ";break;case",":i=s[0].indexOf(" ")>-1?'"'+s[0]+'" ':s[0]+" ",s[1].indexOf(" ")>-1?i+='"'+s[1]+'" ':i+=s[1]+" ";break;case"-":i=s[2].indexOf(" ")>-1?'"'+s[2]+'" ':s[2]+" ";break;default:console.log("message to chat "+e),i="",o=!1}if(o){t.type="triplet";var d={};d.subject=s[0],d.predicate=s[1],d.object=s[2],t.value=d,t.inputNew=i}else t.type="message",t.value=e,t.inputNew=i;Object.assign(this,t)}isValidUrl(e){try{return new URL(e),!0}catch(t){return!1}}isFile(e){return e.split("/").pop().indexOf(".")>-1}}}}]);
//# sourceMappingURL=761.5327e425.js.map