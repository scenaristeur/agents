(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-078771f8"],{"0cb2":function(e,t,n){var r=n("e330"),i=n("7b0b"),o=Math.floor,a=r("".charAt),s=r("".replace),d=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,c,h){var p=n+e.length,f=r.length,v=u;return void 0!==c&&(c=i(c),v=l),s(h,v,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return d(t,0,n);case"'":return d(t,p);case"<":l=c[d(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>f){var h=o(u/10);return 0===h?i:h<=f?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}l=r[u-1]}return void 0===l?"":l}))}},1234:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Brain",(function(){return b})),n.d(t,"Neurone",(function(){return g})),n.d(t,"Graph",(function(){return y})),n.d(t,"Command",(function(){return w}));var i=new Uint8Array(16);function o(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(e){return"string"===typeof e&&a.test(e)}for(var d=s,l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!d(n))throw TypeError("Stringified UUID is invalid");return n}var h=c;function p(e,t,n){e=e||{};var r=e.random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return h(r)}var f=p,v={"@context":{as:"https://www.w3.org/ns/activitystreams#",ve:"https://scenaristeur.github.io/verse#",id:"@id",type:"@type",name:"ve:name",age:"ve:age",url:"ve:url",privacy:"ve:privacy",type:"ve:type",properties:"ve:properties",links:"ve:links",synapses:"ve:synapses",created:"ve:created",updated:"ve:updated",synchronized:"ve:synchronized"},id:null,name:"",age:0,url:"",privacy:"private",type:null,properties:[],links:[],synapses:[],created:null,updated:null,synchronized:null};class m{constructor(e={}){Object.assign(this,v),this.id=f(),this["type"]="base",this["created"]=Date.now(),Object.assign(this,e)}debug(){console.log(this)}}class g extends m{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="neurone")}}class b extends m{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="brain")}}class y extends m{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="graph")}}class w extends m{constructor(e={}){super(e),void 0==e["type"]&&(this["type"]="command"),this.init(e.inputValue)}init(e){if(this.isValidUrl(e))this.type="url",this.value=e,this.isFile=this.isFile(e);else{let t=e.charAt(0),n="";switch(t){case"/":this.type="commande",this.value=e,this.inputNew="";break;case".":n=this.commandHistory[this.commandHistory.length-1],this.inputNew=n.s+" "+n.p+" "+n.o;break;case";":n=this.commandHistory[this.commandHistory.length-1],this.inputNew=n.s+" "+n.p+" ";break;case",":n=this.commandHistory[this.commandHistory.length-1],this.inputNew=n.s+" ";break;default:this.traiteTriplet(e)}}return this}traiteTriplet(e){var t={},n="";let r=e.slice(-1),i=e.slice(0,-1).split(" "),o=!0,a="",s=[];switch(i.forEach((function(e){e=e.trim(),e.startsWith('"')?(a="debut",s.push(e.substr(1))):e.endsWith('"')?(a="fin",s.push(s.pop()+" "+e.slice(0,-1))):"debut"==a?s.push(s.pop()+" "+e):s.push(e)})),s.length>0&&(i=s),r){case".":n="";break;case";":n=i[0].indexOf(" ")>-1?'"'+i[0]+'" ':i[0]+" ";break;case",":n=i[0].indexOf(" ")>-1?'"'+i[0]+'" ':i[0]+" ",i[1].indexOf(" ")>-1?n+='"'+i[1]+'" ':n+=i[1]+" ";break;case"-":n=i[2].indexOf(" ")>-1?'"'+i[2]+'" ':i[2]+" ";break;default:console.log("message to chat "+e),n="",o=!1}if(o){t.type="triplet";var d={};d.subject=i[0],d.predicate=i[1],d.object=i[2],t.value=d,t.inputNew=n}else t.type="message",t.value=e,t.inputNew=n;Object.assign(this,t)}isValidUrl(e){try{return new URL(e),!0}catch(t){return!1}}isFile(e){return e.split("/").pop().indexOf(".")>-1}}},5319:function(e,t,n){"use strict";var r=n("2ba4"),i=n("c65b"),o=n("e330"),a=n("d784"),s=n("d039"),d=n("825a"),l=n("1626"),u=n("5926"),c=n("50c4"),h=n("577e"),p=n("1d80"),f=n("8aa5"),v=n("dc4a"),m=n("0cb2"),g=n("14c3"),b=n("b622"),y=b("replace"),w=Math.max,N=Math.min,k=o([].concat),x=o([].push),F=o("".indexOf),$=o("".slice),C=function(e){return void 0===e?e:String(e)},P=function(){return"$0"==="a".replace(/./,"$0")}(),B=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),L=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,n){var o=B?"$":"$0";return[function(e,n){var r=p(this),o=void 0==e?void 0:v(e,y);return o?i(o,e,r,n):i(t,h(r),e,n)},function(e,i){var a=d(this),s=h(e);if("string"==typeof i&&-1===F(i,o)&&-1===F(i,"$<")){var p=n(t,a,s,i);if(p.done)return p.value}var v=l(i);v||(i=h(i));var b=a.global;if(b){var y=a.unicode;a.lastIndex=0}var P=[];while(1){var B=g(a,s);if(null===B)break;if(x(P,B),!b)break;var L=h(B[0]);""===L&&(a.lastIndex=f(s,c(a.lastIndex),y))}for(var M="",O=0,G=0;G<P.length;G++){B=P[G];for(var V=h(B[0]),I=w(N(u(B.index),s.length),0),T=[],S=1;S<B.length;S++)x(T,C(B[S]));var U=B.groups;if(v){var _=k([V],T,I,s);void 0!==U&&x(_,U);var j=h(r(i,void 0,_))}else j=m(V,s,I,T,U,i);I>=O&&(M+=$(s,O,I)+j,O=I+V.length)}return M+$(s,O)}]}),!L||!P||B)},7997:function(e,t,n){e.exports=n("1234")},ef88:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"guiDiv",staticStyle:{position:"absolute",top:"500",left:"200","z-index":"2"}}),n("div",{ref:"guiProps",staticStyle:{position:"absolute",top:"200",left:"100","z-index":"2"}}),n("b-modal",{attrs:{id:"modal-field",title:"New Field"},on:{ok:e.addField}},[null!=e.field?n("b-form-input",{attrs:{placeholder:"new property / link"},model:{value:e.field.name,callback:function(t){e.$set(e.field,"name",t)},expression:"field.name"}}):e._e()],1),n("b-modal",{attrs:{id:"modal-brain",title:"Brain"}},[n("b-form-input",{attrs:{placeholder:"Enter the brain name"},model:{value:e.brainName,callback:function(t){e.brainName=t},expression:"brainName"}}),n("b-button",{attrs:{variant:"primary"},on:{click:e.newBrain}},[e._v("New Brain")]),n("b-list-group",{staticStyle:{height:"200px","overflow-y":"scroll"}},e._l(e.brains,(function(t){return n("b-list-group-item",{key:t.id,attrs:{button:""},on:{click:function(n){return e.switchBrain(t)}}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)},i=[],o=(n("b0c0"),n("ac1f"),n("5319"),n("c740"),n("d3b7"),n("25f0"),n("8992")),a=n("5a89"),s=n("7997"),d={name:"Ui",props:["Graph","nodes"],data:function(){return{brain:null,brains:[],brainName:"",field:null,clearing:!1,fieldType:"text",show:!1,currentProp:{},newValue:null,link:{},permissions:null}},mounted:function(){var e=this.$refs.guiDiv;this.gui=new o["GUI"]({autoPlace:!1}),e.appendChild(this.gui.domElement),this.buildGuiTools()},methods:{updateNodeFolder:function(){null!=this.nodeFolder&&this.gui.removeFolder(this.nodeFolder);var e={openProperties:this.openProperties,openLinks:this.openLinks};this.nodeFolder=this.gui.addFolder("Node"),console.log(this.currentNode),void 0==this.currentNode.age&&(this.currentNode.age=0),void 0==this.currentNode.privacy&&(this.currentNode.privacy=""),this.nodeFolder.add(this.currentNode,"name"),this.nodeFolder.add(this.currentNode,"age"),this.nodeFolder.add(this.currentNode,"privacy"),void 0!=this.currentNode.created&&this.nodeFolder.add(this.currentNode,"created"),this.nodeFolder.add(e,"openProperties").name("Properties"),this.nodeFolder.add(e,"openLinks").name("Links");var t=this,n=this.nodeFolder.addColor(this.currentNode,"color").name("Color").listen();n.onChange((function(e){console.log("must update color value",e),t.currentNode.color=e.replace("#","0x")})),this.nodeFolder.add(this.currentNode,"privacy"),this.nodeFolder.open()},addValue:function(){console.log("new value")},buildGuiNode:function(){var e={message:"props menu",messageLink:"Link menu",speed:.8};this.nodeFolder=this.gui.addFolder("Node");var t=this.nodeFolder.addFolder("Props"),n=this.nodeFolder.addFolder("Links");t.add(e,"message"),n.add(e,"messageLink");var r=t.addFolder("sub");r.add(e,"speed",-5,5)},buildGuiTools:function(){var e={openBrains:this.openBrains,newNeurone:this.newNeurone,resetCamera:this.resetCamera},t=this.gui.addFolder("Tools");t.add(e,"openBrains").name("Brains"),t.add(e,"newNeurone").name("New neurone"),t.add(e,"resetCamera").name("Reset camera"),t.open(),this.gui.open()},buildGuiTest:function(){var e=new a["BoxGeometry"],t=new a["MeshBasicMaterial"]({color:65280,wireframe:!0}),n=new a["Mesh"](e,t);this.Graph.scene().add(n);var r={message:"dat.gui",speed:.8,displayOutline:!1,color:"#ff0000"},i=this.gui.addFolder("Test");i.add(n.rotation,"x",0,2*Math.PI),i.add(n.rotation,"y",0,2*Math.PI),i.add(n.rotation,"z",0,2*Math.PI),i.add(r,"message"),i.add(r,"speed",-5,5),i.add(r,"displayOutline");var o=i.addColor(r,"color").name("Color").listen();o.onChange((function(e){n.material.color.setHex(e.replace("#","0x"))}))},openProperties:function(){alert("Properties")},openLinks:function(){console.log("open links")},newProperty:function(){console.log("newProperty"),this.field={name:"",category:"ve:properties"},this.$bvModal.show("modal-field")},addField:function(){if(console.log(this.field),0==this.clearing){var e={name:this.field.name,values:[]};void 0==this.currentNode[this.field.category]&&(this.currentNode[this.field.category]=[]);var t=this.currentNode[this.field.category].findIndex((function(t){return t.name==e.name}));-1===t?this.currentNode[this.field.category].push(e):alert(e.name+" already exist")}console.log(this.currentNode),this.updateNodeFolder()},newLink:function(){console.log("newLink"),this.field={name:"",category:"links"},this.$bvModal.show("modal-field")},openBrains:function(){this.$bvModal.show("modal-brain")},newBrain:function(){this.brain=new s["Brain"]({name:this.brainName}),console.log(this.brain),this.brains.push(this.brain),this.brainName=""},switchBrain:function(e){console.log(e),this.$emit("switch-brain",e)},newNeurone:function(){console.log("newNeurone");var e=new s["Neurone"]({blip:"blop",color:this.randomColor(),name:"name for graph_"+this.nodes.length,age:0});console.log("neurone ",e),this.nodes.push(e),console.log("should make a node autofocus")},resetCamera:function(){this.Graph.cameraPosition({x:0,y:0,z:40},3e3)},randomColor:function(){for(var e="#",t=0;t<6;t++){var n=Math.random(),r=16*n|0;e+=r.toString(16)}return e}},watch:{currentNode:function(){console.log(this.currentNode),this.updateNodeFolder(this.currentNode)}},computed:{currentNode:{get:function(){return this.$store.state.app.currentNode},set:function(){}}}},l=d,u=n("2877"),c=Object(u["a"])(l,r,i,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-078771f8.d5ece6c0.js.map