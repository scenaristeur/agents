(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dc553a7"],{"498a":function(e,n,t){"use strict";var r=t("23e7"),o=t("58a8").trim,s=t("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return o(this)}})},"4de4":function(e,n,t){"use strict";var r=t("23e7"),o=t("b727").filter,s=t("1dde"),a=s("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,n,t){var r=t("e330"),o=t("1d80"),s=t("577e"),a=t("5899"),u=r("".replace),i="["+a+"]",c=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),d=function(e){return function(n){var t=s(o(n));return 1&e&&(t=u(t,c,"")),2&e&&(t=u(t,l,"")),t}};e.exports={start:d(1),end:d(2),trim:d(3)}},"7aab":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.paths.length>0?t("div",[e._v("Exploring "+e._s(e.paths.length)+" paths. ")]):e._e(),t("CommandInput"),t("Graph",{attrs:{nodes:e.nodes,links:e.links}}),e._v(" "+e._s(e.pod)+" "),t("Comunica")],1)},o=[],s=t("b85c"),a=t("1da1"),u=(t("96cf"),t("d3b7"),t("3ca3"),t("ddb0"),t("c740"),t("a15b"),t("ac1f"),t("1276"),t("498a"),t("159b"),t("7db0"),t("8a79"),t("b0c0"),t("4de4"),{name:"Visu",components:{Graph:function(){return t.e("chunk-3ae91c72").then(t.bind(null,"46ef"))},Comunica:function(){return Promise.all([t.e("chunk-6b985693"),t.e("chunk-2dd7f266")]).then(t.bind(null,"905f"))},CommandInput:function(){return t.e("chunk-4232b21c").then(t.bind(null,"ffbf"))}},data:function(){return{nodes:[],links:[],paths:[],jump:0}},methods:{explore2:function(e){return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(e);case 1:case"end":return n.stop()}}),n)})))()},onInputObjectChange:function(e){var n,t,r;switch(console.log("onCommand",e),e.type){case"triplet":n=this.nodeFromLabel(e.value.subject),this.saveNode(n),t=this.nodeFromLabel(e.value.object),this.saveNode(t),console.log(n.url,t.url),r=this.edgeFromLabel({source:n.url,target:t.url,label:e.value.predicate}),console.log(r),this.saveEdge(r);break;case"url":console.log(e);break;default:console.log("TODO",e)}},saveNode:function(e){var n=this.nodes.findIndex((function(n){return n.url==e.url}));-1===n?this.nodes.push(e):Object.assign(this.nodes[n],e),this.sendUpdate(e)},saveEdge:function(e){console.log(e),console.log(this.links),this.links.push(e),console.log(this.nodes,this.links),this.sendUpdate(e)},nodeFromLabelVis:function(e){return{id:"#"+e.trim().split(" ").join("_"),label:e,color:{background:"#D2E5FF",border:"#2B7CE9"},shape:"ellipse"}},nodeFromLabel:function(e){var n=e.trim().split(" ").join("_");return{url:n,name:e}},edgeFromLabel:function(e){return console.log(e),{source:e.source,target:e.target,label:e.label}},edgeFromLabelVis:function(e){return{from:e.from,to:e.to,label:e.label}},sendUpdate:function(e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),console.log(n.url),console.log("le json",n.json);case 3:case"end":return t.stop()}}),t)})))()},exploreFriends:function(e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=n,r.jump++,e.friends.forEach(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(t){var o,s,a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(t),n.prev=1,void 0==t.webId){n.next=17;break}return o={url:t.webId,name:t.webId,type:"friend",color:"#00ff00",webId:t.webId},console.log(o),n.next=7,r.$getPodInfos(o);case 7:s=n.sent,console.log(s),a=r.nodes.find((function(e){return e.url==o.url})),console.log("exist",a),void 0==a&&r.nodes.push(o),r.links.push({source:e.webId,target:t.webId,label:"friend"}),u={url:s.storage,name:"storage",color:"#ffff00",type:"storage"},r.nodes.push(u),r.links.push({source:t.webId,target:s.storage,label:"storage"}),console.log(r.jump);case 17:console.log("webId undefined",t.webId),n.next=23;break;case 20:n.prev=20,n.t0=n["catch"](1),console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[1,20]])})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},explore:function(e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e),!e.endsWith("card#me")){t.next=7;break}return t.next=4,n.$getPodInfos({webId:e});case 4:r=t.sent,e=r.storage,n.exploreFriends(r);case 7:return o=n,t.next=10,n.$getResources(e);case 10:s=t.sent,s.forEach(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("file"!=t.type){n.next=3;break}return n.next=3,o.$getResource(t);case 3:console.log(t),o.nodes.push(t),o.links.push({source:e,target:t.url});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})))()},explore1:function(e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.paths.push(e),t.next=3,n.$getResources(e);case 3:r=t.sent,console.log(r),o=n,r.forEach((function(n){if("folder"==n.type)o.explore(n.url);else if(n.url.endsWith(".jsonld")||"application/ld+json"==n.file.type){n.color="#ffff00";var t=new FileReader;t.onload=Object(a["a"])(regeneratorRuntime.mark((function e(){var r,o,a,u,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.jsonld=JSON.parse(t.result),n.name=n.jsonld["name"],console.log("jsonld",n.jsonld["properties"]),r=Object(s["a"])(n.jsonld["properties"]);try{for(r.s();!(o=r.n()).done;){a=o.value,console.log(a),u=Object(s["a"])(a.values);try{for(u.s();!(i=u.n()).done;)c=i.value,console.log(c)}catch(l){u.e(l)}finally{u.f()}}}catch(l){r.e(l)}finally{r.f()}case 5:case"end":return e.stop()}}),e)}))),t.onerror=function(e){console.log(e)},t.readAsText(n.file)}else n.url.endsWith(".ttl")&&(n.color="#00ff00");"inbox"==n.name&&(n.color="#ffffff"),o.nodes.push(n),o.links.push({source:e,target:n.url})})),n.paths=n.paths.filter((function(n){return n!==e}));case 8:case"end":return t.stop()}}),t)})))()}},watch:{pod:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:null!=e.pod?(console.log(e.pod),t={url:e.pod.storage,name:"storage",color:"#ffff00",type:"storage"},e.nodes.push(t),r={url:e.pod.webId,name:e.pod.name||e.pod.webId,color:"#ff0000",type:"webId"},e.nodes.push(r),e.links.push({source:e.pod.webId,target:e.pod.storage,label:"storage"}),e.explore(e.pod.storage),e.exploreFriends(e.pod)):(e.nodes=[],e.links=[]);case 1:case"end":return n.stop()}}),n)})))()},mustExplore:function(){var e=this;if(null!=this.mustExplore){console.log("mustExplore",this.mustExplore);var n=this.nodes.find((function(n){return n.url=e.mustExplore})),t=this.mustExplore;console.log("exist ? ",n),void 0==n&&this.nodes.push({url:t,name:t,color:"#ff00ff",type:"storage"}),this.explore(this.mustExplore)}},inputObject:function(){this.onInputObjectChange(this.inputObject)}},computed:{pod:{get:function(){return this.$store.state.solid.pod},set:function(){}},mustExplore:{get:function(){return this.$store.state.app.mustExplore},set:function(){}},inputObject:{get:function(){return this.$store.state.app.inputObject},set:function(){}}}}),i=u,c=t("2877"),l=Object(c["a"])(i,r,o,!1,null,null,null);n["default"]=l.exports},"7db0":function(e,n,t){"use strict";var r=t("23e7"),o=t("b727").find,s=t("44d2"),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},a15b:function(e,n,t){"use strict";var r=t("23e7"),o=t("e330"),s=t("44ad"),a=t("fc6a"),u=t("a640"),i=o([].join),c=s!=Object,l=u("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return i(a(this),void 0===e?",":e)}})},c8d2:function(e,n,t){var r=t("5e77").PROPER,o=t("d039"),s=t("5899"),a="​᠎";e.exports=function(e){return o((function(){return!!s[e]()||a[e]()!==a||r&&s[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-3dc553a7.f9300d1e.js.map