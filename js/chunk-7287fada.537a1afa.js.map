{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/components/directed/Visu.vue?92f6","webpack:///src/components/directed/Visu.vue","webpack:///./src/components/directed/Visu.vue?3e21","webpack:///./src/components/directed/Visu.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","render","_vm","_h","$createElement","_c","_self","paths","_v","_s","_e","attrs","nodes","links","pod","staticRenderFns","name","components","data","jump","methods","watch","mustExplore","console","log","exist","explore","computed","get","set","component","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","fails","METHOD_NAME","argument","method","call"],"mappings":"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","file":"js/chunk-7287fada.537a1afa.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.paths.length>0)?_c('div',[_vm._v(\"Exploring \"+_vm._s(_vm.paths.length)+\" paths. \")]):_vm._e(),_c('Graph',{attrs:{\"nodes\":_vm.nodes,\"links\":_vm.links}}),_vm._v(\" \"+_vm._s(_vm.pod)+\" \"),_c('Comunica')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n\n    <div v-if=\"paths.length>0\">Exploring {{ paths.length }} paths.\n      <!-- <div v-if=\"paths.length <3\"> {{ paths}}</div> -->\n    </div>\n    <Graph :nodes=\"nodes\" :links=\"links\" />\n    {{ pod }}\n      <Comunica />\n    <!-- <Hello /> -->\n  </div>\n</template>\n\n<script>\n// import externalComponent from '@/utils/external-component';\n//\n// const Hello = () => externalComponent('https://components.solidcommunity.net/public/hello/Hello.bdd71b8bbb487af4de05.umd.min.js');\n\n\nexport default {\n  name: \"Visu\",\n  components: {\n    // 'ThreeScene': () => import('@/components/three/ThreeScene'),\n    'Graph': () => import('@/components/directed/Graph'),\n    'Comunica': () => import('@/components/dev/Comunica'),\n    // Hello\n    // HelloWorld\n  },\n  data(){\n    return{\n      nodes: [],\n      links: [],\n      paths: [],\n      jump: 0\n    }\n  },\n  methods: {\n    async explore2(path){\n      console.log(path)\n\n    },\n    async exploreFriends(pod){\n      let app = this\n      app.jump ++\n\n      pod.friends.forEach(async function(f){\n        console.log(f)\n        try{\n          if (f.webId != undefined){\n            let friendNode = {url: f.webId, name: f.webId, type: \"friend\", color: \"#00ff00\", webId: f.webId}\n            console.log(friendNode)\n            let p = await app.$getPodInfos(friendNode)\n            console.log(p)\n            let exist = app.nodes.find(x => x.url == friendNode.url)\n            console.log(\"exist\", exist)\n            exist == undefined ? app.nodes.push(friendNode) : \"\"\n            // app.nodes.push(friendNode)\n            app.links.push({source: pod.webId, target: f.webId, label: \"friend\"})\n            let storageNode = {url: p.storage, name: \"storage\", color: \"#ffff00\", type: \"storage\"}\n            app.nodes.push(storageNode)\n            app.links.push({source: f.webId, target: p.storage, label: \"storage\"})\n            console.log(app.jump)\n          }{\n            console.log(\"webId undefined\", f.webId)\n          }\n          // if (app.jump <4){\n          //   app.exploreFriends(p)\n          // }\n        }catch(e){\n          console.log(e)\n        }\n        //   try{\n        //   let friendNode = {url: f.webId, name: f.webId, type: \"friend\", color: \"#00ff00\", webId: f.webId}\n        //   app.nodes.push(friendNode)\n        //   app.links.push({source: pod.webId, target: f.webId, label: \"friend\"})\n        //\n        //\n        //   let p = await app.$getPodInfos(friendNode)\n        //   console.log(p)\n        //   let storageNode = {url: p.storage, name: \"storage\", color: \"#ffff00\", type: \"storage\"}\n        //   app.nodes.push(storageNode)\n        //   app.links.push({source: f.webId, target: p.storage, label: \"storage\"})\n        //   //   app.explore(p.storage)\n        //\n        //   if (app.jump <7){\n        //     app.exploreFriends(p)\n        //\n        //\n        //   }\n        // }catch(e){\n        //   console.log(e)\n        // }\n\n\n\n\n        // let f_pod = {webId: f}\n        // console.log(f)\n        // let pod = await app.$getPodInfos(f_pod)\n        // console.log(\"Friend\", pod)\n      })\n    },\n    async explore(path){\n      console.log(path)\n      if (path.endsWith('card#me')){\n        let p = await this.$getPodInfos({webId: path})\n        path = p.storage\n        this.exploreFriends(p)\n      }\n      let app = this\n      let resources = await this.$getResources(path)\n      resources.forEach(function(r){\n\n        app.nodes.push(r)\n        app.links.push({source: path, target: r.url})\n        // if (r.url.endsWith('/')){\n        //   app.explore(r.url)\n        // }\n\n      })\n    },\n\n    async explore1(path){\n      this.paths.push(path)\n      //  console.log(\"explore\", path)\n      let resources = await this.$getResources(path)\n      console.log(resources)\n      let app = this\n      resources.forEach(function(r){\n        if (r.type == \"folder\"){\n          app.explore(r.url)\n        }else if(r.url.endsWith('.jsonld') || r.file.type == \"application/ld+json\"){\n          r.color = \"#ffff00\"\n          const reader = new FileReader();\n          reader.onload = async () => {\n            //  console.log(reader.result)\n            r.jsonld = JSON.parse(reader.result)\n            r.name = r.jsonld[\"ve:name\"]\n            console.log(\"jsonld\",r.jsonld['ve:properties'])\n            for (const p of r.jsonld['ve:properties']){\n              console.log(p)\n              for (const v of p.values){\n                console.log(v)\n              }\n\n            }\n            // if (getContentType(file) == 'application+json'){\n            //   content = JSON.parse(reader.result);\n            // }\n            // console.log(\"content\",content)\n            // store.commit('bureau/setContent',content)\n          };\n          reader.onerror = (error) => {\n            console.log(error);\n          };\n          reader.readAsText(r.file);\n\n\n        }else if(r.url.endsWith('.ttl')){\n          r.color = \"#00ff00\"\n        }\n        if(r.name == \"inbox\"){\n          r.color = \"#ffffff\"\n        }\n        app.nodes.push(r)\n        app.links.push({source: path, target: r.url})\n\n      })\n      this.paths = this.paths.filter(e => e !== path);\n    }\n  },\n  watch:{\n    async pod(){\n      if (this.pod != null){\n        console.log(this.pod)\n        //  let app = this\n        let storageNode = {url: this.pod.storage, name: \"storage\", color: \"#ffff00\", type: \"storage\"}\n        this.nodes.push(storageNode)\n        let webIdNode = {url: this.pod.webId, name: this.pod.name || this.pod.webId, color: \"#ff0000\", type: \"webId\"}\n        this.nodes.push(webIdNode)\n        this.links.push({source: this.pod.webId, target: this.pod.storage, label: \"storage\"})\n        this.explore(this.pod.storage)\n        this.exploreFriends(this.pod)\n      }else{\n        this.nodes = []\n        this.links = []\n      }\n\n    },\n    mustExplore(){\n      if(this.mustExplore != null){\n        console.log(\"mustExplore\", this.mustExplore)\n        let exist = this.nodes.find(x => x.url = this.mustExplore)\n        let url = this.mustExplore\n        console.log(\"exist ? \", exist)\n        exist ==  undefined ? this.nodes.push({url:url, name: url, color: \"#ff00ff\", type: \"storage\"}) : \"\"\n        this.explore(this.mustExplore)\n      }\n    }\n  },\n  computed:{\n    pod:{\n      get () { return this.$store.state.solid.pod },\n      set (/*value*/) { /*this.updateTodo(value)*/ }\n    },\n    mustExplore:{\n      get () { return this.$store.state.app.mustExplore },\n      set (/*value*/) { /*this.updateTodo(value)*/ }\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Visu.vue?vue&type=template&id=63c8ecef&\"\nimport script from \"./Visu.vue?vue&type=script&lang=js&\"\nexport * from \"./Visu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n"],"sourceRoot":""}